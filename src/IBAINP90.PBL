.******************************************************************************
.* System         : Patient Management                                        *
.* Program        : IBAINP90                                                  *
.* Description    : Health Fund Claim Form Generation                         *
.******************************************************************************
.* Date           : 16/06/1994                                                *
.* Author         : Greg Horvat                                               *
.* Function       :                                                           *
.* Modifications  :                                                           *
.*                                                                            *
.******************************************************************************
.* V12.00.01  22/05/2025  Bella Turco    TSK 0955096                          *
.*            Alphanumeric changes                                            *
.* V11.04.01  27/11/2023  Peter Vela     TSK 0935874                          *
.*            Recompiled for PATHFCF - Added validation for PTCNUNET = 3      *
.* V11.03.02  17/10/2023  Peter Vela     TSK 0935874                          *
.*            Added parameter check for pmsihiaf                              *
.* V11.03.01  07/08/2023  J.Tan          TSK 0935137                          *
.*            Recompiled for PATHFCF - Checking Cat FI ind6=1 for printing    *
.* V11.01.02  28/10/2021  Sunny          TSK 0896110                          *
.*            Recompiled for PATHFCF - Added WADIM6                           *
.* V11.01.01  27/04/2021  Thanh T        TSK 0895165                          *
.*            Recompiled for OPRARDFD changes                                 *
.******************************************************************************
.*        V11.00.11 08/12/2020  J.Tan          Task 0896778                   *
.*                  Recompiled for PATHFCF - Added saved DTR variables        *
.*        V11.00.10 26/10/2020  J.Tan          Task 0896778                   *
.*                  Recompiled for PATHFCF - Fixed MBS Item description       *
.*        V11.00.09 06/10/2020  J.Tan          Task 0897709                   *
.*                  Recompiled for PATHFCF -allow more than 15 ICD codes      *
.*        V11.00.08 14/09/2020  J.Tan          Task 0888394                   *
.*                  Recompiled for PATHFCF -Fixed printing fds on multi pages *
.*        V11.00.07 31/08/2020  Tracey Nguyen  Task 0896149                   *
.*                  Recompiled for PATHFCF -                                  *
.*                  Commented out PHFC6712 to revert changes to Care Type     *
.*                  cat CC to use User Defined Field 3 as per pre 01/07/2020  *
.*        V11.00.06 21/07/2020  J.Tan          Task 0888394                   *
.*                  Recompiled for PATHFCF -Mod to print fields on multi pages*
.*        V11.00.05 05/06/2020  Jill Parkinson Task 0892648                   *
.*                  Recompiled for PATHFCF - July 2020 start date             *
.*        V11.00.04 18/05/2020  J.Tan          TSK 0891113                    *
.*                  Recompiled for PATHFCF - Added var 402 for PKADD4         *
.*        V11.00.03 08/04/2020  Tracey Nguyen  TSK 0889652                    *
.*                  Recompiled for PATHFCF (PRTHFCF) - statutory changes for  *
.*                  2020-2021                                                 *
.*        V11.00.02 10/03/2020  Tracey Nguyen  TSK 0848746                    *
.*                  Opened PATWR1A1 to fix I*C error in PATHFCF               *
.*                  (labels PHFC7075 and PHFC7080)                            *
.*                  Recompiled for PATHFCF (PRTHFCF)- Added variable fields   *
.*                  400(Insurance Company) and 401 (Insurance Policy Number/  *
.*                  Insurance Fund Membership Number)                         *
.*        V11.00.01 24/02/2020  J.Tan          TSK 0838262                    *
.*                  Recompiled for PATHFCF - Added Eff.from/todate to Item fil*
.*----------------------------------------------------------------------------*
.*        V10.15.01 06/12/2019 Jill Parkinson Task 0884621                    *
.*                  Recompiled for PATHFCF                                    *
.*        V10.14.03 29/07/2019  Don Nguyen       TSK 0877726                  *
.*                  Recompiled for PATHFCF (PRTHFCF) - Used PTCDUDF5 instead  *
.*        V10.14.02 25/07/2019  Don Nguyen       TSK 0877726                  *
.*                  Recompiled for PATHFCF (PRTHFCF) - Validate Admission Date*
.*                  for Bed Type, Care Class and Mental Health Legal Status.  *
.*        V10.14.01 18/02/2019  Ebon Clements    TSK 0829856                  *
.*                  Recompiled for GETEFDRG - Contract from effective date    *
.*        V10.10.01 22/03/2017  Thanh T.         TSK 0832066                  *
.*                  Recompiled for PATHFCF                                    *
.*        V10.08.03 25/11/2016  J.Tan            TSK 0825330                  *
.*                  Recompiled for PATHFCF - Accom.date when Contract ID chged*
.*        V10.08.02 31/08/2016  J.Tan            TSK 0321465 & 0319749        *
.*                  Recompiled for PATHFCF - Accom.date when Contract ID chged*
.*        V10.08.01 26/08/2016  Don Nguyen       TSK 0312570                  *
.*                  Recompiled for PATHFCF (GETDRG)                           *
.*                  Added PMSEDGFD/IO and GETEFDRG                            *
.*        V10.06.01 02/09/2015 Peter Vela        CAR 320878                   *
.*                  Recompiled for PATHFCF - Added PRFA Mobile Number         *
.*        V10.05.03 22/10/2014 J.Tan             CAR 306503                   *
.*                  Recompiled for PATHFCF - Invoice with multiple contract ID*
.*        V10.05.02 29/09/2014  Davin            CAR 305951                   *
.*                  Recompiled for PATHFCF - Changed fund membership number   *
.*        V10.05.01 18/09/2014  Davin          CAR 304204                     *
.*                  Recompiled for GETDRG - get drg vers based on disch date  *
.*        V10.04.01 17/02/2014  Don Nguyen        CAR 291879                  *
.*                  Recompiled for PATHFCF - Added Field 398                  *
.*        V10.03.07 18/04/2013  Ania P            CAR 281663                  *
.*                  Recompile for PATHFCF                                     *
.*        V10.03.06 05/03/2013  Patrick Adair     CAR 281898                  *
.*                  Recompiled for PATHFCF                                    *
.*        V10.03.05 13/02/2013  Jill Parkinson   CAR 278327                   *
.*                  Recompiled for PATHFCF  -RDMOP000 key change              *
.*        V10.03.04 12/02/2013  Peter Vela       CAR 278327                   *
.*                  Recompiled for PATHFCF                                    *
.*        V10.03.03 24/01/2013  Peter Vela       CAR 278327                   *
.*                  Recompiled for PATHFCF                                    *
.*        V10.03.02 20/08/2012 Steve Armstrong    CAR 501539                  *
.*                  Recompiled for changes to PATHFCF                         *
.*        V10.03.01 13/02/2012  J.Tan           CAR 259025                    *
.*                  Recompiled for PATHFCF - added Alternate Election         *
.******************************************************************************
.*        V10.02.04 03/10/2011  Davin            CAR 248953                   *
.*                  Recompiled for PATHFCF                                    *
.*        V10.02.03 19/09/2011  Davin            CAR 248749                   *
.*                  Recompiled for PATHFCF                                    *
.*        V10.02.02 07/07/2011  Steve Armstrong  CAR 240722                   *
.*                  Added RDPMPX21 prior to calling PMIHEAD                   *
.*        V10.02.01 04/04/2011 Jill Parkinson     CAR 239574                  *
.*                  Removed open of ibaprntf                                  *
.******************************************************************************
.*        V9.12.03  01/02/2010 Peter Vela         CAR 204672                  *
.*                  Recompiled for PATHFCF                                    *
.*        V9.12.02  Skipped a version                                         *
.*        V9.12.01  17/06/2009 Saroeun Soeur      CAR 198035                  *
.*                  Recompiled for PATHFCF                                    *
.******************************************************************************
.*        V9.10.01  15/05/2008 Ebon Clements      CAR 166566                  *
.*                  Recompiled for PATHFCF                                    *
.******************************************************************************
.*        V9.09.02  28/09/2007 Davin              CAR 149173                  *
.*                  Recompiled for PATHFCF - Added visit based Referring HCP  *
.*        V9.09.01  01/08/2007 J.Tan              CAR 145438                  *
.*                  Recompiled for PATHFCF - New fields for Total Bedfee chrgs*
.*                  02/08/2007 J.Tan              CAR 145810                  *
.*                  Recompiled for PATHFCF - Credit notes                     *
.******************************************************************************
.*        V9.08.06  28.04.2007  Peter Vela    CAR 139080                      *
.*                  Recompiled for PATHFCF - Removed validation for           *
.*                  Accomodation Code and Daily rate from VALTR100            *
.*        V9.08.05  10.04.2007  Peter Vela    CAR ??????                      *
.*                  Recompiled for PATHFCF                                    *
.*        V9.08.04  26/02/2007  Peter Vela    CAR 124542                      *
.*                  Recompiled for PATHFCF                                    *
.*        V9.08.03  23/02/3007  Peter Vela    CAR 124542                      *
.*                  Recompiled for PATHFCF                                    *
.*        V9.08.02  05/02/2007  Peter Vela    CAR 124542                      *
.*                  Recompiled for PATHFCF                                    *
.*        V9.08.01  01/02/2007  Peter Vela    CAR 124542                      *
.*                  Recompiled for PATHFCF                                    *
.******************************************************************************
.*        V9.07.03  04/09/2006  Peter Vela    CAR 113181                      *
.*                  Recompiled for PATHFCF                                    *
.*        V9.07.02  14/07/2006  Mike Laming   CAR 112161                      *
.*                  Re-compile for PATHFCF - fix "Print Last Invoice"         *
.*        V9.07.01  05/07/2006  Peter Vela    CAR 111267                      *
.*                  Recompiled for PATHCFC - Fixed I * C on ICD V5            *
.******************************************************************************
.*        V9.05.01  24/03/2006  Peter Vela    CAR 61299                       *
.*                  Recompiled for PATHFCF                                    *
.*        V9.05.B01 14/02/2006  Mike Laming   CAR 94247                       *
.*                  Recompiled for PATHFCF - fix extra Tran recd on Discharge *
.******************************************************************************
.*        V9.04.08  20/10/2005  Mike Laming   CAR 65745                       *
.*                  Recompiled for PATHFCF - fix Split Invoices               *
.*        V9.04.07  01/09/2005  Mike Laming  CAR 62428                        *
.*                  Re-compiled for PATHFCF & PATHFCVR - add vars & NEWBB000  *
.*                  Also add PATLINFD etc                                     *
.*        V9.04.06  23/08/2005  Peter Vela CAR 70514                          *
.*                  Added reads to pathspaf                                   *
.*        V9.04.05  12/08/2005  J.Tan      CAR 71717                          *
.*                  Recompiled for PATHFCF - missing MBS items                *
.*        V9.04.04  20/07/2005  J.Tan         CAR 68001                       *
.*                  Recompiled for PATHFCF                                    *
.*        V9.04.03  23/02/2005  Peter Vela       CAR 57547                    *
.*                  Recompiled for PATHFCF                                    *
.*        V9.04.02  17/12/2004  Peter Vela       CAR 55723                    *
.*                  Recompiled for PATHFCF                                    *
.*        V9.04.01  26/11/2004  Peter Vela       CAR 55477                    *
.*                  Recompiled for PATHFCF                                    *
.*                  Added includes for OPRARDFD                               *
.******************************************************************************
.*        V9.03.04  26/05/2004  Pat Dirito       CAR 50035                    *
.*                  Recompiled for PATHFCF & added var MVDAYS                 *
.*        V9.03.03  29/03/2004  Mike Laming   CAR 45023                       *
.*                  Re-compile for PATHFCF - add code to test PTEOTYPE        *
.*        V9.03.02  28/11/2003  Mike Laming  CAR 37514                        *
.*                  Recompiled for PATHFCF - add Disch Ind "Z"                *
.*        V9.03.01  20/08/2003  CAR 42308   Mike Laming                       *
.*                  Recompiled for PATHFCF - Fix printing MBS Items on 2nd    *
.*                  page (also effects/fixes Accom. lines on page 2)          *
.* ***************
.*        V9.02.16  04/03/2003  J.Tan  SRF 36875                              *
.*                  Recompiled for PATHFCF                                    *
.*        V9.02.15  04/12/2002  Tonii  SRF 33987 (rebound)                    *
.*                  Recompiled for PATHFCF                                    *
.*        V9.02.14  29/11/2002  Tonii  SRF 33987                              *
.*                  Recompiled for PATHFCF                                    *
.*        V9.02.13  27/11/2002  Tonii  SRF 33973                              *
.*                  Recompiled for PATHFCF                                    *
.*        V9.02.12  12/11/2002  Guomin Fu   SRF 21995                         *
.*                  Recompiled for PATHFCF                                    *
.*                  Fixed discharge code not printed correctly for deseased   *
.*                  patient                                                   *
.*        V9.02.11  20/09/2002  Peter Vela   SRf 17859                        *
.*                  Recompiled for PATHFCF                                    *
.*                  Fixed MBS Items display. When patmmbsf validates against  *
.*                  patdtraf, the code did not loop back to look through prev *
.*                  records.                                                  *
.*        V9.02.10  09/09/2002  Peter Vela   SRF 17859                        *
.*                  Recompiled for PATHFCF - Fixed the bug: reading wrong bed *
.*                  fees from "patdtraf". This bug resulted in bed fees not   *
.*                  matching between printing invoice (IBABIL20) and printing *
.*                  h/f claim forms.                                          *
.*        V9.02.09  29/07/2002  RDean Cramer SRF 17680                        *
.*                  Recompiled for PATHFCF - multiple other services amount   *
.*        V9.02.08  02/07/2002  Mike Laming  SRF 18067                        *
.*                  Add Interim Claims - variables incl. PTCNUICF             *
.*                  Recompiled for PATHFCF - change routine to read Bed Fees  *
.*                  from "patdtraf" (rather than pattranf), alter warning msg.*
.*        V9.02.07  22/05/2002  J.Tan                                         *
.*                  Recompiled for PATHFCVR                                   *
.*        V9.02.06  20/05/2002  J.Tan                                         *
.*                  Recompiled for casemix billing                            *
.*        V9.02.05  14/03/2002  Dean Cramer                                   *
.*                  Recompiled for PATHFCF - Transfer In & Transfer Out       *
.*                                           via patdadaf & patvadaf          *
.*        V9.02.04  08/03/2001  J.Tan                                         *
.*                  Recompiled for PATHFCF - age, admission no.               *
.*        V9.02.03  07/12/2001  Tonii                                         *
.*                  Recompiled for PATHFCF - Casemix Mods                     *
.*        V9.02.02  01/11/2001  Greg Horvat                                   *
.*                  recompiled for PATHFCF - Added xtra option to the         *
.*                  parameter PTCNDSCI                                        *
.*        V9.02.01  22/09/2001  Tonii  SRF 13075                              *
.*                  Recompiled for PATDINVS                                   *
.******************************************************************************
.*        V5.10.B01 17/04/2001  Steve Downing  SRF 7552                       *
.*                  Recompiled for PATHFCF - use GETDRG to get Grouper version*
.******************************************************************************
.*        V5.08.10  01/12/2000  Ebon Clements    SRF 1687                     *
.*                  Check for stationary type 5 in KYST0000 not type 6        *
.*        V5.08.09  03/11/2000  Dean Cramer      SRF 6909                     *
.*                  Recompiled for GETDRG via PATHFCF                         *
.*        V5.08.08  02/11/2000  Dean Cramer      SRF 6909                     *
.*                  Recompiled for GETDRG via PATHFCF                         *
.*                  Clear DRG & MDC code variables so previously read codes   *
.*                  are not returned when none are detected by the get process*
.*                  Also extract these codes from the discharge file for use  *
.*                  as default values.                                        *
.*        V5.08.07  27/10/2000  Dean Cramer   SRF 6710                        *
.*                  Recomplied for PATFNDDS via PATFNDKY                      *
.*                  Changed for health fund table code size increase to       *
.*                  8 characters                                              *
.*        V5.08.06  19/09/2000  Tonii                                         *
.*                  Recompiled for PATSHEET,PATSHT4 & PATHFCF                 *
.*        V5.08.05  15/09/2000  Jill Habasque                                 *
.*                  Recompiled for PATHFCF                                    *
.*        V5.08.04  16/08/2000  Caleb Sharman                                 *
.*                  Changed Health Fund variables to be 8 chars               *
.*        V5.08.03  10/08/2000  J.Tan                                         * .*                  Mods stationery code to be 5 for health fund claim form   *
.*        V5.08.02  06/06/2000  Tonii                                         *
.*                  Changed from KEY10 to KEY14 for the health fund file      *
.*        V5.08.01  01/05/2000  Greg Horvat                                   *
.*                  Changed to open patmx1af when opening patma1af            *
.*        V5.08.B01 15/03/2000  Greg Horvat                                   *
.*                  Changed to get the coding from the episode coding files   *
.*        V5.07.01  08/04/1999  Davin                                         *
.*                  Ported from 6.06                                          *
.******************************************************************************
.*        V6.06.01  10/02/1999  Jill Habasque                                 *
.*                  Fixed DISPHEAD display                                    *
.*        V6.05.05  16/12/1998  Jill Habasque                                 *
.*                  Fixed Warning display                                     *
.*        V6.05.04  08/12/1998  Nicole Harrington                             *
.*                  Removed CCENTRY                                           *
.*        V6.05.03  23/11/1998  J.Tan   SRF 629110                            *
.*                  Recompiled for PATDINVS - amount to be FORM7.2            *
.*        V6.05.02  30/10/1998  Jill Habasque                                 *
.*                  Changes to display century 
.*        V6.05.01  30/07/1998  Katie Nelson                                  *
.*                  Recompiled for PATHFCF - to include web server flag       *
.*        V6.05.B01 11/06/1998  Steve Armstrong                               *
.*                  Recompiled for change in DRG from 3 to 4 chars.           *
.******************************************************************************
.*        V6.04.15  05/03/98 J.Tan      SRF 624528                            *
.*                  Recompiled for PATHFCF - No daily charge for Casemixdaycas* 
.*        V6.04.14  28/01/98 J.Tan      SRF 623522                            *
.*                  Recompiled for PATHFCF - Fixed Lumpsum                    *
.*        V6.04.13  03/10/1997  Greg Horvat                                   *
.*                  Added patient alerts                                      *
.*        V6.04.12  25/07/97 J.Tan                                            *
.*                  Recompiled for PATHFCF - added casemix code variable      *
.*        V6.04.11  20/05/97 J.Tan                                            *
.*                  Recompiled for PATHFCF - added lumpsum payment variables  *
.*        V6.04.10  23/04/1997  Greg Horvat      SRF 619665 619783 Quote 8839 *
.*                  Recompiled for PATHFCF                                    *
.*        V6.04.09  08/04/1997  Greg Horvat      SRF 619533                   *
.*                  Recompiled for PATHFCF - Changed to print accomodation    *
.*                  records for daycase patients                              *
.*        V6.04.08  26/03/1997  Greg Horvat                                   *
.*                  Recompiled for PATHFCF                                    *
.*        V6.04.07  24/03/1997  Greg Horvat      SRF 618919 619381            *
.*                  Recompiled for PATHFCF - Changed to only print the last   *
.*                  transfer record on the discharge date & changed to print  *
.*                  5 or MBS codes correctly                                  *
.*        V6.04.06  11/03/1997  Greg Horvat                                   *
.*                  Recompiled for PATHFCF - Problem printing MBS details     *
.*        V6.04.05  26/02/1997  Greg Horvat                                   *
.*                  Recompiled for PATHFCF - Changed to print att doctor type *
.*        V6.04.04  20/02/1997  Greg Horvat      SRF 617399                   *
.*                  Recompiled for PATHFCF - Changed the accom type to be     *
.*                  extracted by either the bed type or the admin type        *
.*        V6.04.03  19/02/1997  Greg Horvat      SRF 618814                   *
.*                  Recompiled for PATHFCF - Changed to only print a new page *
.*                  if required                                               *
.*        V6.04.02  14/01/1996  Greg Horvat      SRF 618417                   *
.*                  Recompiled for PATHFCF - Added MBS code descriptions &    *
.*                  daycase bandings                                          *
.*        V6.04.01  12/12/1996  Greg Horvat      Holy Spirit Mods             *
.*                  Recompiled for PATDINVS                                   *
.*                                                                            *
.*        V6.03.12  19/09/1996  Greg Horvat      SRF 616783                   *
.*                  Recompiled for PATHFCF - Changed to print the correct     *
.*                  operation start & end times                               *
.*        V6.03.11  29/04/96 J.Tan    SRF 615021                              *
.*                  Recomp.for PATHFCF - fixed amount of same MBS on same date*
.*        V6.03.10  17/04/96 J.Tan    SRF 614903                              *
.*                  Recompiled for PATHFCF - paper length for multiple pages  *
.*        V6.03.09  15/04/1996  Greg Horvat      SRF 614771                   *
.*                  Recompiled for PATHFCF - Changes for attending doctor     *
.*        V6.03.08  06/02/1996  Steve Armstrong   SRF 613695                  *
.*                  Recompiled for PATHFCF                                    *
.*        V6.03.07  19/01/1996  Steve Armstrong   SRF 613601                  *
.*                  Recompiled for changes to PATHFCF                         *
.*        V6.03.06  20/12/1995  Steve Armstrong                               *
.*                  Recompiled for changes to PATHFCF                         *
.*        V6.03.05  28/11/1995  Steve Armstrong                               *
.*                  Mods to include new template variables for National       *
.*                  Claim Form (PATHFCF).                                     *
.*        V6.03.04  27/10/1995  Greg Horvat      SRF 612064 612205 612206     *
.*                  Recompiled for changes to NHOSPDAY                        *
.*        V6.03.03  13/10/1995  Greg Horvat      SRF 611811 (Rebound)         *
.*                  Recompiled for PATDINVS                                   *
.*        V6.03.02  11/10/1995  Greg Horvat      SRF 611811                   *
.*                  Changed to use CALCDAYS instead of CALC when calculating  *
.*                  the difference between two dates                          *
.*        V6.03.01  04/09/1995  Greg Horvat      SRF 611419                   *
.*                  Recompiled for PATDINVS                                   *
.*        V6.03.B00 13/01/1995  Greg Horvat      New Release 6.03             *
.*                  Recompiled for PATHFCF - Added new variables              *
.*                                                                            *
.******************************************************************************
.
          INC       STD001FD
.
          INC       IBACONFD/INC
          INC       IBALPCFD/INC
          INC       IBAPRNFD/INC            * Variables & FD's for IBASPOOL
          INC       IBATMDFD/INC            * User defined stationery file -
.                                             printing details
          INC       IBATMHFD/INC            * User defined stationery file -
.                                             IBA header
          INC       IBAVARFD/INC            * User defined stationery file -
.                                             variable definition
.
          INC       OPRARDFD/INC            * theatre arrival/recovery details
.                                                                      *I-55477
          INC       OPRDEAFD/INC            * operation detail file
          INC       OPRDECFD/INC            * operation usage file
          INC       PATALRFD/INC            * patent alert codes file
          INC       PATCALAG/INC            * Include for CALCAGE
          INC       PATCODFD/INC            * Codes table file
          INC       PATCONFD/INC            * Controlf file definition file
          INC       PATDGWFD/INC            * DRG file
          INC       PATDHEAD/INC            * Include for PATHEAD
          INC       PATDINVS/INC            * Include invoice variables
          INC       PATCFAFD/INC
          INC       PATDO1FD/INC            * Doctors file
          INC       PATDSCFD/INC            * Patient discharge file
          INC       PATDTRFD/INC            * Patient debtors trans. file
          INC       PATFN1FD/INC            * Health fund file
          INC       PATFX1FD/INC
          INC       PATHFCVR/INC
          INC       PATHSPFD/INC
          INC       PATICDFD/INC            * ICD-9CM diseases file
          INC       PATICUFD/INC            * ICU file
          INC       PATINVFD/INC            * Patient invoice file
          INC       PATITMFD/INC            * Patient item fileA
          INC       PATPGRFD/INC            * Patient grouper file
          INC       PATLINFD/INC            * UR Linkage Details       *I-62428
          INC       PATMA1FD/INC            * Patient master file
          INC       PATMI1FD/INC            * Patient admission file
          INC       PATNOBFD/INC            * No bed file
          INC       PATRE1FD/INC            * Person resp. for account file
          INC       PATTRNFD/INC            * Patient transfer file
          INC       PATWR1FD/INC            * Patient ward file
          INC       PATVISFD/INC            * Visit file
          INC       PMSFCIFD/INC            * Credit note file
          INC       PMSHCPFD/INC            * HCP table
          INC       PMSIHIFD/INC            * IHI Details
          INC       PMSPX2FD/INC            * PMI extension table
          INC       PMSVX1FD/INC            * Visit extension file
          INC       WEBSECFD/INC
          INC       PMSCCDFD/INC
          INC       PMSTLEFD/INC
          INC       PMSEXTFD/INC
          INC       PMSEDGFD/INC       * Effective DRG Dates
.
. ----- Program Variables -----
.
BCCERCNT  FORM      1
BCCERINB  DIM       1
BCCERINC  DIM       1
.
CHGCONTR  FORM      1
CALDAYS   FORM      4
CDYSDAYS  FORM      6
CDYSFDTE  DIM       8
CDYSTDTE  DIM       8
CDYSYEAR  FORM      2
CLMCDALL  FORM      1                       * Claim code type
CLAMCODE  DIM       3                       * Claim code
CODE      DIM       3                       * Category for KEYINCOD
CURRDAT8  DIM       8                       * Current date (CCYYMMDD)
DSCPFLAG  FORM      1                         
DAYCLAIM  FORM      6[4]
.
DTRITEM   DIM        9
DTRAMTT   FORM      12.2
DAYCASE   FORM      1                       * Day case type
DDRGCODE  DIM       4
.DMDCCODE  DIM       4
DIM1A     DIM       1
DIM2A     DIM       2
DIM18     DIM       18
DIM4      DIM       4
DIM4A     DIM       4
DIM4B     DIM       4
DIM4C     DIM       4
DISPFLAG  FORM      1
.DRGVER    DIM       3
DTGTNTRD  FORM      1                       * Dont get next transfer record flag
.
DTRTDATE  DIM       8
DTRTCENT  DIM       8
DTRTYEAR  DIM       8
DTRTMNTH  DIM       8
DTRTTDAY  DIM       8
.
DTRIDESC  DIM       30
DTRDDATE  DIM       8
DTRDCENT  DIM       8
DTRDYEAR  DIM       8
DTRDMNTH  DIM       8
DTRDTDAY  DIM       8
.
EOSFLG    FORM      1                       * End of string flag for health fund
.
FINIDAT8  DIM       8                       * Finish date (CCYYMMDD)
FDTRTDAT  FORM      8
FDTRDDAT  FORM      8
FSTDATE   FORM      8
.
HELFDALL  FORM      1                       * Health fund type
HELTHFND  DIM       6                       * Health fund
HFCFCONT  FORM      3                       * Counter of records printed
HFCFDTE   DIM       8                       * Int'm date from (CCYYMMDD)I-90208
HFCFINVN  DIM       8                       * Save last invoice number *I-90208
HFCTDTE   DIM       8                       * last "Invoice Printed" date      
.
IHINUMBR  DIM       20                      * IHI Number
INVFLAG   FORM      1                                                  *I-90208
.
JYEAR     FORM      2
.
MBINVFLG  FORM      1                       * Is item on invoice? (0=Yes/1=No)
.
OPCNFOTM  FORM      1
OPCNTOTM  FORM      1
.
SKIPFLAG  FORM      1
SAVKY30B  DIM       30
SKEY10    DIM       10
STATNCOD  DIM       6                       * Stationery code
STRTDAT8  DIM       8                       * Start date (CCYYMMDD)
.
WADIM6    DIM       6
WDATE1    DIM       8                       * Todate for NHOSPDAY
WDATE2    DIM       8                       * Fromdate for NHOSPDAY
.
CFPAYCOD  DIM       3        * 3M Codefinder PAY Code
.
.
. ----- Program Constants -----
.
ALLCODES  INIT      "All Codes"
ALLHELFD  INIT      "All Health Funds"
.
CATA      INIT      "A "
CATAC     INIT      "AC"
CATC      INIT      "C "
CATCR     INIT      "cr"
CATDD     INIT      "DD"
CATKN     INIT      "KN"
CATLA     INIT      "LA"
CATLS     INIT      "LS"
CATU1     INIT      "U1"
CATU2     INIT      "U2"
CATU3     INIT      "U3"
CATU4     INIT      "U4"
CATU5     INIT      "U5"
CATVI     INIT      "VI"
CATW0     INIT      "w0"
.
HUNDRED3  FORM      "103"
.
SP27      INIT      "                           "
SP50      INIT      "                                                  "
SP100     INIT      "                                                  ":
                    "                                                  "
.
ZED10     INIT      "zzzzzzzzzz"
ZERO4     INIT      "0000"
.ZERO8     INIT      "0000    "
.
PRGID     INIT      "IBAINP90"
PRGNAM    INIT      "Health Fund Claim Form Generation"
VERSION   INIT      "V12.01.00"
+
.******************************************************************************
.*                                  ML0000                                    *
.*                                Main Module                                 *
.******************************************************************************
.
ML0000    CALL      INIT0000                * Open file & initialize variables
ML1000    CALL      OPTN0000                * Choose option
          BRANCH    EXIT,ML9999
          BRANCH    OPTION,ML2000,ML3000,ML4000,ML5000,ML6000
.                          Lin up,Ad no, Dis date, Ad date
.
ML2000    CALL      LNUP0000                * Line up print
          GOTO      ML1000
.
ML3000    CALL      ADMN0000                * By admission number
          GOTO      ML1000
.
ML4000    CALL      DSDT0000                * By discharge date
          GOTO      ML1000
.
ML5000    CALL      ADDT0000                * By admission date
          GOTO      ML1000
.
ML6000    CALL      INVN0000                * By Invoice number
          GOTO      ML1000

ML9999    CHAIN     PGM
+
.******************************************************************************
.*                                 INIT0000              Called by : ML0000   *
.*                     Open files & initailize variables                      *
.******************************************************************************
.
INIT0000  CALL      DISPHEAD                * Display screen header
.
          CALL      SELPRINT                * Select printer for printing
.
          DISPLAY   *P1:3,*EF:
                    *P56:24,"Opening controlf";
          OPEN      CONTROLF,"controlf"
.
                                            * Read Interim Claims Ind. *I-90208
          READ      CONTROLF,HUND09;*159,PTCNUICF                      *I-90208
.
          DISPLAY   *P64:24,"ibatmdaf";
          OPEN      IBATDET1,"ibatmdaf"
.
          DISPLAY   *P64:24,"ibatmhaf";
          OPEN      IBATMHA1,"ibatmhaf"
.
          DISPLAY   *P64:24,"ibavaraf";
          OPEN      IBAVARD1,"ibavaraf"
          OPEN      IBAVARD2,"ibavaraf"
.
          DISPLAY   *P64:24,"oprardaf";                                *I-55477
          OPEN      OPRARDA1,"oprardaf"
          OPEN      PMSEXTA1,"pmsextaf"
.
          MOVE      ZERO,OVRCD
          DISPLAY   *P64:24,"oprdetaf";
          TRAP      OVERCOND IF IO
          OPEN      OPRDETA2,"oprdetaf"
          TRAPCLR   IO
          MOVE      OVRCD,OPRFOUND
          BRANCH    OVRCD,INIT1000               * not using opr
.
          DISPLAY   *P64:24,"oprdetcf";
          OPEN      OPRDETC1,"oprdetcf"
.
INIT1000  DISPLAY   *P64:24,"patcodes";
          OPEN      PATCODE1,"patcodes"
.
          DISPLAY   *P64:24,"patdo1af";
          OPEN      PATDO1A1,"patdo1af"
.
          DISPLAY   *P64:24,"patdschf";
          OPEN      PATDSCH1,"patdschf"
          OPEN      PATDSCH2,"patdschf"
.
          DISPLAY   *P64:24,"patlinkf";                                *I-62428
          OPEN      PATLINK1,"patlinkf"                                *I-62428
.
          DISPLAY   *P64:24,"patitemn";
          OPEN      PATITEM1,"patitemn"
.
          DISPLAY   *P64:24,"patdtraf";
          OPEN      PATDTRA1,"patdtraf"
.
          DISPLAY   *P64:24,"patfn1af";
          OPEN      PATFN1A1,"patfn1af"
.
          DISPLAY   *P64:24,"paticddf";
          CALL      OPICD1              
.
          DISPLAY   *P64:24,"patinvrf";
          OPEN      PATINVR3,"patinvrf"
.
          DISPLAY   *P64:24,"patinvrf";
          OPEN      PATINVR3,"patinvrf"
.
          DISPLAY   *P64:24,"patinvrf";
          OPEN      PATINVR1,"patinvrf"
.
          DISPLAY   *P64:24,"patitemn";
          OPEN      PATITEM1,"patitemn"
.
          DISPLAY   *P64:24,"patma1af";
          OPEN      PATMA1A1,"patma1af"
.
          DISPLAY   *P64:24,"patmx1af";
          OPEN      PATMX1A1,"patmx1af"
.
          DISPLAY   *P64:24,"patmi1af";
          OPEN      PATMI1A1,"patmi1af"
          OPEN      PATMI1A3,"patmi1af"
.
          DISPLAY   *P64:24,"patnobef";
          OPEN      PATNOBE1,"patnobef"
.
          DISPLAY   *P64:24,"patre1af";
          OPEN      PATRE1A1,"patre1af"
.
          DISPLAY   *P64:24,"pattranf";
          OPEN      PATTRAN2,"pattranf"
.
          DISPLAY   *P64:24,"patwr1af";
          OPEN      PATWR1A1,"patwr1af"
.
          DISPLAY   *P64:24,"patwr1af";
          OPEN      PATWR1A4,"patwr1af"
.
          DISPLAY   *P64:24,"patvisaf";
          OPEN      PATVISA1,"patvisaf"
.
          DISPLAY   *P64:24,"pmspx2af";
          OPEN      PMSPX2A1,"pmspx2af"
.
          DISPLAY   *P64:24,"pmshcpaf";
          OPEN      PMSHCPA1,"pmshcpaf"
.
          DISPLAY   *P64:24,"pmsvx1af";
          OPEN      PMSVX1A1,"pmsvx1af"
.
          DISPLAY   *P64:24,"pathspaf";
          OPEN      PATHSPA1,"pathspaf"
.
          DISPLAY   *P64:24,"websecaf";
          OPEN      WEBSECA1,"websecaf"
.
          DISPLAY   *P64:24,"pmsccdaf";
          OPEN      PMSCCDA1,"pmsccdaf"
.
          DISPLAY   *P64:24,"pmsctlef";
          OPEN      PMSTLEA1,"pmstleaf"
.
          READ      CONTROLF,TEN;*54,CFILENO,*79,CAPPRVNO
          READ      CONTROLF,TEN3;*1,CHADD1,CHADD2,CHPOST,CHPADD1,CHPADD2:
                                     CHPPOST
          READ      CONTROLF,TEN5;*190,CKMBS,*249,CRDRTYP
          READ      CONTROLF,TWENTY1;*45,PTCNDRSM,*77,PT3BHOSP         *I-57547
          READ      CONTROLF,FORTY2;*19,OPCNFOTM,*20,OPCNTOTM
          READ      CONTROLF,SEVENTY9;*82,PTCNDSCI,*94,PTCNADTT,*95,PTCNDSTT
          READ      CONTROLF,EIGHTY8;*234,PTCNNCFB,*241,PTCNCSTA       *I-57547
          READ      CONTROLF,ZERO;*43,IBCNMHOS
          READ      CONTROLF,HUNDRED3;*220,PTCNDEES,*221,PTCNDDES
          READ      CONTROLF,HUND20;*158,PTCNUNET
.
          MATCH     "0",PTCNUNET
          IF        !@EQUAL
            DISPLAY   *P64:24,"pmsihiaf";
            OPEN      PMSIHIA1,"pmsihiaf"    * IHI Details
          ENDIF
.
          PACK      CURRDAT8,CCC,CYY,CMM,CDD
          REP       " 0",CURRDAT8
          MOVE      "11111111",ALRTMASK
INIT9999  RETURN
+
.******************************************************************************
.*                                 OPTN0000              Called by : ML0000   *
.*                             Choose an Option                               *
.******************************************************************************
.
OPTN0000  MOVE      ZERO,EXIT
          MOVE      ZERO,DISPFLAG
          MOVE      ZERO,HFCFCONT           * Reset Claim Form counter
          MOVE      ZERO,OPTION
          CALL      DISPHEAD
          DISPLAY   *P1:3,*EF:
                    *P1:4,*V2LON,"0",*HOFF," = Exit":
                    *P1:5,*V2LON,"1",*HOFF," = Line Up Print":
                    *P1:6,*V2LON,"2",*HOFF," = By Admission Number":
                    *P1:7,*V2LON,"3",*HOFF," = For a Range of Discharge Dates":
                    *P1:8,*V2LON,"4",*HOFF," = For a Range of Admission Dates":
                    *P1:9,*V2LON,"5",*HOFF," = By Invoice Number":
                    *P1:11,"Select Option : "
.
OPTN1000  KEYIN     *P17:11,*V2LON,OPTION;
          BRANCH    OPTION,OPTN9999,OPTN9999,OPTN9999,OPTN9999,OPTN9999
.                          Add      Change   Delete
.
          COMPARE   ZERO,OPTION
          GOTO      OPTN9000 IF EQUAL
.
          BEEP
          GOTO      OPTN1000
.
OPTN9000  MOVE      ONE,EXIT
OPTN9999  RETURN
+
.******************************************************************************
.*                                 INVN0000              Called by : ML0000   *
.*                            Keyin Invoice Number                            *
.******************************************************************************
.
INVN0000  DISPLAY   *P57:2,*V2LON,"- By Invoice Number"
          UNPACK    SP70,HFCFINVN,HFCFDTE,HFCTDTE
.
INVN1000  KEYIN     *P1:3,*EF,*P1:4,"Invoice Number : ":
                    *V2LON,*JR,DIM8;
.
          ENDSET    DIM8
          APPEND    SP8,DIM8
          RESET     DIM8
.
          MATCH     SP8,DIM8
          GOTO      INVN9999 IF EQUAL
.
INVN1500  PACK      KEY8,DIM8,SP70
          CALL      RDINV1                  * read the Invoice file
          IF        OVRCD = 1
            DISPLAY   *P1:24,*EL,*B,"Invalid Invoice number.   ";
            CALL      HITENTER
            GOTO      INVN1000
          ENDIF
.
          IF        PINVTYP = 2
            DISPLAY   *P1:24,*EL,*B,"Not a Health Fund Invoice - ";
            CALL      HITENTER
            GOTO      INVN1000
          ENDIF
.
.                                           * get the Invoice details
          DISPLAY   *P1:6,"Admission No.  : ",*V2LON,PINVADM,*HOFF;
          MOVE      PINVNO,HFCFINVN         * save the Invoice number
          MOVE      PINVDTE,HFCTDTE        * Invoice date
          MOVE      PINVADM,KEY8            * get the Admission
.
          CALL      RDMISS1                 * Read the admin file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Invalid admission number.   ";
            CALL      HITENTER
            GOTO      INVN1000
          ENDIF
.
          IF          ASTAT=3
            PACK      KEY8,AADMNO
            CALL      RDDSCH1               * Read the discharge file
            IF        OVRCD=1
              DISPLAY   *P1:24,*EL,*B,"Invalid admission number.   ";
              CALL      HITENTER
              GOTO      INVN1000
            ENDIF
          ENDIF
.
          PACK      KEY8,AURNO
          CALL      RDMAST1                 * Read the master file
          BRANCH    OVRCD,INVN1000          * Missing master record, read next
.
          PACK      KEY8,PURNO
          CALL      RDPMPX21
          BRANCH    OVRCD,INVN1000
.
          CALL      GPTEXT00                * extra compensable
.                                           * get the previous Invoice (if one)
          MOVE      ADATE,HFCFDTE
          PACK      KEY16,AADMNO,PINVNO,SP30
          CALL      RDINV3
INVN1550  CALL      RDPINV3                      * read previous invoice
          BRANCH    OVRCD,INVN2000
.
          COMPARE   TWO,PINVTYP             * check if "Patient Portion" Invoice
          GOTO      INVN1550 IF EQUAL       * then bypass              *I-65745
.
          MATCH     AADMNO,PINVADM               * check same adm.
          IF        @EQUAL
            MOVE      PINVDTE,HFCFDTE       * "from" Invoice date
          ENDIF
.
INVN2000  CALL      PATHEAD                 * Display standard patient details
.
. ----- Display Invoice Number and Dates    -----
.
          UNPACK    HFCFDTE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE                 * Format Invoice "from" date
          MOVE      CPCDATE,DIM10
          UNPACK    HFCTDTE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE                 * Format Invoice "to" date
          DISPLAY   *P1:7,"Invoice No.  : ",*V2LON,HFCFINVN,*HOFF:
                    *P32:7,"Invoice period : ",*V2LON,DIM10,*HOFF:
                    " to ",*V2LON,CPCDATE;
.
. ----- Display the health fund & description -----
.
          PACK      KEY14,PFUNDH,ZERO8
          CALL      RDFUND1                 * Read the health fund file
          IF        OVRCD=1
            MOVE      SP30,HFNAME
          ENDIF
          DISPLAY   *P1:9,"Health Fund       : ",*V2LON,PFUNDH:
                    *P31:9,*HOFF,HFNAME
.
. ----- Display the health fund table & description -----
.
          PACK      KEY14,PFUNDH,PFNDTB
          CALL      RDFUND1                 * Read the health fund file
          IF        OVRCD=1
            MOVE      SP30,HFNAME
          ENDIF
          DISPLAY   *P1:10,"Health Fund Table : ",*V2LON,PFNDTB:
                    *P31:10,*HOFF,HFNAME
. ----- Display the claim code & description -----
.
          MOVE      "CL",TCODE
          PACK      KEY5,TCODE,ACLAIM
          CALL      RDCODE1                 * Read the patient codes file
          IF        OVRCD=1
            MOVE      SP20,TDESC
          ENDIF
          DISPLAY   *P1:11,"Claim Code        : ",*V2LON,ACLAIM:
                    *P31:11,*HOFF,TDESC
.
. ----- Keyin the stationery code -----
.
INVN3000  MOVE      "13",CVERT
          CALL      KYST0000                * Keyin the stationery code
          BRANCH    EXIT,INVN1000
.
. ----- Verify the stationery code -----
.
          MOVE      STATNCOD,IBDTSCOD
          PACK      KEY12,IBDTSCOD,SP10
          CALL      RSIBDET1                * Position on the stationery code
.                                             print file
          CALL      RKIBDET1                * Read the stationery code print
.                                             file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      INVN3000
          ENDIF
.
          MATCH     STATNCOD,IBDTSCOD       * Match stationery codes
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      INVN3000
          ENDIF
.
          CALL      CONTQST                 * O.K. to continue ?
          BRANCH    CEXIT,INVN4000,INVN3000,INVN1000
.                         Yes      No       Cancel
.
. ----- Print the user defined health fund claim form -----
.
INVN4000  DISPLAY   *P1:24,*EL,*P21:24,"*** Printing Claim Form for ",*V2LON:
                    AADMNO,*HOFF," ***"
.
          MOVE      HFCTDTE,ALACDTE
          MOVE      ZERO,PTCNUICF           * don't use "CALL CUICF000"
          MOVE      TWO,INVFLAG             * claim for last inv.dates
          CALL      PRTHFCF                 * Print the user defined health
.                                             fund claim form
          DISPLAY   *P1:24,*EL
          GOTO      INVN1000
.
INVN9999  MOVE      ZERO,EXIT
          READ      CONTROLF,HUND09;*159,PTCNUICF   * restore param.
          UNPACK    SP70,HFCFINVN,HFCFDTE,HFCTDTE
          MOVE      ZERO,INVFLAG
          RETURN
+
.******************************************************************************
.*                                 LNUP0000              Called by : ML0000   *
.*                               Line Up Print                                *
.******************************************************************************
.
LNUP0000  DISPLAY   *P57:2,*V2LON,"- Print Line Up"
LNUP1000  MOVE      "13",CVERT
          CALL      KYST0000                * Keyin the stationery code
          BRANCH    EXIT,LNUP9999
.
          PACK      KEY12,STATNCOD,SP6
          CALL      RSIBDET1                * Position on the stationery code
.                                             print file
          CALL      RKIBDET1                * Read the stationery code print
.                                             file
          BRANCH    OVRCD,LNUP2000
.
          MATCH     STATNCOD,IBDTSCOD       * Match stationary codes
          GOTO      LNUP2000 IF NOT EQUAL
.
          CALL      LNUPHFCF                * Print Claim Form line up
          GOTO      LNUP9999
          
LNUP2000  DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                  "file.   ";
          CALL      HITENTER
          GOTO      LNUP1000
.
LNUP9999  RETURN
+
.******************************************************************************
.*                                 ADMN0000              Called by : ML0000   *
.*                          Keyin Admission Number                            *
.******************************************************************************
.
ADMN0000  DISPLAY   *P57:2,*V2LON,"- By Admission Number"
ADMN1000  KEYIN     *P1:3,*EF,*P1:4,"Admission Number : ":
                    *V2LON,*JR,DIM8;
.
          ENDSET    DIM8
          APPEND    SP8,DIM8
          RESET     DIM8
.
          MATCH     SP8,DIM8
          GOTO      ADMN9999 IF EQUAL
.
          MOVE      DIM8,KEY8
          CALL      RDMISS1                 * Read the admin file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Invalid admission number.   ";
            CALL      HITENTER
            GOTO      ADMN1000
          ENDIF
          IF        ASTAT=1
            DISPLAY   *P1:24,*EL,*B,"Patient is not admitted, only pre":
                                    "-admitted.   ";
            CALL      HITENTER
            GOTO      ADMN1000
          ENDIF
          IF        ASTAT=5
            DISPLAY   *P1:24,*EL,*B,"Patient is not admitted.   ";
            CALL      HITENTER
            GOTO      ADMN1000
          ENDIF
          IF          ASTAT=3
            MOVE      AADMNO,DADMNO
            PACK      KEY8,DADMNO
            CALL      RDDSCH1               * Read the discharge file
            IF        OVRCD=1
              DISPLAY   *P1:24,*EL,*B,"Invalid admission number.   ";
              CALL      HITENTER
              GOTO      ADMN1000
            ENDIF
          ENDIF
          PACK      KEY8,AURNO
          CALL      RDMAST1                 * Read the master file
          BRANCH    OVRCD,ADMN1000          * Missing master record, read next
.
          PACK      KEY8,AURNO,SP70                                    *I-57547
          CALL      RDPMPX21                * Read pmi extension
          BRANCH    OVRCD,ADMN1000
.
          PACK      KEY8,AADMNO,SP70                                   *I-57547
          CALL      RDPMVX11                * Read visit extension
.
          IF        IBCNMHOS=1
            PACK      KEY3,PMVXMHOS,SP70
            CALL      RDPTHSP1
          ENDIF
.
          CALL      PATHEAD                 * Display standard patient details
.
. ----- Display admission & discharge dates -----
.
          UNPACK    ADATE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE                 * Format admission date
          DISPLAY   *P1:7,"Admission date : ",*V2LON,CPCDATE,*HOFF:
                    *P31:7,"Discharge date : ";
          IF        ASTAT=3
            UNPACK    DDATE,CCENT,CYEAR,CMON,CDAY
            CALL      PACDATE                 * Format discharge date
            DISPLAY   *V2LON,CPCDATE
          ENDIF
.
. ----- Display the health fund & description -----
.
          PACK      KEY14,PFUNDH,ZERO8,SP10
          CALL      RDFUND1                 * Read the health fund file
          IF        OVRCD=1
            MOVE      SP30,HFNAME
          ENDIF
          DISPLAY   *P1:9,"Health Fund       : ",*V2LON,PFUNDH:
                    *P31:9,*HOFF,HFNAME
.
. ----- Display the health fund table & description -----
.
          PACK      KEY14,PFUNDH,PFNDTB,SP10
          CALL      RDFUND1                 * Read the health fund file
          IF        OVRCD=1
            MOVE      SP30,HFNAME
          ENDIF
          DISPLAY   *P1:10,"Health Fund Table : ",*V2LON,PFNDTB:
                    *P31:10,*HOFF,HFNAME
.
. ----- Display the claim code & description -----
.
          MOVE      "CL",TCODE
          PACK      KEY5,TCODE,ACLAIM
          CALL      RDCODE1                 * Read the patient codes file
          IF        OVRCD=1
            MOVE      SP20,TDESC
          ENDIF
          CALL      GPTEXT00                * extra compensable
          DISPLAY   *P1:11,"Claim Code        : ",*V2LON,ACLAIM:
                    *P31:11,*HOFF,TDESC
.
ADMN2000  KEYIN     *P1:24,*EL,"Correct Patient (",*V2LON,"Y",*HOFF,"/",*V2LON:
                    "N",*HOFF,") ? ",*V2LON,ANS;
          REP       "yYnN",ANS
.
          MATCH     ANSY,ANS
          GOTO      ADMN3000 IF EQUAL
.
          MATCH     ANSN,ANS
          GOTO      ADMN1000 IF EQUAL
.
          BEEP
          GOTO      ADMN2000
.
. ----- Keyin the stationery code -----
.
ADMN3000  MOVE      "13",CVERT
          CALL      KYST0000                * Keyin the stationery code
          BRANCH    EXIT,ADMN1000
.
          CALL      CONTQST                 * O.K. to continue ?
          BRANCH    CEXIT,ADMN4000,ADMN3000,ADMN1000
.                         Yes      No       Cancel
.
ADMN4000  DISPLAY   *P1:24,*EL,*P21:24,"*** Printing Claim Form for ",*V2LON:
                    AADMNO,*HOFF," ***"
.
. ----- Verify the stationery code -----
.
          MOVE      STATNCOD,IBDTSCOD
          PACK      KEY12,IBDTSCOD,SP10
          CALL      RSIBDET1                * Position on the stationery code
.                                             print file
          CALL      RKIBDET1                * Read the stationery code print
.                                             file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      ADMN1000
          ENDIF
.
          MATCH     STATNCOD,IBDTSCOD       * Match stationery codes
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      ADMN1000
          ENDIF
.
. ----- Print the user defined health fund claim form -----
.
          CALL      PRTHFCF                 * Print the user defined health
.                                             fund claim form
          DISPLAY   *P1:24,*EL
          GOTO      ADMN1000
.
ADMN9999  RETURN
+
.******************************************************************************
.*                                 DSDT0000              Called by : ML0000   *
.*                           By the discharge date                            *
.******************************************************************************
.
DSDT0000  DISPLAY   *P57:2,*V2LON,"- By Discharge Date"
DSDT1000  IF        DISPFLAG<>0
            DISPLAY   *P1:24,*EL,*P16:24,"*** ",*V2LON,HFCFCONT,*HOFF:
                      " Health Fund Claim Form(s) were printed ***",*W3
          ENDIF
          MOVE      ZERO,DISPFLAG
          MOVE      ZERO,HFCFCONT           * Reset Claim Form counter
          CALL      DATE0000                * Keyin the date range
          BRANCH    EXIT,DSDT9999
.
DSDT2000  CALL      DAYC0000                * Keyin if daycase or not
          BRANCH    EXIT,DSDT1000
.
DSDT3000  CALL      CLAM0000                * Keyin the claim code
          BRANCH    EXIT,DSDT2000
.
DSDT4000  CALL      HLFD0000                * Keyin the health fund
          BRANCH    EXIT,DSDT3000
.
DSDT5000  MOVE      "19",CVERT
          CALL      KYST0000                * Keyin the stationery code
          BRANCH    EXIT,DSDT4000
.
          CALL      CONTQST                 * O.K. to continue ?
          BRANCH    CEXIT,DSDT6000,DSDT3000,DSDT1000
.                         Yes      No       Cancel
.
. ----- Find discharged admissions with the above requirements -----
.
DSDT6000  DISPLAY   *P1:23,*EL,"Date : ",*P24:23,"Scanning : ",*P51:23:
                    "Printing Disch no : "
          MOVE      ONE,DISPFLAG
          PACK      KEY16,STRTDAT8,SP10
          CALL      RDSDSCH2                * Position on the discharge file
DSDT7000  CALL      RDKDSCH2                * Read the disch file with the date
          BRANCH    OVRCD,DSDT1000          * Finished processing, start again
.
          MATCH     DDATE,FINIDAT8          * See if disch date is out of range
          GOTO      DSDT1000 IF LESS
.
          UNPACK    DDATE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          DISPLAY   *P8:23,*V2LON,CPCDATE,*P35:23,DADMNO
          PACK      KEY8,DADMNO
          CALL      RDMISS1                 * Read the admission file
          IF        OVRCD=1
            DISPLAY   *P1:23,*EF,*B,"Missing admission record for ",*V2LON:
                      DADMNO,*HOFF,", Please call I.B.A.   ",*P1:24;
            CALL      HITENTER
            GOTO      DSDT1000
          ENDIF
          MATCH     DDATE,ADATE
          IF        @EQUAL
.
. ----- Daycase patient -----
.
            IF        DAYCASE=2
              GOTO      DSDT7000            * Daycase patient, but non-daycase
.                                             patients wanted, so read next
            ENDIF
          ELSE
.
. ----- Non-daycase patient -----
.
            IF        DAYCASE=1
              GOTO      DSDT7000            * Non-daycase patient, but daycase
.                                             patients wanted, so read next
            ENDIF
          ENDIF
.
. ----- Get master record -----
.
          PACK      KEY8,DURNO
          CALL      RDMAST1                 * Read the master file 
          BRANCH    OVRCD,DSDT7000          * Missing master record, read next
.
          PACK      KEY8,AURNO,SP70                                    *I-57547
          CALL      RDPMPX21
.
          PACK      KEY8,AADMNO,SP70                                   *I-57547
          CALL      RDPMVX11
.
          IF        IBCNMHOS=1
            PACK      KEY3,PMVXMHOS,SP70
            CALL      RDPTHSP1
          ENDIF
.
. ----- Check for claim code -----
.
          COMPARE   ONE,CLMCDALL
          GOTO      DSDT8000 IF EQUAL       * Process all admissions,
.                                             regardless of claim code
          MATCH     ACLAIM,CLAMCODE
          GOTO      DSDT7000 IF NOT EQUAL  * Not the same claim code, read next
.
. ----- Check for health fund -----
.
DSDT8000  COMPARE  ONE,HELFDALL
          GOTO     DSDT9000 IF EQUAL        * Process all admissions,
.                                             regardless of health fund
          MATCH     AFUNDH,HELTHFND
          GOTO      DSDT7000 IF NOT EQUAL * Not the same health fund, read next
.
DSDT9000  DISPLAY   *P71:23,*V2LON,DADMNO
.
          CALL      GPTEXT00                * extra compensable
. ----- Verify stationery code -----
.
          MOVE      STATNCOD,IBDTSCOD
          PACK      KEY12,IBDTSCOD,SP10
          CALL      RSIBDET1                * Position on the stationery code
.                                             print file
          CALL      RKIBDET1                * Read the stationery code print
.                                             file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      DSDT1000
          ENDIF
.
          MATCH     STATNCOD,IBDTSCOD       * Match stationery codes
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      DSDT1000
          ENDIF
.
. ----- Print the user defined health fund claim form -----
.
          CALL      PRTHFCF                 * Print the user defined health
.                                             fund claim form
          DISPLAY   *P71:24,*EL
          ADD       ONE,HFCFCONT            * Add 1 Claim Form counter
          GOTO      DSDT7000                * Read next discharge record
.
DSDT9999  RETURN
+
.******************************************************************************
.*                                 ADDT0000              Called by : ML0000   *
.*                           By the admission date                            *
.******************************************************************************
.
ADDT0000  DISPLAY   *P57:2,*V2LON,"- By Admission Date"
ADDT1000  IF        DISPFLAG<>0
            DISPLAY   *P1:24,*EL,*P16:24,"*** ",*V2LON,HFCFCONT,*HOFF:
                      " Health Fund Claim Form(s) were printed ***",*W3
          ENDIF
          MOVE      ZERO,DISPFLAG
          MOVE      ZERO,HFCFCONT           * Reset Claim Form counter
          CALL      DATE0000                * Keyin the date range
          BRANCH    EXIT,ADDT9999
.
ADDT2000  CALL      DAYC0000                * Keyin if daycase or not
          BRANCH    EXIT,ADDT1000
.
ADDT3000  CALL      CLAM0000                * Keyin the claim code
          BRANCH    EXIT,ADDT2000
.
ADDT4000  CALL      HLFD0000                * Keyin the health fund
          BRANCH    EXIT,ADDT3000
.
ADDT5000  MOVE      "19",CVERT
          CALL      KYST0000                * Keyin the stationery code
          BRANCH    EXIT,ADDT4000
.
          CALL      CONTQST                 * O.K. to continue ?
          BRANCH    CEXIT,ADDT6000,ADDT3000,ADDT1000
.                         Yes      No       Cancel
.
. ----- Find admissions with the above requirements -----
.
ADDT6000  DISPLAY   *P1:23,*EL,"Date : ",*P24:23,"Scanning : ",*P51:23:
                    "Printing Admin no : "
          MOVE      ONE,DISPFLAG
          PACK      KEY16,STRTDAT8,SP10
          CALL      RDSMISS3                * Position on the admission file
ADDT7000  CALL      RDKMISS3                * Read the admin file with the date
          BRANCH    OVRCD,ADDT1000          * Finished processing, start again
.
          MATCH     ADATE,FINIDAT8          * See if admin date is out of range
          GOTO      ADDT1000 IF LESS
.
          UNPACK    ADATE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          DISPLAY   *P8:23,*V2LON,CPCDATE,*P35:23,AADMNO
.
          COMPARE   ONE,ASTAT
          GOTO      ADDT7000 IF EQUAL       * Pre-admissions not allowed
.
          IF        ASTAT=3
            PACK      KEY8,AADMNO
            CALL      RDDSCH1               * Read the discharge file 
            IF        OVRCD=1
              DISPLAY   *P1:23,*EF,*B,"Missing discharge record for ",*V2LON:
                        AADMNO,*HOFF,", Please call I.B.A.   ",*P1:24;
              CALL      HITENTER
              GOTO      ADDT1000
            ENDIF
            MOVE      DDATE,DIM8            * Patient discharged
          ELSE
            MOVE      CURRDAT8,DIM8         * Patient not discharged
          ENDIF
          MATCH     ADATE,DIM8
          IF        @EQUAL
.
. ----- Daycase patient -----
.
            IF        DAYCASE=2
              GOTO      ADDT7000            * Daycase patient, but non-daycase
.                                             patients wanted, so read next
            ENDIF
          ELSE
.
. ----- Non-daycase patient -----
.
            IF        DAYCASE=1
              GOTO      ADDT7000            * Non-daycase patient, but daycase
.                                             patients wanted, so read next
            ENDIF
          ENDIF
.
. ----- Get master record -----
.
          PACK      KEY8,AURNO
          CALL      RDMAST1                 * Read the master file 
          BRANCH    OVRCD,ADDT7000          * Missing master record, read next
.
          PACK      KEY8,AURNO,SP70                                    *I-57547
          CALL      RDPMPX21
.
          PACK      KEY8,AADMNO,SP70                                   *I-57547
          CALL      RDPMVX11
.
          IF        IBCNMHOS=1
            PACK      KEY3,PMVXMHOS,SP70
            CALL      RDPTHSP1
          ENDIF
.
. ----- Check for claim code -----
.
          COMPARE   ONE,CLMCDALL
          GOTO      ADDT8000 IF EQUAL       * Process all admissions,
.                                             regardless of claim code
          MATCH     ACLAIM,CLAMCODE
          GOTO      ADDT7000 IF NOT EQUAL   * Not the same claim code, read next
.
. ----- Check for health fund -----
.
ADDT8000  COMPARE   ONE,HELFDALL
          GOTO      ADDT9000 IF EQUAL       * Process all admissions,
.                                             regardless of health fund
          MATCH     AFUNDH,HELTHFND
          GOTO      ADDT7000 IF NOT EQUAL  * Not the same health fund, read next
.
ADDT9000  DISPLAY   *P71:23,*V2LON,AADMNO
.
          CALL      GPTEXT00                * extra compensable
. ----- Verify stationery code -----
.
          MOVE      STATNCOD,IBDTSCOD
          PACK      KEY12,IBDTSCOD,SP10
          CALL      RSIBDET1                * Position on the stationery code
.                                             print file
          CALL      RKIBDET1                * Read the stationery code print
.                                             file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      ADDT1000
          ENDIF
.
          MATCH     STATNCOD,IBDTSCOD       * Match stationery codes
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the print ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      ADDT1000
          ENDIF
.
. ----- Print the user defined health fund claim form -----
.
          CALL      PRTHFCF                 * Print the user defined health
.                                             fund claim form
          DISPLAY   *P71:24,*EL
          ADD       ONE,HFCFCONT            * Add 1 Claim Form counter
          GOTO      ADDT7000                * Read next admission record
.
ADDT9999  RETURN
+
.******************************************************************************
.*                                 DATE0000              Called by : ADDT0000 *
.*                          Get the to & from dates                & DSDT0000 *
.******************************************************************************
.
DATE0000  DISPLAY   *P1:3,*EF,*P1:4,"From Date        : "
          MOVE      CCC,CCENT
          UNPACK    SP6,CYEAR,CMON,CDAY
          MOVE      "20",CCOL
          MOVE      "4",CVERT
          MOVE      ONE,CDEFDTE
          CALL      KEYDATE                 * Keyin the start date
          BRANCH    OVRCD,DATE9000
.
          PACK      STRTDAT8,CCENT,CYEAR,CMON,CDAY
          REP       " 0",STRTDAT8
          MATCH     STRTDAT8,CURRDAT8
          IF        @LESS
            DISPLAY   *P1:24,*EL,*B,"From dates must not be into the ":
                                    "future.   ";
            CALL      HITENTER
            GOTO      DATE0000
          ENDIF
.
DATE1000  DISPLAY   *P1:6,*EL,"To Date          : "
          UNPACK    STRTDAT8,CCENT,CYEAR,CMON,CDAY
          MOVE      "20",CCOL
          MOVE      "6",CVERT
          MOVE      ONE,CDEFDTE
          CALL      KEYDATE                 * Keyin the finish date
          BRANCH    OVRCD,DATE0000
.
          PACK      FINIDAT8,CCENT,CYEAR,CMON,CDAY
          REP       " 0",FINIDAT8
          MATCH     FINIDAT8,CURRDAT8
          IF        @LESS
            DISPLAY   *P1:24,*EL,*B,"To date must not be into the future.   ";
            CALL      HITENTER
            GOTO      DATE1000
          ENDIF
          MATCH     STRTDAT8,FINIDAT8
          IF        @LESS
            DISPLAY   *P1:24,*EL,*B,"The to date must not be less than the":
                      " from date.   ";
            CALL      HITENTER
            GOTO      DATE1000
          ENDIF
          MOVE      ZERO,EXIT
          GOTO      DATE9999
.
DATE9000  MOVE      ONE,EXIT
DATE9999  RETURN
+
.******************************************************************************
.*                                 DAYC0000              Called by : ADDT0000 *
.*                              Daycase or not                     & DSDT0000 *
.******************************************************************************
.
DAYC0000  DISPLAY   *P1:8,*EF:
                    *P1:8,*V2LON,"0",*HOFF," = Exit":
                    *P1:9,*V2LON,"1",*HOFF," = Day Cases Only":
                    *P1:10,*V2LON,"2",*HOFF," = Non-Days Cases Only":
                    *P1:11,*V2LON,"3",*HOFF," = All Patients":
                    *P1:13,"Select Option : "
.
DAYC1000  KEYIN     *P17:13,*V2LON,DAYCASE;
          IF        DAYCASE=0
            MOVE      ONE,EXIT
            GOTO      DAYC9999
          ENDIF
          IF        DAYCASE>3
            BEEP
            GOTO      DAYC1000
          ELSE
            MOVE      ZERO,EXIT
          ENDIF
DAYC9999  RETURN
+
.******************************************************************************
.*                                 CLAM0000              Called by : ADDT0000 *
.*                           Keyin the claim code                  & DSDT0000 *
.******************************************************************************
.
CLAM0000  DISPLAY   *P1:15,*EF,"Input the claim code to be processed (ENTER ":
                    "for All) : "
          MOVE      ZERO,EXIT
          MOVE      ZERO,CLMCDALL
          MOVE      SP3,CLAMCODE
          MOVE      SP20,DIM16
          MOVE      SP20,TDESC
          MOVE      "57",ECOL
          MOVE      "15",EVERT
          MOVE      "CL",CODE
          MOVE      SP3,CKYIDEF3
          MOVE      ONE,CNEWDS              * Question at end of '?' - yes
          CALL      PATCODKY                * Keyin the claim code
          BRANCH    EXIT,CLAM1000,CLAM9000
.                        All      Exitchar
.
          GOTO     CLAM2000
.
CLAM1000  MOVE     ALLCODES,TDESC           * Move 'All Codes' to TDESC
          MOVE     ONE,CLMCDALL             * Claim code type - All
.
CLAM2000  MOVE     ACODE,CLAMCODE
          MOVE     TDESC,DIM16
          DISPLAY  *P64:15,*EL,DIM16
          MOVE     ZERO,EXIT
          GOTO     CLAM9999
.
CLAM9000  MOVE     ONE,EXIT
CLAM9999  RETURN
+
.******************************************************************************
.*                                 HLFD0000              Called by : ADDT0000 *
.*                      Keyin the claim health fund code           & DSDT0000 *
.******************************************************************************
.
HLFD0000  DISPLAY   *P1:17,*EF,"Input the health fund to be processed (ENTER ":
                    "for All) : "
          MOVE      ZERO,EXIT
          MOVE      ZERO,HELFDALL
          MOVE      SP6,HELTHFND
          MOVE      SP20,DIM16
          MOVE      SP20,HFNAME
          MOVE      "57",ECOL
          MOVE      "17",EVERT
          MOVE      SP6,CKYIDEF6
          MOVE      ONE,CNEWDS              * Question at end of '?' - yes
          CALL      PATFNDKY                * Keyin the health fund
          BRANCH    EXIT,HLFD1000,HLFD9000
.                        All      Exitchar
.
          GOTO     HLFD2000
.
HLFD1000  MOVE     ALLHELFD,HFNAME          * Move 'All Codes' to HFNAME
          MOVE     ONE,HELFDALL             * Health fund type - All
          MOVE     ZERO,EXIT
.
HLFD2000  MOVE     AFUNDH,HELTHFND
          MOVE     HFNAME,DIM16
          DISPLAY  *P64:17,*EL,DIM16
          MOVE     ZERO,EXIT
          GOTO     HLFD9999
.
HLFD9000  MOVE     ONE,EXIT
HLFD9999  RETURN
+
.******************************************************************************
.*                                 KYST0000              Called by : ADMN0000 *
.*                         Keyin the stationery code                          *
.******************************************************************************
.
KYST0000  MOVE      SP6,STATNCOD
          KEYIN     *P1:CVERT,*EF,"Stationery Code  : ",*V2LON:
                    STATNCOD;
.
          ENDSET    STATNCOD
          APPEND    SP6,STATNCOD
          RESET     STATNCOD
.
          MATCH     SP6,STATNCOD            * Test for spaces
          IF        @EQUAL
            MOVE      ONE,EXIT
            GOTO      KYST9999
          ENDIF
          MATCH     QUEST,STATNCOD          * Test for ?
          GOTO      KYST6000 IF NOT EQUAL
.
. ----- ? option on stationery code -----
.
          MOVE      "1",HLEF                * Setting up positions for screen
          MOVE      "4",HTOP                * saver
          MOVE      "80",HRIG
          MOVE      "24",HBOT
          CALL      GETSCR00                * Save current screen
KYST1000  MOVE      TWO,COL
          MOVE      SIX,VERT
          DISPLAY   *P1:4,*EF,*P30:4,*V2LON,*ULON,"STATIONERY CODES"
          PACK      KEY6,SP6
          CALL      RSIBTH1                * Position on the stationery file
KYST2000  CALL      RKIBTH1                * Read the stationery code file
          BRANCH    OVRCD,KYST4000
.
          IF        VERT>=23
            MOVE      SIX,VERT
            IF        COL=42
              MOVE      TWO,COL
              DISPLAY   *P1:6,*EF
KYST3000      KEYIN     *P1:24,*EL,"(",*V2LON,"E",*HOFF,")xit, (",*V2LON:
                        "N",*HOFF,")ext ? ",ANS;
              REP       "eEnN",ANS
              MATCH     ANSE,ANS
              GOTO      KYST4000 IF EQUAL
.
              MATCH     ANSN,ANS
              GOTO      KYST2000 IF EQUAL
.
              BEEP
              GOTO      KYST3000
            ENDIF
            MOVE      "42",COL
          ENDIF
          COMPARE    FIVE,IBTHSTFM
          GOTO       KYST2000 IF NOT EQUAL
.
          DISPLAY   *PCOL:VERT,*EL,*V2LON,IBTHSCOD,*HOFF,"  ",IBTHDESC
          ADD       ONE,VERT
          GOTO      KYST2000
.
KYST4000  KEYIN     *P1:24,*EL,"Stationery Code : ",*V2LON,STATNCOD;
.
          ENDSET    STATNCOD
          APPEND    SP6,STATNCOD
          RESET     STATNCOD
.
          MATCH     SP6,STATNCOD            * Test for spaces
          IF        @EQUAL
            MOVE      ONE,EXIT
            GOTO      KYST9999
          ENDIF
          MATCH     QUEST,STATNCOD          * Test for ?
          GOTO      KYST1000 IF EQUAL
.
KYST5000  CALL      PUTSCR00                * Replace previous screen
          DISPLAY   *P20:CVERT,*EL,*V2LON,STATNCOD
.
. ----- Verify the stationery code -----
.
KYST6000  MOVE      STATNCOD,IBTHSCOD
          PACK      KEY6,IBTHSCOD
          CALL      RDIBTH1                * Read the stationery code header
.                                             file
          IF        OVRCD=1
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the header ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      KYST0000
          ENDIF
.
          MATCH     STATNCOD,IBTHSCOD
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Stationery code is not on the header ":
                                    "file.   ";
            CALL      HITENTER
            GOTO      KYST0000
          ENDIF
.
          IF        IBTHSTFM<>5
            DISPLAY   *P1:24,*EL,*B,"Invalid stationery code.   ";
            CALL      HITENTER
            GOTO      KYST0000
          ENDIF
          DISPLAY   *P28:CVERT,*EL,IBTHDESC
          MOVE      ZERO,EXIT
KYST9999  RETURN
.
.--------------------------------------------------------------------
. Get Extra Compensable Details
.--------------------------------------------------------------------
GPTEXT00  MATCH     SP70,ACLAIM
          GOTO      GPTEXT99 IF EQUAL
          GOTO      GPTEXT99 IF EOS
.
          PACK      KEY11,AADMNO,ACLAIM,SP70
          CALL      RDPMEXT1
          IF        OVRCD=1
            CALL      CLPMSEXT
            GOTO      GPTEXT99
          ENDIF
.
GPTEXT99  RETURN
+
.==============================================================================
.
          INC       STD001IO
.
          INC       CALCAGE                 * Calculate patients age
          INC       CALCDAYS
          INC       IBAPRINT
          INC       GETDRG  
          INC       GTIHINUM
          INC       NHOSPDAY                * Calculate days in hospital
          INC       PATCODKY                * Keyin the claim code
          INC       PATFNDKY                * Keyin the health fund
          INC       PATALERT                * Patient alerts
.>>>>     INC       PATDSCOD                * Display codes file entries
.>>>>     INC       PATDSFND                * Display health fund file entries
          INC       PATHFCF                 * Print the health fund claim form
          INC       PATHEAD                 * Display standard patient details
          INC       PMIHEAD                 * Display standard patient details
          INC       CLPMSEXT
          INC       GETEFDRG
          INC       PATITMRD
.
          INC       IBAPRNIO/INC
          INC       IBATMDIO/INC
          INC       IBATMHIO/INC
          INC       IBAVARIO/INC
          INC       OPRARDIO/INC                                       *I-55477
          INC       OPRDEAIO/INC
          INC       OPRDECIO/INC
          INC       PATALRIO/INC
          INC       PATCODIO/INC
          INC       PATCFAIO/INC
          INC       PATDGWIO/INC
          INC       PATDO1IO/INC
          INC       PATDSCIO/INC
          INC       PATDTRIO/INC
          INC       PATFN1IO/INC
          INC       PATFX1IO/INC
          INC       PATHSPIO/INC
          INC       PATICDIO/INC
          INC       PATICUIO/INC
          INC       PATINVIO/INC
          INC       PATITMIO/INC
          INC       PATPGRIO/INC
          INC       PATLINIO/INC            * UR Linkage Details       *I-62428
          INC       PATMA1IO/INC
          INC       PATMI1IO/INC
          INC       PATNOBIO/INC
          INC       PATRE1IO/INC
          INC       PATTRNIO/INC
          INC       PATWR1IO/INC
          INC       PATVISIO/INC
          INC       PMSFCIIO/INC            * Credit note file
          INC       PMSHCPIO/INC
          INC       PMSIHIIO/INC
          INC       PMSPX2IO/INC
          INC       PMSVX1IO/INC
          INC       WEBSECIO/INC
          INC       PMSCCDIO/INC
          INC       PMSTLEIO/INC
          INC       PMSEXTIO/INC
          INC       PMSEDGIO/INC       * Effective DRG Dates
+
