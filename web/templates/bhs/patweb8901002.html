<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="bhs">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/IBA_Category_C_.js"></script>
<script type="text/javascript" src="../js/IBA_Category_LA.js"></script>
<script type="text/javascript" src="../js/patweb89.js"></script>
<script type="text/javascript">
function clickUpdateButton() {
  p=document.UpdateForm;
  var x=true;
  x=ValidateHCP(18,0,p.pmpmi059,p.genpname);
  if(x==false)
  {
    p.pmpmi059.value="";
    p.genpname.value="";
    p.pmpmi060.value="";
    p.genpprac.value="";
    p.pmpmi061.value="";
    p.genpprov.value="";

    return;
  }
  var y=true;
  y=ValidateHCG(70,0,p.pmpmi060,p.pmpmi059,p.genpprac,p.pmpmi061);
  if(y==false)
  {

    p.pmpmi059.value="";
    p.genpname.value="";
    p.pmpmi060.value="";
    p.genpprac.value="";
    p.pmpmi061.value="";
    p.genpprov.value="";

    return;
  }
  checkDateSV(p.ptmas025,'Pension Expiry');
  if(p.d_pmpmi006.checked==true){
     p.pmpmi006.value="1"}
  else {
     p.pmpmi006.value="0"}

  var admisnid = getQueryString('admisnid');
  if (document.UpdateForm.ptcnnewc.value=='1') {
      UpdateForm.redirect.value=
      "patweb07.pbl?reportno=06&template=004&urnumber="
      +PatientURN.replace(/ /g,"+")+"&admisnid="+admisnid.replace(/ /g,"+");
   } else {
      UpdateForm.redirect.value =
      "patweb89.pbl?reportno=01&template=022&urnumber="
      +PatientURN.replace(/ /g,"+")+"&admisnid="+admisnid.replace(/ /g,"+");
  }


  //Redirect if NDIS Flag Set & concession details invalid
  if ((UpdateForm.ptmsx051.value==" 1") && (UpdateForm.ndisvald.value == "0")) {

     NDISAlert = "Warning: NDIS Participant selected -\n"
     NDISAlert += "Please enter NDIS Identifier Number in Concession"
     NDISAlert += " Card Maintenance"

     alert(NDISAlert);
     UpdateForm.redirect.value="patweb07.pbl?reportno=4&template=004";
     UpdateForm.redirect.value += "&urnumber="+PatientURN;
     UpdateForm.redirect.value += "&admissno="+PatientVIS;
  }  

  validateDemographicsConfirmedDate();

  if(checkMedicare(p.ptmas023)) {
     if(!CheckValPostCode()){
        return;
     }
    UpdHealthFund();
    checkSecondName(document.UpdateForm.ptcnusgn,document.UpdateForm.ptmas006,
                  document.UpdateForm.pmpmi084,document.UpdateForm.pmpmi085);
    SetOptOutSMS();
    submitForm01();
  }
}

function MyHealthRec() {
  document.getElementById('MyhealthRecLebel1').innerHTML=MyHealthRecDescription;
  document.UpdateForm.pmpmi110.title=MyHealthRecDescription;
}

function validateDemographicsConfirmedDate() {
  if (document.UpdateForm.ptcnavcd.value == "1") {
//alert(hasFormChanged());
    if (hasFormChanged()) {
      document.UpdateForm.ptmas069.value=document.UpdateForm.currdate.value;
    }
    return;
  } else if (document.UpdateForm.ptcnavcd.value == "2") {
    if (!isWhitespace(document.UpdateForm.ptmas069.value)) {
      if (document.UpdateForm.ptmas069.value !=
          document.UpdateForm.currdate.value ) {
        alert("Warning: Confirm Demographics date has not been updated");
        document.UpdateForm.ptmas069.value =
        document.UpdateForm.ptmas069.defaultValue;
      }
    }
    return;
  }
}

var initial_values = new Array();

// Gets all form elements from the entire document.
function getAllFormElements() {
    // Return variable.
    var all_form_elements = Array();

    // The form.
    //var form_activity_report = document.getElementById('UpdateForm');
    var form_activity_report = document.forms["UpdateForm"];

    // Different types of form elements.
    var inputs = form_activity_report.getElementsByTagName('input');
    var textareas = form_activity_report.getElementsByTagName('textarea');
    var selects = form_activity_report.getElementsByTagName('select');

    // We do it this way because we want to return an Array, not a NodeList.
    var i;
    for (i = 0; i < inputs.length; i++) {
        all_form_elements.push(inputs[i]);
    }
    for (i = 0; i < textareas.length; i++) {
        all_form_elements.push(textareas[i]);
    }
    for (i = 0; i < selects.length; i++) {
        all_form_elements.push(selects[i]);
    }

    return all_form_elements;
}

// Sets the initial values of every form element.
function setInitialFormValues() {
    var inputs = getAllFormElements();
    for (var i = 0; i < inputs.length; i++) {
        initial_values.push(inputs[i].value);
    }
}

function hasFormChanged() {
    var has_changed = false;
    var elements = getAllFormElements();

    for (var i = 0; i < elements.length; i++) {
        if (elements[i].type != 'hidden' &&
            elements[i].name != 'ptmas069' &&
//            elements[i].name != 'ptmas029' &&
            trim(elements[i].value) != trim(initial_values[i])) {
//alert(elements[i].name+"|"+trim(elements[i].value)+"|"+trim(initial_values[i]));
            has_changed = true;
            break;
        }
    }

    return has_changed;
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);setInitialFormValues();
              SetPostCode01();InitPostCodes();
              ChkIdentifyGenderPronounTitle(document.UpdateForm);
              turnOnSecondGivenName(document.UpdateForm.ptcnusgn.value,
                                    document.UpdateForm.ptmas006,
                                    document.UpdateForm.pmpmi084,
                                    document.UpdateForm.pmpmi085);
              MyHealthRec();
              displayPrefNames(document.UpdateForm.ptcnnmpr.value);
              document.cookie = 'BHSRedirect=1';">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<script>
function valPostCode(){
  var suburb=trim("%PATWEB89.01.014");
  if(document.UpdateForm.ptmas010.value==suburb){
    return;
    }
    UpCase(UpdateForm.ptmas010);
    if(trim(UpdateForm.ptmas012.value)!="8888"){
      LookupPostCode(UpdateForm.ptmas010.value);
      checkAdd01();
      }
}
</script>

<div id=PatientMenu></div>

<div id=PageBodySection>

<form name=UpdateForm action=patweb89.pbl method=post
 onsubmit="return">
<input type=hidden name=reportno value="2">
<input type=hidden name=template value="002">
<input type=hidden name=updatety value="4">
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=praflag value="0">
<input type=hidden name=redirect value="%PATWEB89.01.001.patweb89.01.022">
<input type=hidden name="savealia" value="0">
<input type=hidden name="aliasset" value="0">
<input type=hidden name="prevaddr" value="0">
<input type=hidden name="preaddset" value="0">
<input type=hidden name="oldaddre" value="%PATWEB89.01.014">
<input type=hidden name="dummy" value="">
<input type=hidden name="ptcnhdps" value="%PATWEB89.01.929">
<input type=hidden name=d_ptmas061 value="%PATWEB89.01.064">
<input type=hidden name="ptcnusgn" value="%STANDARD.01.025.114.219.0.1">
<input type=hidden name="ptcnnewc" value="%STANDARD.01.025.118.138.0.1">
<input type=hidden name=confdemo value="0">
<input type=hidden name=cpmiskey value="%PATWEB89.01.999.001">
<input type=hidden name=vinahupd value="%PATWEB89.01.999.050">
<input type=hidden name=updhfund value="">
<input type=hidden name=admhfund value="%PATWEB89.01.114.0">
<input type=hidden name=admhftab value="%PATWEB89.01.115.0">
<input type=hidden name=admnstat value="%PATWEB89.01.199.020">
<input type=hidden name=admninvc value="%PATWEB89.01.950">
<input type=hidden name=admisnid id=admisnid value="%PATWEB89.01.999.036">
<input type=hidden name="ptcnvshf" id="ptcnvshf"
 value="%STANDARD.01.025.124.158.0.1">
<input type=hidden name="ptcnsmsn" id="ptcnsmsn"
 value="%STANDARD.01.025.120.243.0.1">
<input type=hidden name="ptmsx050" id="ptmsx050" value="%PATWEB89.01.085.066.1">
<input type=hidden name=ptcnavcd value="%STANDARD.01.025.125.183.0.1">
<input type=hidden name=currdate value="%STANDARD.01.015">
<input type=hidden name=sjogaudt value="1">
<input type=hidden name=ndisvald value="%PATWEB89.01.999.124">
<input type=hidden name=ptcnnmpr value="%STANDARD.01.025.128.226.1.1">

<table border=0 width=100% cellspacing=0 cellpadding=1>
  <tr><td colspan=6 class=HeadingCell align=center>
      Demographic Details </td></tr> 

  <tr>
    <td class=DataLabel>Title</td>
    <td><select title="Patient Title"
        name=ptmas001 id=ptmas001 tabindex=1 >
        <option></option>
        %STANDARD.01.029
        </select>
    </td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=35 maxlength=35  tabindex=10
        name="ptmas008" title="Address Line 1" class=Mandatory
        value="%PATWEB89.01.012" onchange="checkAdd01();UpCase(this);"></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20 
        name=ptmas013 title="Home Phone No" tabindex=21
        value="%PATWEB89.01.017" onchange="checkAdd01();"></td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=40 name=ptmas005 
        title="Patient Surname" maxlength=40 class=Mandatory
        value="%PATWEB89.01.009" tabindex=2 onchange="UpCase(this);checkAlias01();"></td>
    <td class=DataLabel></td>
    <td><input type=text size=35 maxlength=35 
        name=ptmas009 title="Address Line 2" tabindex=11
        value="%PATWEB89.01.013" onchange="checkAdd01();UpCase(this);"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20 
        name=ptmas014 title="Work Phone No" tabindex=22
        value="%PATWEB89.01.018" ></td></tr>

<tr id=PrefSurname style="display:none">
  <td class=DataLabel>Preferred Surname</td>
  <td><input type=text size=20 maxlength=20 name=pmpmi082
       title="Preferred Surname" value="%PATWEB89.01.897"
       tabindex=2 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel id="givenNameLabel">Given Names</td>
    <td><input type=hidden name=ptmas006 title="Given Name"
         value="%PATWEB89.01.010">
        <input type=text size=42 maxlength=40
        title="First Given Name" class=Mandatory tabindex=3
        name=pmpmi084 value="%PATWEB89.01.899.001"
        onchange="checkAlias01();UpCase(this);">
    </td>
    <td class=DataLabel>Suburb</td>
    <td><input type=text size=35 maxlength=35 title="Suburb"
       name=ptmas010 class=Mandatory tabindex=12
        value="%PATWEB89.01.014" onchange="valPostCode();">
    </td>
    <td class=DataLabel>Mobile Phone</td>
    <td><input type=text size=23 maxlength=20 class=MobilePhone
        name=ptmsx039 title="Mobile Phone No" tabindex=23
        value="%PATWEB89.01.643" >
        <span id=DisplaySMS style="display: none">
         Opt-Out SMS
         <input type=checkbox name="d_ptmsx050" id="d_ptmsx050" value=1
          tabindex=23 onclick="checkAdd01();">
        </span>
    </td></tr>

<tr><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=42 maxlength=40 id="secondGivenName"
        title="Second Given Name" tabindex=4
        name=pmpmi085 value="%PATWEB89.01.899.002"
        onchange="checkAlias01();UpCase(this);">
    </td></tr>

<tr id=PrefGivenName style="display:none">
  <td class=DataLabel>Preferred Given Name</td>
  <td><input type=text size=25 maxlength=25 name=pmpmi083
       title="Preferred Given Name" value="%PATWEB89.01.898"
       tabindex=4 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.G </td>
    <td><select name=ptmas015 id=ptmas015 tabindex=4
         title="%STANDARD.01.017.G " class=Mandatory 
         onchange="ChkIdentifyGenderPronounTitle(document.UpdateForm);
                   checkAlias01()">
         <option></option>
        %PATWEB89.01.086.099.061.9.1.19.3.H 
         </select>
    </td>
    <td class=DataLabel> </td>
    <td><input type=text size=35 maxlength=35
       name=ptmas011 title="Address Line 4" tabindex=14 class=Mandatory 
       value="%PATWEB89.01.015"
       onchange="checkAdd01();UpCase(this);">
    </td>
    <td class=DataLabel>E-Mail</td>
    <td><input type=text size=23 maxlength=80 
        name=pmpmi005 title="E-Mail" tabindex=25
        value="%PATWEB89.01.805" ></td></tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 title="Date of Birth"
    value="%PATWEB89.01.020" tabindex=5 class="Mandatory PastDate"
       onchange="if(checkDate(this,'Date of Birth')){checkAlias01();
                 checkAge(this.value,'%PATWEB89.01.092');}" ></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4
        name=ptmas012 title="Post Code" class=Mandatory tabindex=16
        value="%PATWEB89.01.016" onchange="LookupSuburb(ptmas012.value)"></td>
    <td class=DataLabel><font color=red>Demographics Confirmed Date</font></td>
    <td><input type="text" class="PastDate" name=ptmas069 id=ptmas069
       title="Demographics Confirmed Date"
       onblur="checkDate(this,this.title);document.UpdateForm.confdemo.value=1;"
       tabindex=26 value="%PATWEB89.01.085.059">
        <img notab src="../images/DateTimeStamp.gif" class=Icon
         onclick="SetCurrentDateTime(ptmas069,null);" />
    </td></tr>

<tr><td class=DataLabel>Estimated DOB</td>
    <input type=hidden name=pmpmi006>
    <td><input type=checkbox name=d_pmpmi006 title="Est DOB"
         value="1" tabindex=6 ></td></tr>

<tr id=GenderExtra>
  <td><div id=IdenGenLbl></div></td>
  <td><div id=IdenGenDetail></div></td>
  <td><div id=IdenProLbl></div></td>
  <td><div id=IdenProDetail></div></td>
</tr>

<tr><td colspan=6 class=HeadingCell align=center >
      PMI Details </td></tr> 

<tr><td class=DataLabel>Marital Status</td>
    <td><select  name=ptmas016 tabindex=44 class="select120 Mandatory"
                 title="Marital Status">
        <option></option>
         %PATWEB89.01.069.2
        </select></td>
    <td class=DataLabel>Medicare Number</td>
    <td><input type=text size=10 maxlength=10 name=ptmas023 id=ptmas023 
         tabindex=54 onblur="checkMedicare(ptmas023);" value="%PATWEB89.01.027">
    <input type=text size=3 maxlength=2 name=ptmsx045 id=ptmsx045 tabindex=55
         value="%PATWEB89.01.649" onblur="checkIRN(ptmsx045);"></td>
    <td class=DataLabel>Local GP </td>
    <td width=20%><input type=hidden name=pmpmi059 id=pmpmi059
        value="%PATWEB89.01.884.001">
       <input type=text readonly name=genpname id=genpname class=Mandatory
        title="Local GP" value="%PATWEB89.01.884.081">
       <img src="../images/SearchIcon.gif" class=Icon tabindex=61
        onclick="GPHCPSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,genpprac,pmpmi061,3)">
       <img src="../images/erase.gif" class=Icon 
        onclick="clrFields(pmpmi059,genpname);"></td></tr>

<tr><td class=DataLabel>Religion</td>
    <td><select name=ptmas020  class="select120 Mandatory" tabindex=45 
        title="Religion">
        <option></option>
        %PATWEB89.01.023.2
        </select>
    </td>
    <td class=DataLabel>Valid to</td>
    <td><input type=text size=12 name=pmpmi016 id=pmpmi016 title="Valid to"
         value="%PATWEB89.01.816" tabindex=55
         onblur="checkDateSV(this,'Valid to');" >
         <img src="../images/erase.gif" class=Icon
          onclick="clrFields(pmpmi016);">
    </td>
    <td class=DataLabel>Practice</td>
    <td width=20%><input type=hidden name=pmpmi060 id=pmpmi060
        value="%PATWEB89.01.885.001">
        <input type=text readonly name=genpprac id=genpprac size=25
         value="%PATWEB89.01.885.005">
        <input type=hidden name=pmpmi061 id=pmpmi061
         value="%PATWEB89.01.861">
        <input type=hidden name=genpprov id=genpprov
         value="">
        <img src="../images/SearchIcon.gif" class=Icon tabindex=62
         onclick="GPHCGSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,genpprac,pmpmi061)">
        <img src="../images/erase.gif" class=Icon 
         onclick="clrFields(pmpmi060,genpprac,pmpmi061,genpprov);"></td></tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="ptmas019" tabindex=46 class="select120 Mandatory"
                 title="Country of Birth">
        <option></option>
        </select>
        <script type="text/javascript"> {
         SetCategoryC_(document.UpdateForm.ptmas019,"%PATWEB89.01.022.1") }
        </script></td>
    <td class=DataLabel>Pension/HealthCareCard #</td>
    <td><input type=text size=20 maxlength=15 name=ptmas024 tabindex=56
         value="%PATWEB89.01.028"></td>
    <td class=DataLabel>Privacy Indicator</td>
    <td><select name=pmpmi066 class=select120 tabindex=63>
        <option></option>
         %PATWEB89.01.866.2
        </select>
    </td></tr>

<tr><td class=DataLabel>Resident</td>
    <td><select name=ptmas021 tabindex=47 class=Mandatory title="Resident">
         <option></option>
         %PATWEB89.01.024.2
        </select></td>
    <td class=DataLabel>Pension Expiry</td>
    <td><input type=text size=12 name=ptmas025 title="Pension Expiry"
         value="%PATWEB89.01.029" tabindex=57
       onblur="checkDateSV(this,'Valid to');" ></td>
    <td class=DataLabel>Folder Selection</td>
    <td><select name=pmpmi077 tabindex=64 title="Folder Selection">
         <option></option>
         %PATWEB89.01.879.2
         </select>
    </td></tr>

<tr><td class=DataLabel>Indigenous Status</td>
    <td><select name=pmpmi065 class="select120 Mandatory" tabindex=48
         title="Indigenous Status">
        <option></option>
         %PATWEB89.01.865.2
        </select></td>
    <td class=DataLabel> Safety Net Number </td>
    <td><input type=text size=12 maxlength=10 name=pmpmi075 tabindex=58
         value="%PATWEB89.01.875" ></td>
    <td class=DataLabel>Health Fund </td>
    <td><input type=text size=6 maxlength=6 name=ptmas036 id=ptmas036
         title="Health Fund" tabindex=65
         onchange="validateCode(16,ptmas036,funddesc);
                   checkTable();" value="%PATWEB89.01.040.0">
        <input type=text size=25 maxlength=30 name=funddesc id=funddesc
         class=readonly Readonly notab value="%PATWEB89.01.040.1"></td></tr>

<tr><td class=DataLabel>Interpreter Required</td>
    <td><select title="Interpreter Required" name=pmpmi001 tabindex=49>
        %PATWEB89.01.801.2
        </select>
        </td>
    <td class=DataLabel>
        %STANDARD.01.017.P9
    </td>
    <td>
        <div id=P9tagDIV>
        <select name=pmpmi074 tabindex=60
         id=pmpmi074 title="%STANDARD.01.017.P9" class="Mandatory">
        <option></option>
        <!--%PATWEB89.01.874.2-->
        %PATWEB89.01.874.5
        </select>
        </div>
    </td>
    <td class=DataLabel>Level</td>
    <td>
        <input name=ptmas037 id=ptmas037 size=8 maxlength=8 
         tabindex=66 value="%PATWEB89.01.041.0" title="Level"
         onblur="validateHFT(20,ptmas036,ptmas037,funddesc,tabldesc);">
        <input type="text" size=15 maxlength=17 name=tabldesc id=tabldesc
         class=readonly Readonly notab value="%PATWEB89.01.041.1" >
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="HealthFundSearchFrame(ptmas036,funddesc,ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onclick="clrDoc(ptmas036,ptmas037);clrDoc(funddesc,tabldesc);
                  checkTable();">
    </td></tr>

<tr><td class=DataLabel>Pref Language 1</td>
    <td><select name=pmpmi002 class="select120 Mandatory" tabindex=50
         title="Preferred Language">
    <td>NDIS</td>
    <td><select name=ptmsx051 tabindex=60 title="NDIS">
        <option value="  "></option>
        <option value=" 0"> No </option>
        <option value=" 1"> Yes </option>
    </select></td>
    <td class=DataLabel> Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038 tabindex=67
         value="%PATWEB89.01.042"></td></tr>

<tr><td class=DataLabel>MHSW Patient Identifier</td>
    <td><input type=text size=14 maxlength=12 name=pmpmi018
        value="%PATWEB89.01.818" tabindex=51></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><div id=MyhealthRecLebel1></div></td>
    <td><select name=pmpmi110 tabindex=68>
         <option value="1">Yes</option>
         <option value="0">No</option>
         </select></td>
</tr>

<tr><td colspan=6 class=HeadingCell align=center>
  <script type="text/javascript">URDesc();</script> Comments </td></tr>

<tr><td valign=top>
     <input type=button value="Add Comments" class="button"
      name="AddComm" id="AddComm" tabindex=76
      onclick="tempDisable(this);AddURComment();"></td>
    <td colspan=4>
      <textarea wrap=hard name=urcommna class=Readonly readonly
       rows=4 cols=70>%PATWEB89.01.068.005</textarea>
    </td>
</tr>

<tr><td>&nbsp;</td></tr>

<tr><td colspan=6 align=center>
    <input type=button value="Update" class="button" id="pat89sub"
     onclick="tempDisable(this);clickUpdateButton();" tabindex=77>
    <input type=button class="button" name="aliasbut" value="Alias" tabindex=78
     onclick='PatientLinkTo("patweb89.pbl",6,1,1,550,300);'>
    <input type=button class="button" name="alternatebut" 
     value="Alternate ID" tabindex=79
     onclick='PatientLinkTo("patweb07.pbl",1,1,1,550,300);'>
    <input type=button class="button" name="linksbut" value="Links" tabindex=80 
     onclick='PatientLinkTo("patweb96.pbl",2,1,1,600,400);'>
    <input type=button class="Bigbutton" name="emergbut" value="Emerge Contact"
     tabindex=81 onclick='contacts();' style="width:110px">
    <input type=button class="button" name="preadbut" value="Prev Address"
     tabindex=82
     onclick='PatientLinkTo("patweb98.pbl",1,38,1,700,400);'>
    <input type=button class="button" name="certibut" value="Certificates"
     tabindex=83
     onclick='PatientLinkTo("hosweb01.pbl",4,1,1,900,400);'>
    <input type=button class="Bigbutton" name="concebut" value="Concession Card"
     tabindex=84 onclick="concession();" style="width:110px">
    <input type=button class="button"  value="Cancel" tabindex=85
     onclick="CancelButtonRedirect();">
    </td>
</tr>
</table>
</form>

<div id=SelectHeading></div>
<div id=SelectLocation></div>
</div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
<input type=hidden name=cpmiskey value="%PATWEB89.01.999.001">
<input type=hidden name=cpmiemgc value="1">
</form>

<script type="text/javascript">
 if (document.UpdateForm.urnumber.value.substring(0,1)=="T") {
  document.UpdateForm.ptmas021.className="";
  }
//
function init() {
 SetCategoryLA(document.UpdateForm.pmpmi002,"%PATWEB89.01.802.1","");
 if ("%PATWEB89.01.033" == "Yes") {
  alert("Warning: Patient is Deceased");
 }
 if ("%PATWEB89.01.091" == "1") {
  alert("Warning: Invalid permissible age");
 }
//
 for (var i=0; i < document.UpdateForm.ptmas001.length; i++) {
  if (document.UpdateForm.ptmas001.options[i].value=="%PATWEB89.01.005.0"){
      document.UpdateForm.ptmas001.selectedIndex=i;
  }
 }
//
//
 AltIDIndicator="%PATWEB89.01.086.083";
 if ( AltIDIndicator =="1" ) {
    document.UpdateForm.alternatebut.className="RedButton";
 }
//
 AliasIndicator="%PATWEB89.01.093";
 if ( AliasIndicator =="1" ) {
    document.UpdateForm.aliasbut.className="RedButton";
 }
//
 LinksIndicator="%PATWEB89.01.094";
 if ( LinksIndicator =="1" ) {
    document.UpdateForm.linksbut.className="RedButton";
 }
//
 PreAddIndicator="%PATWEB89.01.095";
 if ( PreAddIndicator =="1" ) {
    document.UpdateForm.preadbut.className="RedButton";
 }
//
 EmergeIndicator="%PATWEB89.01.096";
 if ( EmergeIndicator =="1" ) {
    document.UpdateForm.emergbut.className="RedButton";
 }
//
 if(!isWhitespace(document.PatientLinks.cpmiskey.value)) {
    document.UpdateForm.emergbut.disabled=true;
 }
//
 CertificIndicator="%PATWEB89.01.948";
 if ( CertificIndicator =="1" ) {
    document.UpdateForm.certibut.className="RedButton";
 }
//
 ConcessIndicator="%PATWEB89.01.934";
 if ( ConcessIndicator != "0" ) {
    document.UpdateForm.concebut.className="RedButton";
 }
 ShowOptOutSMS();
}

//
function contacts() {
 if (document.UpdateForm.ptcnnewc.value=='1') {
   location.href='patweb07.pbl?reportno=06&template=004&urnumber='+
                 '%PATWEB89.01.003&admissno=%PATWEB89.01.081&othrcont=0'
 } else {
   location.href='patweb89.pbl?reportno=01&template=022&urnumber='+
                 '%PATWEB89.01.003&admissno=%PATWEB89.01.081&othrcont=0'
 }
}
 EstDOB="%PATWEB89.01.086.006"
 if ( EstDOB == "1") {
   document.UpdateForm.d_pmpmi006.checked=1;
 }
function concession() {
 location.href='patweb07.pbl?reportno=04&template=004&urnumber=%PATWEB89.01.003&admissno=%PATWEB89.01.081'
}
ESPFlag="%PATWEB89.01.085.067";
for (var i =0 ; i < document.UpdateForm.ptmsx051.length; i++) {
 if (document.UpdateForm.ptmsx051.options[i].value == ESPFlag) {
      document.UpdateForm.ptmsx051.selectedIndex=i } };
MyHlthRecFlag="%PATWEB89.01.086.099.046";
for (var i =0 ; i < document.UpdateForm.pmpmi110.length; i++) {
 if (document.UpdateForm.pmpmi110.options[i].value == MyHlthRecFlag) {
      document.UpdateForm.pmpmi110.selectedIndex=i } };
</script>

<span id="P9tagSPAN" style="display:none">
<select name=d_pmpmi074 id=d_pmpmi074 tabindex=20 title="%STANDARD.01.017.P9"
 class='Mandatory'>
  <option></option>
  %STANDARD.01.021.P9
</select>
</span>

<span id=idenGenLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gi</td>
</span>
<span id=idenGenDetailShow style="display:none">
  <td><select name=pmpmi125 id=pmpmi125 class=Mandatory tabindex=7
       title="%STANDARD.01.035.Gi"
       onchange="IdenGenderChange(document.UpdateForm);">
      <option></option>
       %PATWEB89.01.086.099.063.9.2
      </select><br>
      <span id=IdenGenFreeTxt></span>
  </td>
</span>
<span id=idenGenDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi125 id=pmpmi125 value=""></td>
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>
<span id=idenGenFreeTxtShow style="display:none">
  <input type=text name=pmpmi126 id=pmpmi126 size=80 maxlength=80
   class=Mandatory tabindex=7
   title="Identifying Gender Free Text"
   value="%PATWEB89.01.086.099.065">
</span>
<span id=idenGenFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>

<span id=idenProLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gp</td>
</span>
<span id=idenProDetailShow style="display:none">
  <td><select name=pmpmi127 id=pmpmi127 class=Mandatory tabindex=19
       title="%STANDARD.01.035.Gp"
       onchange="IdenPronounChange(document.UpdateForm);">
      <option></option>
       %PATWEB89.01.086.099.064.9.2
      </select><br>
      <span id=IdenProFreeTxt></span>
  </td>
</span>
<span id=idenProDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi127 id=pmpmi127 value=""></td>
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>
<span id=idenProFreeTxtShow style="display:none">
  <input type=text name=pmpmi128 id=pmpmi128 size=80 maxlength=80
   class=Mandatory tabindex=19
   title="Identifying Pronoun Free Text"
   value="%PATWEB89.01.086.099.066">
</span>
<span id=idenProFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>

