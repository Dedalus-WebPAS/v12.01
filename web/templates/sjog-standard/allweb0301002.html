<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="sjog-standard">
<meta name="HelpFileName" content="">
<meta name="CrossBrowser" content="true">
<script language="javascript" src="../js/allweb03.js"></script>
<script type="text/javascript">
function AddEncounter(theForm){
  if(!validateMandatory(theForm)) {
    return;
  }
  SetRedirect()
  theForm.target="PopUpFrame1";

    if(UpdateForm.checkbx3.checked==true){
        UpdateForm.redirect.value="allweb02.pbl?reportno=02&template=002" +
             "&urnumber=" + theForm.urnumber.value.replace(/ /g,"+") +
             "&admissno=" + theForm.admissno.value.replace(/ /g,"+") +
             "&deptcode=" + theForm.alredept.value.replace(/ /g,"+");

//  Create cookie for close referral dframe redirect

    closereferralstring = "allweb02.pbl?reportno=02&template=004" +
             "&urnumber=" + theForm.urnumber.value.replace(/ /g,"+") +
             "&admissno=" + theForm.admissno.value.replace(/ /g,"+") +
             "&deptcode=" + theForm.alredept.value.replace(/ /g,"+");

    SetCookie("CloseReferralCookie",closereferralstring);

    }
    theForm.submit();
}
function SetRedirect() {
  UpdateForm.nextpage.value="6";
  UpdateForm.redirect.value=UpdateForm.DEFDIRCT.value
}
function PackComments(){
UpdateForm.alenc107.value=UpdateForm.comments.value.substring(0,80);
UpdateForm.alenc108.value=UpdateForm.comments.value.substring(80,160);
}
function ShowFields() {
   LinkedHeading.innerHTML=DisplayLinkedHeading.innerHTML;
   Linked.innerHTML=DisplayLinked.innerHTML;
   if(!isWhitespace(document.UpdateForm.alenc008.value)) {
     LinkedHeading.innerHTML=DisplayLinkedHeading.innerHTML;
     Linked.innerHTML=ReadOnlyLinked.innerHTML;
   }
}
</script>
</head>

%START.OF.PAGE
<body onload="PageLoad(event);ShowFields();CommonContact(UpdateForm);">
<span class=DFrameTitleBar>
<img border=0 align=right src=../images/ExitIcon.gif 
 onclick="DFrameExitRefresh();">
Add Contact for %ALLWEB03.01.125.0
</span>

<div id=PageBodySection>
<form name=UpdateForm action="allweb03.pbl" method=post style="margin:0"
 onsubmit='return validateMandatory(this)'>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=001>
<input type=hidden name=nextpage value=0>
<input type=hidden name=redirect value="">
<input type=hidden name=DEFDIRCT value='%ALLWEB03.01.001.allweb03.01.001'>
<input type=hidden name=urnumber value='%ALLWEB03.01.003'>
<input type=hidden name=admissno value='%ALLWEB03.01.081'>
<input type=hidden name=alenc001 value='%ALLWEB03.01.081'>
<input type=hidden name=updatety value="A">
<input type=hidden name=dummyret value="">
<input type=hidden name=dummysit value="">
<input type=hidden name=dummydat value="">
<input type=hidden name=dummy1>
<input type=hidden name=mbs value="M">
<input type=hidden name=alenc107 value=" ">
<input type=hidden name=alenc108 value=" ">
<input type=hidden name=billablef value='%ALLWEB03.01.302'>
<input type=hidden name=alredept value="%ALLWEB03.01.125.1">
<input type=hidden name=deptlcod value="%ALLWEB03.01.125.3">

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Department</td>
    <td class=DataField width=35%>
    <input type=text readonly size=40 name=dept class="ReadOnly" tabindex=-1
     value="%ALLWEB03.01.125.0">
    </td>
    <td class=DataLabel width=15%>Entered by</td>
    <td><input type=text name=userid value="%ALLWEB03.01.168"
         tabindex=-1 class=ReadOnly readonly></td></tr>

<tr><td class=DataLabel>Contact Date</td>
    <td>
    <input type=text name=alenc005 value='%STANDARD.01.015' title="Contact Date"
     class='PastDate Mandatory' Size=9 onblur="checkDate(this,'Date')" 
     tabindex=1 >
    <img src=../images/DateLookup.gif class="Icon"
     onclick="DateLookupFrame(UpdateForm.alenc005);">
    Time
    <input type=text size=8 class=Mandatory title="Time" tabindex=2
     name=alenc006 value='%STANDARD.01.016'>
    <a href='javascript:SetCurrentDateTime(null,UpdateForm.alenc006)'>
    <img src=../images/DateTimeStamp.gif class="Icon"></a>
    <a href='javascript:TimeLookupFrame(UpdateForm.alenc006)'>
    <img src=../images/TimeLookup.gif class="Icon"></a>
   </td>
    <td class=DataLabel><div id=LinkedHeading></div></td>
    <td class=DataField><div id=Linked></div>
    </td></tr>

<tr><td class=DataLabel>Health Care Provider</td>
    <td><input type=text name=alenc004 size=10 maxlength=10 class=Mandatory
     value="%STANDARD.01.010"
     onblur="ValidateHCP(18,13,UpdateForm.alenc004,UpdateForm.SProvider);" 
     tabindex=3
     title="Health Care Provider">
    <input type=text name=SProvider size=20 class=Readonly readonly
      title="Health Care Provider" value="%ALLWEB03.01.138.0">
    <img src=../images/SearchIcon.gif class=Icon
     onclick=HCPSearchFrame(alenc004,SProvider,4) >
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(UpdateForm.alenc004,UpdateForm.SProvider);"></td>
    <td class=DataLabel>Next Review Date</td>
    <td><input type=text name=alref037 size=12 tabindex=30
         class="FutureDate" title="Next Review Date" value="%ALLWEB03.01.137">
        <img src="../images/DateTimeStamp.gif" class=Icon
         date=UpdateForm.alref037 time=null>
        <img src="../images/DateLookup.gif" class=Icon
         date=UpdateForm.alref037>
    </td></tr>

<tr><td class=DataLabel>Direct Units</td>
    <td class=DataField>
    <input type=text size=12 maxsize=5 name=alenc011 title="Direct Units"
     tabindex=4
     min=0 class=Mandatory onblur=checkInteger(this,this.title)></td>
    <td class=DataLabel>Indirect Units</td>
    <td class=DataField>
    <input type=text size=12 maxsize=5 name=alenc013 title="Indirect Units"
     min=0 onblur="checkInteger(this,this.title);" tabindex=15>
    </td>
  </tr>

<tr><td class=DataLabel>%STANDARD.01.017.CL</td>
   <td class=DataField><select class="Mandatory SelectBig" tabindex=5
        name=alenc115  title="%STANDARD.01.017.CL">
    <option></option>
    %ALLWEB03.01.135.2
    </select></td>
    <td class=DataLabel>Travel Time</td>
    <td class=DataField>
    <input type=text size=12 maxlength=8 name=alenc106 title="Travel time"
     tabindex=16 min=0 onblur=checkInteger(this,this.title)>
    </td>
    </tr>

<tr><td class=DataLabel>Client Present Status</td>
    <td class=DataField>
      <select class="Mandatory SelectBig" name=alenc083 tabindex=6
       title="Client Present Status">
      <option></option>
      %STANDARD.01.018.zK.   .5
      </select>
   </td>
   <td class=DataLabel>Service Activity 1</td>
   <td class=DataField>
   <input type=text size=10 name=itemn001 title="Service Activity 1"
    onblur="validatePMBS(UpdateForm.itemn001,UpdateForm.dummy);" tabindex=17>
   <input type=text size=20 name=dummy value="" readonly class=Readonly
    tabindex=-1>
   <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(UpdateForm.dummyret,UpdateForm.itemn001,
             UpdateForm.dummysit,UpdateForm.dummyret,
             UpdateForm.dummy,UpdateForm.mbs);'>
   <img src="../images/ClearIcon.gif" class=Icon
    onclick="clrFields(UpdateForm.itemn001,UpdateForm.dummy);">
   </td>
   </tr>

<tr><td class=DataLabel>Delivery Mode</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc084
       title="Delivery Mode" tabindex=7>
      <option></option>
      %STANDARD.01.018.zL.   .5
      </select></td>
    <td class=DataLabel>Service Activity 2</td>
    <td class=DataField>
    <input type=text size=10 name=itemn002 title="Service Activity 2"
     onblur="validatePMBS(UpdateForm.itemn002,UpdateForm.dummy2);" tabindex=18>
   <input type=text size=20 name=dummy2 value="" readonly class=Readonly
    tabindex=-1>
   <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(UpdateForm.dummyret,UpdateForm.itemn002,
             UpdateForm.dummysit,UpdateForm.dummyret,
             UpdateForm.dummy2,UpdateForm.mbs);'>
   <img src="../images/ClearIcon.gif" class=Icon
    onclick="clrFields(UpdateForm.itemn002,UpdateForm.dummy2);">
   </td>
   </tr>

<tr><td class=DataLabel>Delivery Setting</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc086
       title="Delivery Setting" tabindex=8>
      <option></option>
      %STANDARD.01.018.zN.   .5
      </select>
    </td>
    <td class=DataLabel>Service Activity 3</td>
    <td class=DataField>
    <input type=text size=10 name=itemn003 title="Service Activity 3"
     onblur="validatePMBS(UpdateForm.itemn003,UpdateForm.dummy3);" tabindex=19>
    <input type=text size=20 name=dummy3 value="" readonly class=Readonly
     tabindex=-1>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(UpdateForm.dummyret,UpdateForm.itemn003,
             UpdateForm.dummysit,UpdateForm.dummyret,
             UpdateForm.dummy3,UpdateForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(UpdateForm.itemn003,UpdateForm.dummy3);">
    </td>
    </tr>

<tr><td class=DataLabel>Session Type</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc081
       title="Session Type" tabindex=9>
      <option></option>
      %STANDARD.01.018.zI.   .5
      </select>
    </td>
    <td class=DataLabel>Service Activity 4</td>
    <td class=DataField>
    <input type=text size=10 name=itemn004 title="Service Activity 4"
     onblur="validatePMBS(UpdateForm.itemn004,UpdateForm.dummy4);" tabindex=20>
    <input type=text size=20 name=dummy4 value="" readonly class=Readonly
     tabindex=-1>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(UpdateForm.dummyret,UpdateForm.itemn004,
             UpdateForm.dummysit,UpdateForm.dummyret,
             UpdateForm.dummy4,UpdateForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(UpdateForm.itemn004,UpdateForm.dummy4);">
    </td>
    </tr>

<tr><td class=DataLabel>The Patient is being discharged</td>
    <td class=DataField>
        <input type=checkbox name=checkbx3 value="1" tabindex=23></td>
    <td class=DataLabel>Service Activity 5</td>
    <td class=DataField>
    <input type=text size=10 name=itemn005 title="Service Activity 5"
     onblur="validatePMBS(UpdateForm.itemn005,UpdateForm.dummy5);" tabindex=21>
    <input type=text size=20 name=dummy5 value="" readonly class=Readonly
     tabindex=-1>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(UpdateForm.dummyret,UpdateForm.itemn005,
             UpdateForm.dummysit,UpdateForm.dummyret,
             UpdateForm.dummy5,UpdateForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(UpdateForm.itemn005,UpdateForm.dummy5);">
    </td>
    </tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td class=DataField>&nbsp;</td>
    <td class=DataLabel>Service Activity 6</td>
    <td class=DataField>
    <input type=text size=10 name=itemn006 title="Service Activity 6"
     onblur="validatePMBS(UpdateForm.itemn006,UpdateForm.dummy6);" tabindex=22>
    <input type=text size=20 name=dummy6 value="" readonly class=Readonly
     tabindex=-1>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(UpdateForm.dummyret,UpdateForm.itemn006,
             UpdateForm.dummysit,UpdateForm.dummyret,
             UpdateForm.dummy6,UpdateForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(UpdateForm.itemn006,UpdateForm.dummy6);">
    </td>
    </tr>

<tr valign=top><td class=DataLabel>Comments</td>
    <td class=DataField colspan=3>
    <textarea rows=3 cols=60 onblur=PackComments() name=comments tabindex=30
     onkeydown="LimitText(this,3,160);"></textarea>
    </td></tr>

<tr><td class=DataLabel>Additional HCP</td>
    <td><input type=checkbox name=addithcp value="1" tabindex=31
         onclick="CheckUpdHCP();"></td></tr>
</table>

<div id=AdditionalHCP></div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td colspan=4 align=center><br>
    <input type=button name=formactn value="Add" class="button" id="all03sub"
     tabindex=100
     onclick='tempDisable(this);AddEncounter(UpdateForm);'>
    <input type=button Value="Cancel" class="button" tabindex=101
     onclick="DFrameCloseRefresh();">
    </td></tr>
</table>
</form>
</div>

<span id="DisplayLinkedHeading" style="display:none;">
Linked Visit
</span>
<span id="ReadOnlyLinked" style="display:none;">
    <input type=text size=10 name=alenc008 class="Readonly JustifyRight"
     value="%ALLWEB03.01.305" readonly tabindex=-1>
</span>
<span id="DisplayLinked" style="display:none;">
    <input type=text size=10 maxlength=8 name=alenc008 value="%ALLWEB03.01.305"
     class="JustifyRight" onblur="justifyRight(this); tabindex=-1
     ValidateVisit(UpdateForm.alenc008,UpdateForm.urnumber,
                   UpdateForm.dummy1);">
    <img src=../images/SearchIcon.gif class=Icon
    onclick=VisitSearchFrame(UpdateForm.urnumber,UpdateForm.alenc008)>
</span>

<span id="ShowAdditionalHCP" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Additional HCP 1</td>
    <td><input type=text name=alenc025 size=10 maxlength=10
         title="Additional HCP 1" tabindex=40
         onblur="ValidateHCP(18,0,UpdateForm.alenc025,UpdateForm.d_alenc025);">
        <input type=text name=d_alenc025 size=20 class=Readonly readonly
         title="Additional HCP 1">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc025,d_alenc025,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alenc025,UpdateForm.d_alenc025);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 2</td>
    <td><input type=text name=alenc026 size=10 maxlength=10
         title="Additional HCP 2" tabindex=41
         onblur="ValidateHCP(18,0,UpdateForm.alenc026,UpdateForm.d_alenc026);">
        <input type=text name=d_alenc026 size=20 class=Readonly readonly
         title="Additional HCP 2">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc026,d_alenc026,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alenc026,UpdateForm.d_alenc026);">
    </td></tr>

<tr><td class=DataLabel width=15%>Additional HCP 3</td>
    <td><input type=text name=alenc027 size=10 maxlength=10
         title="Additional HCP 3" tabindex=42
         onblur="ValidateHCP(18,0,UpdateForm.alenc027,UpdateForm.d_alenc027);">
        <input type=text name=d_alenc027 size=20 class=Readonly readonly
         title="Additional HCP 3">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc027,d_alenc027,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alenc027,UpdateForm.d_alenc027);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 4</td>
    <td><input type=text name=alenc028 size=10 maxlength=10
         title="Additional HCP 4" tabindex=43
         onblur="ValidateHCP(18,0,UpdateForm.alenc028,UpdateForm.d_alenc028);">
        <input type=text name=d_alenc028 size=20 class=Readonly readonly
         title="Additional HCP 4">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc028,d_alenc028,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alenc028,UpdateForm.d_alenc028);">
    </td></tr>
</table>
</span>
<script type="text/javascript">
 ValidateHCP(18,13,UpdateForm.alenc004,UpdateForm.SProvider);
</script>
