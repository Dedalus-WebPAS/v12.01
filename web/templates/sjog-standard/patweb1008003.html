<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="sjog-standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" name="CrossBrowser" content="true">
<script type="text/javascript">
function PostUpdate() {
  SetCheckBoxes();
  document.UpdateForm.UpdButton.disabled=true;
  setTimeout('document.UpdateForm.UpdButton.disabled=false;',1500);
  setFormactn('U')
}
function SetCheckBoxes() {
  var f = document.UpdateForm;
  if (f.d_pmbrq020.checked == true) {
    f.pmbrq020.value = "1";
  }
  else {
    f.pmbrq020.value = "0";
  }
  if (f.d_pmbrq021.checked == true) {
    f.pmbrq021.value = "1";
  }
  else {
    f.pmbrq021.value = "0";
  }
  if (f.d_pmbrq022.checked == true) {
    f.pmbrq022.value = "1";
  }
  else {
    f.pmbrq022.value = "0";
  }
  if (f.d_pmbrq023.checked == true) {
    f.pmbrq023.value = "1";
  }
  else {
    f.pmbrq023.value = "0";
  }
  if (f.d_pmbrq024.checked == true) {
    f.pmbrq024.value = "1";
  }
  else {
    f.pmbrq024.value = "0";
  }
  if (f.d_pmbrq025.checked == true) {
    f.pmbrq025.value = "1";
  }
  else {
    f.pmbrq025.value = "0";
  }
  if (f.d_pmbrq026.checked == true) {
    f.pmbrq026.value = "1";
  }
  else {
    f.pmbrq026.value = "0";
  }
  if (f.d_pmbrq027.checked == true) {
    f.pmbrq027.value = "1";
  }
  else {
    f.pmbrq027.value = "0";
  }
  if (f.d_pmbrq028.checked == true) {
    f.pmbrq028.value = "1";
  }
  else {
    f.pmbrq028.value = "0";
  }
  if (f.d_pmbrq029.checked == true) {
    f.pmbrq029.value = "1";
  }
  else {
    f.pmbrq029.value = "0";
  }
  if (f.d_pmbrq031.checked == true) {
    f.pmbrq031.value = "1";
  }
  else {
    f.pmbrq031.value = "0";
  }
  if (f.d_pmbrq032.checked == true) {
    f.pmbrq032.value = "1";
  }
  else {
    f.pmbrq032.value = "0";
  }
}
function SetExpBed() {
 ToggleReadyDT(document.UpdateForm.pmbrq009); // Enable Ready Date if Ward Selected
 if(isWhitespace(document.UpdateForm.pmbrq009.value) ||
    isWhitespace(document.UpdateForm.d_pmbrq010.value)) {
   return;
 }
 selectOptions2('31',document.UpdateForm.pmbrq009,document.UpdateForm.pmbrq010,'1');
 for (var i =0 ; i < document.UpdateForm.pmbrq010.length; i++) {
 if (document.UpdateForm.pmbrq010.options[i].value==
     document.UpdateForm.d_pmbrq010.value) {
     document.UpdateForm.pmbrq010.selectedIndex=i } };
 document.UpdateForm.d_pmbrq010.value="";
}

function ShowReadyDT() {
  if(document.getElementById('ReadyDateTime')) {
     document.getElementById('ReadyDateTime').style.display="";
  }
}

function HideReadyDT() {
  if (document.getElementById('ReadyDateTime')) {
    document.UpdateForm.pmbrq016.value = "";
    document.UpdateForm.pmbrq017.value = "";
    document.getElementById('ReadyDateTime').style.display="none";
  }
}

function ToggleReadyDT(DDLWard) {
  // Show Ward Bed Ready Date & Time
  if (!DDLWard || DDLWard == undefined)
    return;

  if (DDLWard.selectedIndex != 0) {
    ShowReadyDT();
  }
  else {
    HideReadyDT();
  }
}
function ShowMobilAssistScore() {
  var f = document.UpdateForm;
  if (f.d_pmbrq029.checked == "1") {
    MobAssistScore.innerHTML = showMobAssistScore.innerHTML;
  }
  else {
    MobAssistScore.innerHTML = mobAssistScoreBlank.innerHTML;
  }
}
function setWardListOnLoad() {
  var f = document.UpdateForm;
  pward = trim(f.prefward.value);
  selectOptions2("3",f.pmbrq014,f.pmbrq019);
  for (var i =0 ; i < f.pmbrq019.length; i++) {
    if(trim(f.pmbrq019.options[i].value) == pward) {
      f.pmbrq019.selectedIndex=i
    }
  }
}
function setWardList() {
  var f = document.UpdateForm;
  pward = trim(f.pmbrq019.value);
  selectOptions2("3",f.pmbrq014,f.pmbrq019);
  for (var i =0 ; i < f.pmbrq019.length; i++) {
    if(trim(f.pmbrq019.options[i].value) == pward) {
      f.pmbrq019.selectedIndex=i
    }
  }
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">
  document.write('Ward/Bed Request - %PATWEB10.08.002');</script>
</span>
<form id=UpdateForm name=UpdateForm method=post action=patweb10.pbl style="margin:0">
<input type=hidden id=reportno name=reportno value="8">
<input type=hidden id=template name=template value="003">
<input type=hidden id=updttype name=updttype value=" ">
<input type=hidden id=urnumber name=urnumber value="%PATWEB10.08.003">
<input type=hidden id=admissno name=admissno value="%PATWEB10.08.101">
<input type=hidden id=pmbrq001 name=pmbrq001 value="%PATWEB10.08.101">
<input type=hidden id=d_pmbrq007 name=d_pmbrq007 value="%PATWEB10.08.107.1">
<input type=hidden id=ibcnmhos name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
<input type=hidden id=d_pmbrq010 name=d_pmbrq010 value="">
<input type=hidden id=pmbrq020 name=pmbrq020 value="">
<input type=hidden id=pmbrq021 name=pmbrq021 value="">
<input type=hidden id=pmbrq022 name=pmbrq022 value="">
<input type=hidden id=pmbrq023 name=pmbrq023 value="">
<input type=hidden id=pmbrq024 name=pmbrq024 value="">
<input type=hidden id=pmbrq025 name=pmbrq025 value="">
<input type=hidden id=pmbrq026 name=pmbrq026 value="">
<input type=hidden id=pmbrq027 name=pmbrq027 value="">
<input type=hidden id=pmbrq028 name=pmbrq028 value="">
<input type=hidden id=pmbrq029 name=pmbrq029 value="">
<input type=hidden id=pmbrq031 name=pmbrq031 value="">
<input type=hidden id=pmbrq032 name=pmbrq032 value="">
<input type=hidden id=prefward name=prefward value="%PATWEB10.08.139.0">

<table align=center width=100% border=0>
<tr><td class=DataLabel width=20%>Request Date</td>
    <td><input type=text size=12 id=pmbrq002 name=pmbrq002 class="Readonly" 
         title="Request Date" readonly value="%PATWEB10.08.102">
         Time
        <input class=Readonly readonly type=text id=pmbrq003 name=pmbrq003 size=8
         value="%PATWEB10.08.103" title="Request Time">
    </td>
    </tr>

<tr><td class=DataLabel>Bed Requested By</td>
    <td><select id=pmbrq004 name=pmbrq004 class=Mandatory title="Bed Requested By">
        <option></option>
        %PATWEB10.08.104.9.1.02.2.R
        </select>
    </td></tr>

<tr><td class=DataLabel>Inpatient Specialty</td>
    <td><select id=pmbrq013 name=pmbrq013 class=Mandatory title="Inpatient Specialty">
        <option></option>
        %PATWEB10.08.128.9.1.25.1.B
        </select>
    </td></tr>

<tr><td class=DataLabel>Type of Bed Required</td>
    <td><select id=pmbrq006 name=pmbrq006 title="Type of Bed Required">
        <option></option>
        %PATWEB10.08.106.9.1.05.1.B
        </select>
    </td></tr>
</table>

<div id="Hospital"></div>
<table align=center width=100% border=0>
<tr><td class=DataLabel>Preferred Ward</td>
    <td><select id=pmbrq019 name=pmbrq019 title="Preferred Ward">
        <option></option>
        %PATWEB10.08.139.1
        </select>
    </td></tr>

<tr><td class=DataLabel width=20%>Diagnosis</td>
    <td colspan=2><input type=text size=12 maxlength=10 name=pmbrq008
     id=pmbrq008 class=Mandatory
     onchange="validateCode(6,UpdateForm.pmbrq008,UpdateForm.n_pmbrq008);"
     title="Diagnosis" value="%PATWEB10.08.108.1">
    <input type=text id=n_pmbrq008 name=n_pmbrq008 readonly class=Readonly 
     size=50
     title="Diagnosis Description"
     tabindex=-1 value="%PATWEB10.08.108.0">
    <img src="../images/SearchIcon.gif" class=Icon
     onclick="Icd10DisSearchFrame(UpdateForm.pmbrq008,UpdateForm.n_pmbrq008);">
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(pmbrq008,n_pmbrq008);">
    </td>
</tr>

<tr><td class=DataLabel width=20%>%STANDARD.01.017.es</td>
    <td class=DataField>%PATWEB10.08.329.0<td>
</tr>

<tr><td class=DataLabel valign=top>Notes</td>
    <td colspan=2>
    <textarea id=bedrqcom name=bedrqcom wrap=hard title="Notes"
     rows=5 cols=70>%PATWEB10.08.124</textarea>
    </td></tr>
</table>

<table align=center width=100% border=0>
<tr><td class=DataLabel>Special Features</td>
    <td><input type=checkbox id=d_pmbrq020 name=d_pmbrq020 value="1">
    <i>Falls Risk</i></td>
    <td><input type=checkbox id=d_pmbrq021 name=d_pmbrq021 value="1">
    <i>Existing Pressure Injury</i></td>
    <td><input type=checkbox id=d_pmbrq022 name=d_pmbrq022 value="1">
    <i>Cognitive Impairment</i></td>
    <td><input type=checkbox id=d_pmbrq023 name=d_pmbrq023 value="1">
    <i>Companion</i></td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=checkbox id=d_pmbrq024 name=d_pmbrq024 value="1">
    <i>TBP (Isolation)</i></td>
    <td><input type=checkbox id=d_pmbrq025 name=d_pmbrq025 value="1">
    <i>Telemetry</i></td>
    <td><input type=checkbox id=d_pmbrq026 name=d_pmbrq026 value="1">
    <i>From Residential Care</i></td>
    <td><input type=checkbox id=d_pmbrq027 name=d_pmbrq027 value="1">
    <i>Other (see notes)</i></td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=checkbox id=d_pmbrq028 name=d_pmbrq028 value="1">
    <i>None Required</i></td>
    <td><input type=checkbox id=d_pmbrq029 name=d_pmbrq029 value="1"
     onclick="ShowMobilAssistScore()";>
    <i>Mobility Assistance</i></td>
    <td><div id=MobAssistScore></div></td>
    <td class=DataLabel>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Suitable for Ward Transfer</td>
    <td><input type=checkbox id=d_pmbrq031 name=d_pmbrq031 value="1"></td>
    <td class=DataLabel>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
</tr>
<tr valign=top><td class=DataLabel>Prior To Adm Team Review</td>
    <td class=DataLabel>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
</tr>
</table>

<table align=center width=100% border=0>
<tr><td class=DataLabel width=20%>Inpatient Consultant</td>
   <td><input type=text name=pmbrq005 id=pmbrq005 size=10 maxlength=8 
        title="Inpatient Consultant" value="%PATWEB10.08.105.1"
        onchange="UpCase(this); ValidateHCP(18,14,pmbrq005,n_pmbrq005);">
       <input type=text name=n_pmbrq005 id=n_pmbrq005 size=35 readonly
        title="Inpatient Consultant Name"
        class=Readonly tabindex=-1 value="%PATWEB10.08.105.0">
       <img src="../images/SearchIcon.gif" class=Icon
        onclick="HCPSearchFrame(UpdateForm.pmbrq005,UpdateForm.n_pmbrq005,1);">
        <img src="../images/ClearIcon.gif" class=Icon
        onclick="clrFields(pmbrq005,n_pmbrq005);">
       </td></tr>

</table>

<table align=center width=100% border=0>
<tr><td align=center colspan=3 rows=4><hr></td></tr>

<tr><td class=DataLabel width=20%>Expected Ward / Bed </td>
    <td><input type=hidden name=bedstat1 id=bedstat1>
        <input type=hidden name=warddesc id=warddesc>
        <select name=pmbrq009 id=pmbrq009 tabindex=13
         title="Expected Ward"
         onfocus="SetExpBed();" 
         onchange="selectOptions2('31',
                                  UpdateForm.pmbrq009,
                                  UpdateForm.pmbrq010,
                                  '1');
                   ToggleReadyDT(this);">
        <option> </option>
         %PATWEB10.08.109.2
        </select>
        <select name=pmbrq010 id=pmbrq010 title="Expected Bed">
        <option></option>
         %PATWEB10.08.130
        </select>
        <img notab src="../images/SearchIcon.gif" class=Icon
         id=wardsrch name=wardsrch
         onclick="WardBedSearchFrame(UpdateForm.pmbrq009,
                                     UpdateForm.warddesc,
                                     UpdateForm.d_pmbrq010,
                                     UpdateForm.bedstat1);">
        <img src="../images/ClearIcon.gif" class=Icon
         id=wardbclr name=wardbclr
         onclick="UpdateForm.pmbrq009.selectedIndex=0;
                  UpdateForm.d_pmbrq010.value='';
                  UpdateForm.pmbrq010.options.length=0;HideReadyDT();">
    </td>
    <td class=DataLabel>
      <span id=ReadyDateTime style="display:none">
        &nbsp;&nbsp;Ward Bed Ready Date
        <input type=text name=pmbrq016 id=pmbrq016 size=12
         title="Ward Bed Ready Date"
         value="%PATWEB10.08.134">
        <img src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(pmbrq016);">Time&nbsp;
        <input type=text name=pmbrq017 id=pmbrq017 size=8
         title="Ward Bed Ready Time"
         value="%PATWEB10.08.135">
        <img src="../images/DateTimeStamp.gif" class=Icon
         onclick="SetCurrentDateTime(pmbrq016,pmbrq017);">
        <img src="../images/TimeLookup.gif" class=Icon
         onclick="TimeLookupFrame(pmbrq017);">
      </span>
    </td>
</tr>

<tr><td class=DataLabel width=20%>Companion Requirement Confirmed</td>
    <td><input type=checkbox id=d_pmbrq032 name=d_pmbrq032 value="1"></td>
</tr>

<tr><td class=DataLabel width=20%>Created By</td>
    <td>%PATWEB10.08.120 &nbsp;%PATWEB10.08.118 %PATWEB10.08.119</td></tr>

<tr><td class=DataLabel width=20%>Allocated By</td>
    <td>%PATWEB10.08.114 &nbsp;%PATWEB10.08.112 %PATWEB10.08.113</td></tr>

<tr><td class=DataLabel width=20%><span id=InsertCanBy style="display: none">
                         Cancelled By
                        </span>
    </td><td>
    <span id=InsertCanDet style="display: none">
     %PATWEB10.08.117 &nbsp;%PATWEB10.08.115 %PATWEB10.08.116
     </span>
    </td></tr>

</table>

<table align=center width=100% border=0>
<tr><td align=center><br>
   <span id=InsertUpdButton style="display: none">
   <input type=button value="Update" class=button
    name=UpdButton id=UpdButton 
    onclick="tempDisable(this);PostUpdate();">
   </span>

   <span id=InsertDelButton style="display: none">
   <input type=button id=btnDelete value="Delete" class="button"
    onclick="tempDisable(this);setFormactn('D');">
   </span>

   <input type=button value=Close class="button" onclick="DFrameCloseRefresh()">
</td></tr>
</table>
</form>

<span id="ShowHospital" style="display: none">
<table align=center width=100% border=0>
<tr><td class=DataLabel width=20%>Preferred Hospital</td>
    <td><select id=pmbrq014 name=pmbrq014 class=Mandatory title="Preferred Hospital"
        onchange="setWardList();">
        <option></option>
        %PATWEB10.08.129.1
        </select>
    </td></tr>
</table>
</span>

<span id=showMobAssistScore style="display:none">
  <td><select id=pmbrq030 name=pmbrq030 class="Mandatory" 
       title="Mobility Assistance Score">
      <option></option>
        %PATWEB10.08.150.2
      </select></td>
</span>
<span id=mobAssistScoreBlank style="display:none">
</span>

<script type="text/javascript">
var f = document.UpdateForm;

if(document.UpdateForm.d_pmbrq007.value=="3" ||
   document.UpdateForm.d_pmbrq007.value=="4") {
   document.UpdateForm.pmbrq009.disabled=true;
   document.UpdateForm.pmbrq010.disabled=true;
   document.UpdateForm.wardsrch.disabled=true;
   document.UpdateForm.wardbclr.disabled=true;
   InsertUpdButton.style.display="none";
} else {
   InsertUpdButton.style.display="";
}
if(document.UpdateForm.d_pmbrq007.value==" " ||
   document.UpdateForm.d_pmbrq007.value=="1") {
   InsertDelButton.style.display="";
} else {
   InsertDelButton.style.display="none";
}
if(document.UpdateForm.d_pmbrq007.value=="4") {
   InsertCanBy.style.display="";
   InsertCanDet.style.display="";
} else {
   InsertCanBy.style.display="none";
   InsertCanDet.style.display="none";
}
if(f.ibcnmhos.value=="1") {
  document.getElementById('Hospital').innerHTML=ShowHospital.innerHTML
  document.getElementById('Hospital').style.display="";
  setWardListOnLoad();
}

ToggleReadyDT(document.UpdateForm.pmbrq009); 

var specFeat = "%PATWEB10.08.140";
if (specFeat == "1") {
  f.d_pmbrq020.checked = "1";
}
specFeat = "%PATWEB10.08.141";
if (specFeat == "1") {
  f.d_pmbrq021.checked = "1";
}
specFeat = "%PATWEB10.08.142";
if (specFeat == "1") {
  f.d_pmbrq022.checked = "1";
}
specFeat = "%PATWEB10.08.143";
if (specFeat == "1") {
  f.d_pmbrq023.checked = "1";
}
specFeat = "%PATWEB10.08.144";
if (specFeat == "1") {
  f.d_pmbrq024.checked = "1";
}
specFeat = "%PATWEB10.08.145";
if (specFeat == "1") {
  f.d_pmbrq025.checked = "1";
}
specFeat = "%PATWEB10.08.146";
if (specFeat == "1") {
  f.d_pmbrq026.checked = "1";
}
specFeat = "%PATWEB10.08.147";
if (specFeat == "1") {
  f.d_pmbrq027.checked = "1";
}
specFeat = "%PATWEB10.08.148";
if (specFeat == "1") {
  f.d_pmbrq028.checked = "1";
}
specFeat = "%PATWEB10.08.149";
if (specFeat == "1") {
  f.d_pmbrq029.checked = "1";
}
specFeat = "%PATWEB10.08.151";
if (specFeat == "1") {
  f.d_pmbrq031.checked = "1";
}
specFeat = "%PATWEB10.08.152";
if (specFeat == "1") {
  f.d_pmbrq032.checked = "1";
}

ShowMobilAssistScore();

</script>
