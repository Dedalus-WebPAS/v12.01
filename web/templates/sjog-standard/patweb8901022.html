<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome"    content="sjog-standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/patweb89.js"></script>
%START.OF.PAGE
<script type="text/javascript">

function getPortalCookie() {
  if (GetCookieData("sjogwaPortalCOOKIE") != 'unknown') {
    ExpireCookiePath("sjogwaPortalCOOKIE");
    sjogprtl = "1";
  }
}

var sjogprtl = "";
getPortalCookie();
if("%STANDARD.01.025.119.182.0.1" == "1" &&
   sjogprtl != "1") {  // ptcnepis
  var src="../js/eAdmissionReg.js"
} else {
  var src="../js/DefaultOnlineNok.js";
}
var script = document.createElement("script");
             script.setAttribute("src", src);
             script.setAttribute("type", "text/javascript");
document.getElementsByTagName("head")[0].appendChild(script);
function checkVis() {
 if(document.UpdateForm.ptpra001.value!="" | document.UpdateForm.ptpra002!=""){
 if(document.UpdateForm.admissno.value==""){
   alert("Person Responsible will not be saved, no visit selected.");
  }
 }
}
function setRedirect() {
  if (window.name == "content") {
     document.UpdateForm.redirect.value="emrweb02.pbl?reportno=1&template=100" +
        "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
        "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")
   }
  else {
     document.UpdateForm.redirect.value="emrweb01.pbl?reportno=1&template=1"
  }
  document.UpdateForm.submit();
}
// Default PRA to patient details
function PRASelf() {
  document.UpdateForm.ptpra002.value=document.hiddenvalues.padd1.value
  document.UpdateForm.ptpra003.value=document.hiddenvalues.padd2.value
  document.UpdateForm.ptpra004.value=document.hiddenvalues.padd3.value
  document.UpdateForm.ptpra005.value=document.hiddenvalues.padd4.value
  document.UpdateForm.ptpra006.value=document.hiddenvalues.ppost.value
  document.UpdateForm.ptpra007.value=document.hiddenvalues.ptelep.value
  //document.UpdateForm.ptpra008.value=document.hiddenvalues.pteleb.value
  document.UpdateForm.ptpra010.value=document.hiddenvalues.pmobil.value
  checkVis();
}
// Default Postal address to patient details
function PostSelf() {
  document.UpdateForm.ptmsx040.value=document.hiddenvalues.padd1.value
  document.UpdateForm.ptmsx041.value=document.hiddenvalues.padd2.value
  document.UpdateForm.ptmsx042.value=document.hiddenvalues.padd3.value
  document.UpdateForm.ptmsx043.value=document.hiddenvalues.padd4.value
  document.UpdateForm.ptmsx044.value=document.hiddenvalues.ppost.value
}
// Clear Postal address
function PostClear() {
  document.UpdateForm.ptmsx040.value=""
  document.UpdateForm.ptmsx041.value=""
  document.UpdateForm.ptmsx042.value=""
  document.UpdateForm.ptmsx043.value=""
  document.UpdateForm.ptmsx044.value=""
}
// Clear PRA details
function PRAClear() {
  document.UpdateForm.ptpra001.value="";
  document.UpdateForm.ptpra002.value="";
  document.UpdateForm.ptpra003.value="";
  document.UpdateForm.ptpra004.value="";
  document.UpdateForm.ptpra005.value="";
  document.UpdateForm.ptpra006.value="";
  document.UpdateForm.ptpra007.value="";
  document.UpdateForm.ptpra008.value="";
  document.UpdateForm.ptpra009.value="";
  document.UpdateForm.ptpra010.value="";
}
// Default NOK to patient details
function NOKSelf() {
  document.UpdateForm.ptmas050.value=document.hiddenvalues.padd1.value
  document.UpdateForm.ptmas051.value=document.hiddenvalues.padd2.value
  document.UpdateForm.ptmas052.value=document.hiddenvalues.padd3.value
  document.UpdateForm.ptmas053.value=document.hiddenvalues.padd4.value
  document.UpdateForm.ptmas054.value=document.hiddenvalues.ppost.value
  document.UpdateForm.ptmas055.value=document.hiddenvalues.ptelep.value
  //document.UpdateForm.ptmas056.value=document.hiddenvalues.pteleb.value
}
// Clear NOK details
function NOKClear() {
  document.UpdateForm.ptmas049.value="";
  document.UpdateForm.ptmas050.value="";
  document.UpdateForm.ptmas051.value="";
  document.UpdateForm.ptmas052.value="";
  document.UpdateForm.ptmas053.value="";
  document.UpdateForm.ptmas054.value="";
  document.UpdateForm.ptmas055.value="";
  document.UpdateForm.ptmas056.value="";
  document.UpdateForm.ptmas057.value="";
  document.UpdateForm.pmpmi011.value="";
  document.UpdateForm.pmpmi010.value="";
}
// Default Emergency Contact to patient details
function ECSelf() {
  document.UpdateForm.ptmsx011.value=document.hiddenvalues.padd1.value
  document.UpdateForm.ptmsx012.value=document.hiddenvalues.padd2.value
  document.UpdateForm.ptmsx013.value=document.hiddenvalues.padd3.value
  document.UpdateForm.ptmsx014.value=document.hiddenvalues.padd4.value
  document.UpdateForm.ptmsx015.value=document.hiddenvalues.ppost.value
  document.UpdateForm.ptmsx016.value=document.hiddenvalues.ptelep.value
  //document.UpdateForm.ptmsx017.value=document.hiddenvalues.pteleb.value
}
// Clear Emergency Contact details
function ECClear() {
  document.UpdateForm.ptmsx010.value="";
  document.UpdateForm.ptmsx011.value="";
  document.UpdateForm.ptmsx012.value="";
  document.UpdateForm.ptmsx013.value="";
  document.UpdateForm.ptmsx014.value="";
  document.UpdateForm.ptmsx015.value="";
  document.UpdateForm.ptmsx016.value="";
  document.UpdateForm.ptmsx017.value="";
  document.UpdateForm.ptmsx018.value="";
  document.UpdateForm.pmpmi008.value="";
  document.UpdateForm.pmpmi007.value="";
}
// Default Nearest Relative to patient details
function NRSelf() {
  document.UpdateForm.ptmsx020.value=document.hiddenvalues.padd1.value
  document.UpdateForm.ptmsx021.value=document.hiddenvalues.padd2.value
  document.UpdateForm.ptmsx022.value=document.hiddenvalues.padd3.value
  document.UpdateForm.ptmsx023.value=document.hiddenvalues.padd4.value
  document.UpdateForm.ptmsx024.value=document.hiddenvalues.ppost.value
  document.UpdateForm.ptmsx025.value=document.hiddenvalues.ptelep.value
  //document.UpdateForm.ptmsx026.value=document.hiddenvalues.pteleb.value
}
// Clear Nearest Relative details
function NRClear() {
  document.UpdateForm.ptmsx019.value="";
  document.UpdateForm.ptmsx020.value="";
  document.UpdateForm.ptmsx021.value="";
  document.UpdateForm.ptmsx022.value="";
  document.UpdateForm.ptmsx023.value="";
  document.UpdateForm.ptmsx024.value="";
  document.UpdateForm.ptmsx025.value="";
  document.UpdateForm.ptmsx026.value="";
  document.UpdateForm.ptmsx027.value="";
  document.UpdateForm.pmpmi013.value="";
  document.UpdateForm.pmpmi014.value="";
}

function CheckPostCode(suburb,state,postcode) {
    if ((isWhitespace(suburb.value)) &&
        (isWhitespace(postcode.value)))
       { return true; }
    if (trim(postcode.value)=="8888") {
       if (confirm("Click OK to confirm an Overseas Address")) {
          return true; }
       }
    var fulladdress = trim(postcode.value) + "," +
                      trim(suburb.value) + "," +
                      trim(state.value);
    tmp1 = fulladdress.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");
    for (var i =0; i<PC.length ; i++) {
      tmp2 = PC[i].replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");
      if  (tmp2.match(tmp1)) {
          SelectPC[SelectPC.length] = PC[i]
          return true;
      }
    }
    alert("Invalid Suburb/Post Code Combination");
    return false;
}



function ValidateAllPostCodes(){
 var check = true;
 if((!CheckPostCode(document.UpdateForm.ptmas052,
                      document.UpdateForm.ptmas053,
                      document.UpdateForm.ptmas054)) ||

    (!CheckPostCode(document.UpdateForm.ptmsx013,
                      document.UpdateForm.ptmsx014,
                      document.UpdateForm.ptmsx015)) ||

    (!CheckPostCode(document.UpdateForm.ptmsx022,
                      document.UpdateForm.ptmsx023,
                      document.UpdateForm.ptmsx024)) ||

    (!CheckPostCode(document.UpdateForm.ptpra004, 
                      document.UpdateForm.ptpra005, 
                      document.UpdateForm.ptpra006)) ||

    (!CheckPostCode(document.UpdateForm.ptmsx042,
                      document.UpdateForm.ptmsx043,
                      document.UpdateForm.ptmsx044))){
   check = false ;  
 }
 return check; 
}

function PostUpdate() {
  
  if(!ValidateAllPostCodes()) {
    return;
  }
 
  if(!validateMandatory(UpdateForm)) {
    return;
  }

  if(document.getElementById("ptcnepis").value=="1" &&
   sjogprtl != "1") {
    if(!isWhitespace(document.UpdateForm.admisnid.value)) {
       SetCookie("eAdmission",eAdmCookie);
       UpdateForm.redirect.value =
       "patweb14.pbl?reportno=03&template=001&urnumber="
       +PatientURN.replace(/ /g,"+")+"&admisnid="+getQueryString('admisnid');
    }
  }
  if (sjogprtl == "1") {
    SetCookie("sjogwaPortalCOOKIE","");
  }
  document.UpdateForm.submit();
}
</script>
<script type="text/javascript">
function SetFields1() {
  if(isWhitespace(document.UpdateForm.ptmsx013.value)){
   return;
  }
  var OldSuburb=trim("%PATWEB89.01.614")
  if(document.UpdateForm.ptmsx013.value!=OldSuburb){
    suburb = document.UpdateForm.ptmsx013;
    state = document.UpdateForm.ptmsx014;
    postcode = document.UpdateForm.ptmsx015;
    LookupPostCode(document.UpdateForm.ptmsx013.value);
  }
}
function SetFields2() {
  if(isWhitespace(document.UpdateForm.ptmas052.value)){
   return;
  }
  var OldSuburb=trim("%PATWEB89.01.056")
  if(document.UpdateForm.ptmas052.value!=OldSuburb){
    suburb = document.UpdateForm.ptmas052;
    state = document.UpdateForm.ptmas053;
    postcode = document.UpdateForm.ptmas054;
    LookupPostCode(document.UpdateForm.ptmas052.value);
  }
}
function SetFieldsPRA() {
  if(isWhitespace(UpdateForm.ptpra004.value)){
    return;
  }
  var OldSuburb=trim("%PATWEB89.01.169")
  if(UpdateForm.ptpra004.value!=OldSuburb){
  suburb = UpdateForm.ptpra004;
  state = UpdateForm.ptpra005;
  postcode = UpdateForm.ptpra006;
  LookupPostCode(UpdateForm.ptpra004.value);
  }
}
function SetFieldsNRL() {
  if(isWhitespace(UpdateForm.ptmsx022.value)){
    return;
  }
  var OldSuburb=trim("%PATWEB89.01.623")
  if(UpdateForm.ptmsx022.value!=OldSuburb){
  suburb = UpdateForm.ptmsx022;
  state = UpdateForm.ptmsx023;
  postcode = UpdateForm.ptmsx024;
  LookupPostCode(UpdateForm.ptmsx022.value);
  }
}
function SetFieldsPOST() {
  if(isWhitespace(UpdateForm.ptmsx042.value)){
    return;
  }
  var OldSuburb=trim("%PATWEB89.01.646")
  if(UpdateForm.ptmsx042.value!=OldSuburb){
  suburb = UpdateForm.ptmsx042;
  state = UpdateForm.ptmsx043;
  postcode = UpdateForm.ptmsx044;  
  LookupPostCode(UpdateForm.ptmsx042.value);
  }
}
function OnlinePreadmissionSJOG() {
  if (isWhitespace(document.UpdateForm.admisnid.value)){
    return;
  }
  var AdmissionID=GetCookieData("AdmissionID")
  var RegistrationType=GetCookieData("RegistrationType");
  if (!isWhitespace(AdmissionID)&&AdmissionID!="unknown") {
    DefaultOnlineNok(AdmissionID);
    var el=document.getElementById("redirect")
    var ad=document.getElementById("admisnid")
    el.value=document.getElementById("PreadmissionURL").value+'&admisnid='+ad.value;
    if (RegistrationType=="Update") {
//    el.value=document.getElementById("VisitListURL").value;
    }
  }
}
function portalContacts() {
  if(document.getElementById("ptcnepis").value=="1" &&
   sjogprtl != "1") {
    OnlinePreadmission();
    eAdmPreList();
  } else {
    OnlinePreadmissionSJOG();
  }
}
//------------------------------------------------------------------------------
// Go Back on Cancel depending if eAdmission Cookie is set or not
//------------------------------------------------------------------------------
function chkeAdmGoback() {
  if(document.getElementById("ptcnepis").value!="1" ||
     sjogprtl == "1") {
    history.go(-1);
    return;
  }
 if (document.UpdateForm.admisnid != undefined ) {
    if (isWhitespace(document.UpdateForm.admisnid.value)) {
        history.go(-1);
    } else {
        if (eAdmCookie!="unknown") {
           document.UpdateForm.showflag.value = "1";
           getTop().content.location.href=eAdmCookie; }
    }
 } else { history.go(-1); }
}

function SetPostVarsPRFA() {
  suburb   = document.UpdateForm.ptpra004;
  state    = document.UpdateForm.ptpra005;
  postcode = document.UpdateForm.ptpra006;
}

function SetPostVarsCont1() {
  suburb   = document.UpdateForm.ptmas052;
  state    = document.UpdateForm.ptmas053;
  postcode = document.UpdateForm.ptmas054;
}

function SetPostVarsCont2() {
  suburb   = document.UpdateForm.ptmsx013;
  state    = document.UpdateForm.ptmsx014;
  postcode = document.UpdateForm.ptmsx015;
}

function SetPostVarsCont3() {
  suburb   = document.UpdateForm.ptmsx022;
  state    = document.UpdateForm.ptmsx023;
  postcode = document.UpdateForm.ptmsx024;
}

function SetPostVarsPostAddr() {
  suburb   = document.UpdateForm.ptmsx042;
  state    = document.UpdateForm.ptmsx043;
  postcode = document.UpdateForm.ptmsx044;
}

</script>
</head>
<body onLoad="PageLoad(event);InitPostCodes();
              setTimeout('portalContacts()',700);">
<div id=PageBodySection style="overflow: auto;">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>

<form name=hiddenvalues style="margin:0">
<input type=hidden name=padd1 value="%PATWEB89.01.012">
<input type=hidden name=padd2 value="%PATWEB89.01.013">
<input type=hidden name=padd3 value="%PATWEB89.01.014">
<input type=hidden name=padd4 value="%PATWEB89.01.015">
<input type=hidden name=ppost value="%PATWEB89.01.016">
<input type=hidden name=ptelep value="%PATWEB89.01.017">
<input type=hidden name=pteleb value="%PATWEB89.01.018">
<input type=hidden name=pemail value="%PATWEB89.01.805">
<input type=hidden name=pmobil value="%PATWEB89.01.643">
</form>

<form name=UpdateForm action="patweb89.pbl" method=post style="margin:0"
 onsubmit="chkFlag();" >
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=001>
<input type=hidden name=updatety value="4">
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=nextpage value="0">
<input type=hidden id=redirect name=redirect value="%PATWEB89.01.001.patweb89.01.002">
<input type=hidden id=PreadmissionURL name=PreadmissionURL value="%PATWEB89.01.001.patweb14.03.001">
<input type=hidden id=VisitListURL name=VisitListURL value="%PATWEB89.01.001.patweb98.01.020">
<input type=hidden name=dummy value="">
<input type=hidden name=ptmas046 value="%PATWEB89.01.050">
<input type=hidden name=ptmas061 value="%PATWEB89.01.064">
<input type=hidden name=ptmas067 value="%PATWEB89.01.079.0">
<input type=hidden name=pmpmi006 value="%PATWEB89.01.806">
<input type=hidden name=pmpmi009 value="%PATWEB89.01.809">
<input type=hidden name=pmpmi012 value="%PATWEB89.01.812.0">
<input type=hidden name=pmpmi015 value="%PATWEB89.01.815">
<input type=hidden name=pmpmi036 value="">
<input type=hidden name=pmpmi037 value="%PATWEB89.01.837">
<input type=hidden name=pmpmi052 value="">
<input type=hidden name=pmpmi053 value="%PATWEB89.01.853">
<input type=hidden name=pmpmi062 value="%PATWEB89.01.862">
<input type=hidden name=pmpmi063 value="%PATWEB89.01.863">
<input type=hidden name=pmpmi064 value="%PATWEB89.01.864">
<input type=hidden name=pmpmi067 value="%PATWEB89.01.867.0">
<input type=hidden name=pmpmi068 value="%PATWEB89.01.868.0">
<input type=hidden name=admisnid id=admisnid value="%PATWEB89.01.999.036">
<input type="hidden" name="ptcnepis" id="ptcnepis"
 value="%STANDARD.01.025.119.182.0.1" />
<input type="hidden" name="episcard" id="episcard"
 value="1" />

<table border=1  cellpadding=0 cellspacing=0 width=100%>
<tr valign=top>
    <td class=HeadingCell align=center>
    <script type="text/javascript">ContactName(1)</script>
    </td>
    <td class=HeadingCell align=center>
    <script type="text/javascript">ContactName(2)</script>
    </td></tr>
<tr valign=top>
    <td>
    <table border=0 width=100% cellspacing=0>
    <tr><td class=DataLabel>Name </td>
        <td><input type=text size="33" maxlength=20 name=ptmas049 tabindex=1
         title="Contact 1 Name"
         value="%PATWEB89.01.053" onchange="UpCase(this);"></td>
        <td class=DataLabel>Relation </td>
        <td><select name=ptmas057 tabindex=7 title="Relation">
              <option value=""></option>
              %STANDARD.01.030
             </select>
        </td></tr>
    <tr valign=top>
        <td class=DataLabel>Address</td>
        <td><input type="text" size="33" maxlength="35" name="ptmas050"
         title="Contact 1 Address Line 1"
         value="%PATWEB89.01.054" onchange="UpCase(this);" tabindex=2></td>
        <td class=DataLabel>Private Ph</td>
        <td><input type="text" size="15" maxlength="20" name="ptmas055"
         title="Contact 1 Private Phone"
         value="%PATWEB89.01.059" tabindex=8></td></tr>
    <tr valign=top>
        <td class=DataLabel></td>
        <td><input type="text" size="33" maxlength="35" name="ptmas051"
         title="Contact 1 Address Line 2"
         value="%PATWEB89.01.055" onchange="UpCase(this);" tabindex=3></td>
        <td class=DataLabel>Work Ph</td>
        <td><input type="text" size="15" maxlength="20" name="ptmas056"
         title="Contact 1 Work Phone"
         value="%PATWEB89.01.060" tabindex=9></td></tr>
    <tr valign=top>
        <td class=DataLabel>Suburb</td>
        <td><input type="text" size="33" maxlength="35" name="ptmas052"
         title="Contact 1 Suburb"
         value="%PATWEB89.01.056" onchange="UpCase(this);" tabindex=4
         onblur="SetFields2();"></td>
        <td>Mobile</td>
        <td><input type="text" size=23 maxlength=80 name=pmpmi010 tabindex=10
        title="Contact 1 Mobile"
        value="%PATWEB89.01.810"></td></tr>
    <tr valign=top>
        <td class=DataLabel>&nbsp;</td>
        <td><input type="text" size="33" maxlength="35" name="ptmas053"
        title="Contact 1 Suburb Line 2"
        value="%PATWEB89.01.057" tabindex=5>
        <td>E-Mail</td>
        <td><input type="text" size=23 maxlength=80 name=pmpmi011 tabindex=10
         title="Contact 1 E-Mail"
        value="%PATWEB89.01.811"></td></tr>

    <tr valign=top>
        <td>Post code</td>
        <td><input type="text" size="4" maxlength="8" name="ptmas054" 
        id="ptmas054" tabindex=6 title="Contact 1 Post Code" 
        onfocus="SetPostVarsCont1();"
        onchange="LookupSuburb(document.getElementById('ptmas054').value);"
        value="%PATWEB89.01.058"></td>
        <td align=right colspan=2>
         <input type=button class="button" value="Clear" onclick="NOKClear();">
         <input type=button class="button" value="Default" onclick="NOKSelf();">
    </td></tr>
    </table></td></td>
    <td>
    <table border=0 width=100% cellspacing=0>
    <tr><td class=DataLabel>Name </td>
        <td><input type=text size="33" maxlength=20 name=ptmsx010 tabindex=10
         title="Contact 2 Name"
         value="%PATWEB89.01.611" onchange="UpCase(this);"></td>
        <td class=DataLabel>Relation </td>
        <td><select name=ptmsx018 tabindex=16 title="Relation">
              <option value=""></option>
              %STANDARD.01.030
            </select>
         </td></tr>
    <tr><td class=DataLabel>Address</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx011"
         title="Contact 2 Address Line 1" 
         value="%PATWEB89.01.612" onchange="UpCase(this);" tabindex=11></td>
        <td class=DataLabel>Private Ph</td>
        <td><input type="text" size="14" maxlength="20" name="ptmsx016"
         title="Contact 2 Private Phone"
         value="%PATWEB89.01.617" tabindex=17></td></tr>
    <tr><td class=DataLabel></td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx012"
         title="Contact 2 Address Line 2"
         value="%PATWEB89.01.613" onchange="UpCase(this);" tabindex=12></td>
        <td class=DataLabel>Work Ph</td>
        <td><input type="text" size="14" maxlength="20" name="ptmsx017"
         title="Contact 2 Work Phone"
         value="%PATWEB89.01.618" tabindex=18></td></tr>
    <tr><td class=DataLabel>Suburb</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx013"
         title="Contact 2 Suburb"
         value="%PATWEB89.01.614" onchange="UpCase(this);" tabindex=13
         onblur="SetFields1();">
        <td>Mobile</td>
        <td><input type="text" size=23 maxlength=80 name=pmpmi007 tabindex=19
         title="Contact 2 Mobile"
        value="%PATWEB89.01.807"></td></tr>
    <tr><td class=DataLabel>&nbsp;</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx014"
         title="Contact 2 Suburb Line 2"
         value="%PATWEB89.01.615" tabindex=14>
         </td>
        <td>E-Mail</td>
        <td><input type="text" size=23 maxlength=80 name=pmpmi008 tabindex=19
        title="Contact 2 E-Mail"
        value="%PATWEB89.01.808"></td></tr>
    <tr>
        <td>Post code</td>
        <td><input type="text" size="4" maxlength="8" name="ptmsx015"
         title="Contact 2 Post Code" id="ptmsx015"
       onfocus="SetPostVarsCont2();"
       onchange="LookupSuburb(document.getElementById('ptmsx015').value);" 
         value="%PATWEB89.01.616" tabindex=15></td>
        <td colspan=2 align=right>
          <input type=button class="button" value="Clear" onclick="ECClear();">
          <input type=button class="button" value="Default" onclick="ECSelf();">
    </td></tr>

    </table>
</td></tr>
<tr valign=top>
    <td class=HeadingCell align=center >
    <script type="text/javascript">ContactName(3)</script>
    </td>
    <td class=HeadingCell align=center>Person Responsible for Account</td>
    </tr>
<tr><td><table border=0 width=100% cellspacing=0>
    <tr><td class=DataLabel>Name </td>
        <td><input type=text size="33" maxlength=20 name=ptmsx019
         title="Contact 3 Name"
         value="%PATWEB89.01.620" onchange="UpCase(this);" tabindex=20></td>
        <td class=DataLabel>Relation </td>
        <td><select name=ptmsx027 tabindex=27 title="Relation">
              <option value=""></option>
              %STANDARD.01.030
            </select>
        <td></tr>
    <tr><td class=DataLabel>Address</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx020"
         title="Contact 3 Address Line 1"
         value="%PATWEB89.01.621" onchange="UpCase(this);" tabindex=21></td>
        <td class=DataLabel>Private Ph</td>
        <td><input type="text" size="15" maxlength="20" name="ptmsx025"
         title="Contact 3 Private Phone"
         value="%PATWEB89.01.626" tabindex=28></td></tr>
    <tr><td class=DataLabel></td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx021"
         title="Contact 3 Address Line 2"
         value="%PATWEB89.01.622" onchange="UpCase(this);" tabindex=22></td>
        <td class=DataLabel>Work Ph</td>
        <td><input type="text" size="15" maxlength="20" name="ptmsx026"
         title="Contact 3 Work Phone"
         value="%PATWEB89.01.627" tabindex=29></td></tr>
    <tr><td class=DataLabel>Suburb</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx022"
         title="Contact 3 Suburb"
         value="%PATWEB89.01.623" onchange="UpCase(this);" tabindex=23
        onblur="SetFieldsNRL();">
        <td class=DataLabel>Mobile</td>
        <td><input type="text" size="15" maxlength="20" name="pmpmi013"
         title="Contact 3 Mobile"
         value="%PATWEB89.01.813" tabindex=29></td></tr>
    <tr><td class=DataLabel>&nbsp;</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx023"
         title="Contact 3 Suburb Line 2"
         value="%PATWEB89.01.624" tabindex=24>
        </td>
        <td>E-Mail</td>
        <td><input type="text" size=23 maxlength=80 name=pmpmi014 tabindex=29
        title="Contact 3 E-Mail"
        value="%PATWEB89.01.814"></td>

        <tr><td>Post code</td>
        <td><input type="text" size="4" maxlength="8" name="ptmsx024" 
        id="ptmsx024" title="Contact 3 Post Code" onfocus="SetPostVarsCont3();"
        onchange="LookupSuburb(document.getElementById('ptmsx024').value);"  
        value="%PATWEB89.01.625" tabindex=25></td>
        <td colspan=2 align=right>
           <input type=button class="button" value="Clear" onclick="NRClear();">
          <input type=button class="button" value="Default" onclick="NRSelf();">
    </td>
    </table>
<td><table border=0 width=100% cellspacing=0>
    <tr><td class=DataLabel>Name</td>
        <td colspan=3><input type="text" size="80" name="ptpra001" tabindex=30
        title="PRFA Name"
        maxlength="80" value="%PATWEB89.01.166" onchange="checkVis();"></td>
    </tr>
    <tr><td class=DataLabel>Address</td>
        <td><input type="text" size="33" maxlength="35" name="ptpra002"
            title="PRFA Address"
            value="%PATWEB89.01.167" onchange="checkVis();" tabindex=31></td>
        <td class=DataLabel>Relation </td>
        <td><select name=ptpra009 tabindex=37 title="Relation">
              <option value=""></option>
              %STANDARD.01.030
            </select>
        </td>
    </tr>
    <tr><td class=DataLabel></td>
        <td><input type="text" size="33" maxlength="35" name="ptpra003"
            title="PRFA Address Line 1"
            value="%PATWEB89.01.168" tabindex=32></td>
        <td class=DataLabel>Home Ph</td>
        <td><input type="text" size="15" maxlength="20" name="ptpra007"
            title="PRFA Home Phone"
            value="%PATWEB89.01.171" tabindex=37></td>
    </tr>
    <tr><td class=DataLabel>Suburb</td>
        <td>
        <input type="text" size="33" maxlength="35" name="ptpra004"
         title="PRFA Suburb"
         value="%PATWEB89.01.169" tabindex=33 onblur="SetFieldsPRA();">
        <td class=DataLabel>Work Ph</td>
        <td><input type="text" size="15" maxlength="20" name="ptpra008"
            title="PRFA Work Phone"
            value="%PATWEB89.01.172" tabindex=38></td>
    </tr>
    <tr><td class=DataLabel></td>
        <td><input type="text" size="33" maxlength="35" name="ptpra005"
         title="PRFA Suburb Line 2"
        value="%PATWEB89.01.182" tabindex=34  >
        <td class=DataLabel>Mobile</td>
        <td><input type="text" size="15" maxlength="20" name="ptpra010"
            title="PRFA Mobile"
            value="%PATWEB89.01.199.012" tabindex=38></td>
    </tr>
    <tr><td>Post code</td>
        <td><input type="text" size="4" maxlength="8" name="ptpra006" 
         id="ptpra006" title="PRFA Post Code" onfocus="SetPostVarsPRFA();" 
         onchange="LookupSuburb(document.getElementById('ptpra006').value);"  
         value="%PATWEB89.01.170" tabindex=35></td>
        <td colspan=2 align=right>
        <input type=button class="button" value="Clear" onclick="PRAClear();">
        <input type=button class="button" value="Default" onclick="PRASelf();">
        </td>
    </tr>
    </table>
</td>
</tr>

<tr><td><table border=0 width=100% colspan=2>
<tr valign=top>
    <td class=HeadingCell align=center colspan=4>
    <script type="text/javascript">ContactName(6)</script>
    </td>
    <tr><td class=DataLabel>Address</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx040"
         title="Postal Address"
         value="%PATWEB89.01.644" onchange="UpCase(this);" tabindex=40></td>
    <tr><td class=DataLabel></td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx041"
         title="Postal Address Line 2" 
         value="%PATWEB89.01.645" onchange="UpCase(this);" tabindex=41></td>
    <tr><td class=DataLabel width=12%>Suburb</td>
        <td width=43%>
         <input type="text" size="33" maxlength="35" name="ptmsx042"
          title="Postal Address Suburb"
          value="%PATWEB89.01.646" onchange="UpCase(this);" tabindex=42
         onblur="SetFieldsPOST();">
        <td width=12%>Post code</td>
        <td width=33%><input type="text" size="4" maxlength="8" name="ptmsx044"
        title="Postal Address Post Code" id="ptmsx044"
        onfocus="SetPostVarsPostAddr();"
        onchange="LookupSuburb(document.getElementById('ptmsx044').value);" 
        value="%PATWEB89.01.648" tabindex=44></td></tr>
    <tr><td class=DataLabel>&nbsp;</td>
        <td><input type="text" size="33" maxlength="35" name="ptmsx043"
         title="Postal Address Suburb Line 2"
         value="%PATWEB89.01.647" onchange="UpCase(this);" tabindex=43>
          <td colspan=2 align=right>
        <input type=button class="button" value="Clear" onclick="PostClear();">
        <input type=button class="button" value="Default" onclick="PostSelf();">
    </table>
<tr>
    <td colspan=4 align=center>
    <input type=button value="Update" tabindex=70 class="button"
     id="pat89sub" onclick="tempDisable(this);PostUpdate();">
    <input type=button value="Cancel" onclick="chkeAdmGoback();" class="button">
    </td>
</tr>
</table>

<div id=SelectHeading></div>
<div id=SelectLocation></div>
</form>
</div>

<form name=PatientLinks method=get style="margin:0">
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=regexstm value=102>
<input type=hidden name=newstand value=1>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>

<script type="text/javascript">
//
   for (var i =0 ; i < document.UpdateForm.ptmas057.length; i++) {
     if (document.UpdateForm.ptmas057.options[i].value=="%PATWEB89.01.061.0") {
         document.UpdateForm.ptmas057.selectedIndex=i } };
//
   for (var i =0 ; i < document.UpdateForm.ptmsx018.length; i++) {
     if (document.UpdateForm.ptmsx018.options[i].value=="%PATWEB89.01.619") {
         document.UpdateForm.ptmsx018.selectedIndex=i } };
//
   for (var i =0 ; i < document.UpdateForm.ptmsx027.length; i++) {
     if (document.UpdateForm.ptmsx027.options[i].value=="%PATWEB89.01.628") {
         document.UpdateForm.ptmsx027.selectedIndex=i } };
//
   for (var i =0 ; i < document.UpdateForm.ptpra009.length; i++) {
     if (document.UpdateForm.ptpra009.options[i].value=="%PATWEB89.01.173") {
         document.UpdateForm.ptpra009.selectedIndex=i } };

   if ("%PATWEB89.01.836" == "Yes") {
       document.UpdateForm.pmpmi036.value=1;
     };
   if ("%PATWEB89.01.852" == "Yes") {
       document.UpdateForm.pmpmi052.value=1;
     };
 if  ("%PATWEB89.01.079.0" == "Y")
 {
    document.UpdateForm.ptmas067.checked=1
 }
   if ("%PATWEB89.01.050" == "Yes") {
       document.UpdateForm.ptmas046.value=1;
     }
function chkFlag() {
var intdet="%PATWEB89.01.921"
if (intdet==1) {
     document.UpdateForm.redirect.value="patweb92.pbl?reportno=12&template=1" +
        "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
        "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")
 }

}



</script>
