<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="sjog-standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
 function ChkAnaes(){
   if((isWhitespace(UpdateForm.opdea022.value))) {
      alert("Anaesthetic commenced should be entered");
      UpdateForm.opdea022.value="";
      UpdateForm.opdea022.focus();
      return;
   }
 }
function ChkArrv() {
if(isWhitespace(UpdateForm.opard002.value)) {
   alert("Arrival Details Missing");
   DFrameExit();
  }
if(!isWhitespace(UpdateForm.opdea022.value)) {
 //   Bug no SV47
 //   UpdateForm.opard045.className="Mandatory";
  }
}
function SetValue(){
UpdateForm.opard041.value=UpdateForm.opdea022.value;
UpdateForm.opard042.value=UpdateForm.opdea022.value;
UpdateForm.opard044.value=UpdateForm.opdea009.value;

if(validateMandatory(UpdateForm))
   UpdateForm.submit();
}

function ManASA() {
if(!isWhitespace(UpdateForm.opdea022.value)) {
 //   Bug no SV47
//UpdateForm.opard045.className="Mandatory";
}}

function PageLoadExtended()
{
   PageLoad();
   document.UpdateForm.opdea003.focus(); 
   ChkArrv();
   checkIntubated();
}

function checkIntubated()
{
  var intubatedField = document.getElementById("opdea009");
  var indicator = "";

  var diffIntubation = document.getElementById("opraa042");
  var details = document.getElementById("opraa044");

  if(typeof intubatedField != "undefined")
  {
    indicator = intubatedField.value.substring(0,1);

    if(indicator == "Y" && diffIntubation[diffIntubation.selectedIndex].value == 1) {
       diffIntubation.className = "Mandatory";
       details.className = "Mandatory";
    }else if( indicator == "Y" ){
       diffIntubation.className = " Mandatory";
       details.className = "";
    }else {
        diffIntubation.className = "";
        details.className = "";
    }

  }
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoadExtended();">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
Theatre Case Anaesthetic Details
</span>

<form name=UpdateForm method=post action=oprweb01.pbl style="margin:0"
 onsubmit='return validateMandatory(this);'>
<input type=hidden name=reportno value=5>
<input type=hidden name=template value=1>
<input type=hidden name=updatedb value="1">
<input type=hidden name=updatede value="1">
<input type=hidden name=urnumber value="%OPRWEB01.04.003">
<input type=hidden name=admissno value="%OPRWEB01.04.081">
<input type=hidden name=casekeys value="%OPRWEB01.04.101">
<input type=hidden name=opsedate value="%OPRWEB01.04.302">
<input type=hidden name=currdate value="%STANDARD.01.013">
<input type=hidden name=currtime>
<input type=hidden name=opard041 value="">
<input type=hidden name=opard042 value=""> 
<input type=hidden name=opard044 value="">
<input type=hidden name=prepasec value=0>
<input type=hidden name=commesec value=0>
<input type=hidden name=opard002 value="%OPRWEB01.04.402">

<table border="0" cellpadding="2" cellspacing="0" width="100%" align=center >
<tr>
    <td class=DataLabel nowrap title='Time uninterrupted attention by anaesthetist commences, or in the absence of an anaesthetist, 
when the monitoring nurse begins to attach ECG, NIBP or other monitoring equipment eg. CVIL or endoscopy'>
Anaesthetic Commenced</td>
    <td class=DataField>
      <input type=text name=opdea022 value="%OPRWEB01.04.442"
       size=8 title="Anaesthetic Commenced"
       onblur="checkTime(this);ManASA();
    CheckFutureTime(UpdateForm,UpdateForm.opsedate.value,UpdateForm.opdea022);">
      <img src="../images/DateTimeStamp.gif" class=Icon
      onclick="SetCurrentDateTime(null,UpdateForm.opdea022);">
      <img src="../images/TimeLookup.gif" class=Icon
      onclick="TimeLookupFrame(UpdateForm.opdea022);"></td>
    <td class=DataLabel>Intubated</td>
    <td class=DataField>
    <select name=opdea009 title="Intubated" onchange="checkIntubated();">
    <option></option>
    %OPRWEB01.04.119.2
    </select>
    </td></tr>

<tr><td class=DataLabel>Anaesthetic Type</td>
    <td class=DataField>
    <select name=opdea003 title="Anaesthetic Type" >
    <option></option>
      %OPRWEB01.04.113.2
    </select></td>

    <td class="DataLabel">Difficult Intubation</td>
    <td class="DataField">
      <select name="opraa042" id="opraa042" title="Difficult Intubation"
       onchange="checkIntubated();">
        <option value="0">No</option>
        <option value="1">Yes</option>
      </select> 
    </td>
</tr>

<tr><td class=DataLabel>ASA Score</td>
    <td class=DataField>
    <select name=opard045 title="ASA Score">
    <option></option>
      %OPRWEB01.04.445.2
    </select></td>

    <td class="DataLabel">Details</td>
    <td class="DataField">
       <input name="opraa044" id="opraa44" value="%OPRWEB01.04.608.044"
        title="Details" type="text" size="30" maxlength="300" />
    </td>
</tr>

<tr valign=top><td class=DataLabel>Preadmission and<br> Operation Notes
    <td colspan=3>
<textarea wrap=hard cols=55 rows=5 name=opcom002>%OPRWEB01.04.143.002</textarea>
<a href='javascript:LookupPage(null,UpdateForm.opcom002,"Lookup_00100000_000")'>
    <img src="../images/LookupIcon.gif" border=0></a>
    </td></tr>

<tr><td colspan=4 align=center>
    <input class="button" type=button id="opr01sub" value="OK"
     onclick="tempDisable(this);SetValue();">
    <input class="button" type=button value="Cancel"
     onclick="DFrameClose();">
    </td></tr>
</table>
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%OPRWEB01.04.003">
<input type=hidden name=admissno value="%OPRWEB01.04.081">
<input type=hidden name=casekeys value="%OPRWEB01.04.101">
<input type=hidden name=MenuType value="%OPRWEB01.04.088">
<input type=hidden name=opdeb001>
</form>
<script type="text/javascript">
var OPRAA042 = "%OPRWEB01.04.608.042";
var opraa042 = document.getElementById("opraa042");

opraa042.selectedIndex = OPRAA042 == "1" ? "1":"0";
</script>
