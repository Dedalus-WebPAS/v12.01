<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="hea">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/WardWhiteboard.css" type="text/css">
<script type="text/javascript" src="../js/WardConditionalFields.js"></script>
%START.OF.PAGE
<script type="text/javascript"
 src="Javascript.php?reportno=1&pagekey=patweb9305&fname=setupConditionalSite">
</script>
<script type="text/javascript"
 src="Javascript.php?reportno=1&pagekey=patweb9305%PATWEB93.05.405.1&fname=setupConditionalWard">
</script>
<script type="text/javascript">
function ShowHideFields(){

  if((document.PatCondPopup.U2Var.value=="") ||
     (document.PatCondPopup.ptmis038.options.length==1)){
    document.getElementById("U2TableRow").style.display="none";
  }

  if (!isWhitespace(document.PatCondPopup.pmswo002.value) ||
      !isWhitespace(document.PatCondPopup.pmswo003.value) ||
      !isWhitespace(document.PatCondPopup.pmswo004.value)) {
    document.getElementById("WorkingDiagnosisTextarea").value=
    trim(document.PatCondPopup.pmswo002.value) + "\n" +
    trim(document.PatCondPopup.pmswo003.value) + "\n" +
    trim(document.PatCondPopup.pmswo004.value);
  }
}
function ShowTransferStatus() {
  f = document.PatCondPopup;
  if (f.transtat.value == "1") {
    document.getElementById('ptmi043r').checked = true;
  }
  if (f.transtat.value == "2") {
    document.getElementById('ptmi043a').checked = true;
  }
  if (f.transtat.value == "3") {
    document.getElementById('ptmi043j').checked = true;
  }
}
function ShowTransferDetails() {
  f = document.PatCondPopup;
  var i = f.ptmis041.selectedIndex;
  var ind2 = f.ptmis041.options[i].value.substring(4,5);

  if (ind2 == "T") {
    document.getElementById('TransSourceSpan').style.display = "";
    document.getElementById('ReasonTransSpan').style.display = "";
    document.getElementById('DateReadyTransSpan').style.display = "";
    document.getElementById('TransDelayReasonSpan').style.display = "";
  }
  else {
    document.getElementById('pmswo009').value = "";
    document.getElementById('trandesc').value = "";
    document.getElementById('ptmis042').value = "";
    document.getElementById('ptmi043r').checked = false;
    document.getElementById('ptmi043a').checked = false;
    document.getElementById('ptmi043j').checked = false;
    document.getElementById('pmswo010').value = "";
    document.getElementById('TransSourceSpan').style.display = "none";
    document.getElementById('ReasonTransSpan').style.display = "none";
    document.getElementById('DateReadyTransSpan').style.display = "none";
    document.getElementById('TransDelayReasonSpan').style.display = "none";
  }
}
function ConfirmDateChanged() {
  f = document.PatCondPopup;
  if (f.d_ptmis039.checked) {
    f.pmswo005.className="Mandatory";     
    f.pmswo006.className="Mandatory";
  }
  else {
    f.pmswo005.className="";
    f.pmswo006.className="";
  }
}
function ExpDischargeDateChanged() {
  f = document.PatCondPopup;
  if (isWhitespace(f.pmswo005.value)) {
    ReasonDischDateSpan.innerHTML = hideReasonDischDateSpan.innerHTML;
    f.ptmis040.className="";
    return;
  }
  if (f.pmswo005.defaultValue == f.pmswo005.value) {
    ReasonDischDateSpan.innerHTML = hideReasonDischDateSpan.innerHTML; 
    f.ptmis040.className="";
    return;
  }
  if (f.ptcnexdd.value!="1") {
    ReasonDischDateSpan.innerHTML = hideReasonDischDateSpan.innerHTML;
    f.ptmis040.className="";
    return;
  }

  ReasonDischDateSpan.innerHTML = showReasonDischDateSpan.innerHTML; 
  f.ptmis040.value="";

  var ChkDate1=SetDateYYYYMMDD(f.pmswo005.defaultValue);
  var ChkDate2=SetDateYYYYMMDD(f.pmswo005.value);
  if (ChkDate1 != ChkDate2) {
    f.ptmis040.className="Mandatory";
  }
  else
  {
    f.ptmis040.className="";
  }
}
function HideExpDischargeDateChanged() {
  ReasonDischDateSpan.innerHTML = hideReasonDischDateSpan.innerHTML;
  f.ptmis040.className="";
}
function CheckLimits(TxtFld) {
  if (!TxtFld || isWhitespace(TxtFld.value))
    return;

  if (!LimitText(TxtFld,6,301)) {  // max 6 rows, 300 chars
    SetCaretPosition(TxtFld.id, "-1");  // set cursor at end of text
  }
}
</script>
</head>
<body onload="PageLoad(event);
              ShowHideFields();
              ShowTransferDetails();
              ConfirmDateChanged();
              HideExpDischargeDateChanged();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB93.05.003";
PatientVIS="%PATWEB93.05.081";
PatientNAM="%PATWEB93.05.002";
PatientSTA="%PATWEB93.05.086.078";
PatientALT="%PATWEB93.05.084";
PatientSEX="%PATWEB93.05.019";
PatientDOB="%PATWEB93.05.020";
PatientAGE="%PATWEB93.05.021";
PatientLOC="%PATWEB93.05.083";
PatientPRI="%PATWEB93.05.086.066.1";
PatientUNT="%PATWEB93.05.066.0";
DoctorCOD="%PATWEB93.05.082.003";
DoctorNAM="%PATWEB93.05.082.002";
PatientAID="%PATWEB93.05.086.090";
PatientIND="%PATWEB93.05.086.091";
PatientCUR="%PATWEB93.05.086.092";
PatientCLC="%PATWEB93.05.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB93.05.086.094";
PatientCDM="%PATWEB93.05.086.095";
PatientVDH="%PATWEB93.05.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>

<div id=PageBodySection>
<form name=PatCondPopup style="margin:0" method=post %PATWEB93.05.101 
<input type=hidden name=nextpage value="1">
<input type=hidden name=nextpatn value="patweb98.pbl?reportno=01&template=001">
<input type=hidden name=frompatn value="1">
<input type=hidden name=ptrgm001 value="%PATWEB93.05.114">
<input type=hidden name=ptrgm002 value="%PATWEB93.05.115">
<input type=hidden name=ptrgm003 value="%PATWEB93.05.116">
<input type=hidden name=U2Var    value="%STANDARD.01.017.U2">
<input type=hidden name=pmswo002 value="%PATWEB93.05.202">
<input type=hidden name=pmswo003 value="%PATWEB93.05.203">
<input type=hidden name=pmswo004 value="%PATWEB93.05.204">
<input type=hidden name=dummy value="">
<input type=hidden name=transtat value="%PATWEB93.05.130.003">
<input type=hidden name=urnumber value="%PATWEB93.05.003">
<input type=hidden name=admissno value="%PATWEB93.05.081">
<input type=hidden name=ptmis039 value="%PATWEB93.05.130.001">
<input type=hidden name=currdate id=currdate value="%STANDARD.01.015">
<input type=hidden name=currdate id=currdate value="%STANDARD.01.015">
<input type=hidden name=ptcnexdd id=ptcnexdd
 value="%STANDARD.01.025.125.236.1.1">

<table border=0 colspan=1 width=100% cellspacing=1 cellpadding=1 >
<tr><td class=HeadingCell align=center>
Update Condition - %PATWEB93.05.002
</td><tr>
</table>

<table border=0 align=center width=98%>
<tr colspan=4>
    <td class=DataLabel width=16%>Last Update</td>
    <td><input type=text name=patconup id=patconup
         class=readonly readonly size=20 tabindex=1
         value="%PATWEB93.05.108"></td>
</tr>
<tr><td class=DataLabel>Condition </td>
    <td><select name=patconcd id=patconcd tabindex=10>
        <option value="   "></option>
        %PATWEB93.05.102
        </select>
    </td>
</tr>

<tr><td class=DataLabel>Ambulatory Status</td>
    <td><select name=patconam id=patconam tabindex=11
         title="Ambulatory Status">
        <option value="   "></option>
        %PATWEB93.05.107
        </select>
    </td> 
</tr>

<tr><td class=DataLabel>Visitors Allowed ?</td>
    <td><input name=patconva type=checkbox value=1 tabindex=12>                
    </td></tr>
<tr><td class=DataLabel>Phone Calls Allowed ?</td>
    <td><input name=patconpa type=checkbox value=1 tabindex=13>              
    </td></tr>
</table>

<table border=0 align=center width=98%>
<tr><td class=DataLabel width=16%>Expected Discharge Date</td>
    <td class=DataLabel width=26%>
        <input type=text name=pmswo005 id=pmswo005 size=12 tabindex=31
         value="%PATWEB93.05.205"
         title="Expected Discharge Date"
         onchange="ExpDischargeDateChanged();">
        <img notab src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(PatCondPopup.pmswo005,
                                  ExpDischargeDateChanged);">
        Time &nbsp;
        <input type=text name=pmswo006 id=pmswo006 size=8 tabindex=32
         title="Expected Discharge Time"
         value="%PATWEB93.05.213">
        <img notab src="../images/DateTimeStamp.gif" class=Icon 
         onclick="SetCurrentDateTime(PatCondPopup.pmswo005,
                                     PatCondPopup.pmswo006);
                                     ExpDischargeDateChanged();">
        <img notab src="../images/TimeLookup.gif" class=Icon
         onclick="TimeLookupFrame(PatCondPopup.pmswo006);">
    </td>
    <td class=DataLabel width=18%> 
        Confirm D/C ?
        <input name=d_ptmis039 id=d_ptmis039 type=checkbox value=0
         tabindex=33
         onclick="ConfirmDateChanged();">
    </td>
    <td class=DataLabel width=40%><span id=ReasonDischDateSpan></span></td>
</tr>
</table>

<table border=0 align=center width=98%>
<tr><td class=DataLabel width=16%>Expected Discharge Destination</td>
    <td><select name=ptmis041 id=ptmis041 tabindex=35
         title="Expected Discharge Destination"
         onchange="ShowTransferDetails();">
        <option value="   "></option>
         %PATWEB93.05.130.002.2
        </select>
    </td>
    <td id=TransSourceSpan style="display:none">
        <input type="text" name=pmswo009 id=pmswo009
         size=10 maxlength=5 tabindex=36
         title="Transfer Source Code" value="%PATWEB93.05.216.1"
         onblur="validateTransSrc(PatCondPopup.pmswo009,
                                  PatCondPopup.dummy,
                                  PatCondPopup.trandesc);">
        <input type=text size=30 name=trandesc id=trandesc
         notab class=Readonly readonly
         value="%PATWEB93.05.216.2">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="TransferSourceFrame(PatCondPopup.pmswo009,
                                      PatCondPopup.trandesc)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(PatCondPopup.pmswo009,
                            PatCondPopup.trandesc);">
    </td>
</tr>

<tr id=ReasonTransSpan style="display:none">
    <td class=DataLabel>Reason for Transfer</td>
    <td><select name=ptmis042 id=ptmis042 tabindex=37
         title="Reason for Transfer">
        <option value="   "></option>
         %PATWEB93.05.106.4.2
        </select>
    </td>
    <td class=DataLabel>
     Referred<input type=radio name=ptmis043 id=ptmi043r tabindex=38
      value="1">
     Accepted<input type=radio name=ptmis043 id=ptmi043a tabindex=39
      value="2">
     Rejected<input type=radio name=ptmis043 id=ptmi043j tabindex=40
      value="3">
    </td>
</tr>
</table>

<table border=0 align=center width=98%>

<tr id=DateReadyTransSpan style="display:none">
    <td class=DataLabel width=16%>Date Ready for Transfer</td>
    <td class=DataLabel>
        <input type=text name=pmswo010 id=pmswo010 size=12
         value="%PATWEB93.05.217"
         title="Date Ready for Transfer">
        <img notab src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(PatCondPopup.pmswo010);">
    </td>
</tr>

<tr id=TransDelayReasonSpan style="display:none">
    <td class=DataLabel width=16%>Transfer Delay Reason</td>
    <td><select name=ptmis044 id=ptmis044 tabindex=42
         title="Transfer Delay Reason">
        <option value="   "></option>
        %PATWEB93.05.130.004.2
        </select>
    </td>
</tr>

<tr>
  <td class=DataLabel width=16%>Discharge Planning Comments</td>
  <td colspan=4>
    <textarea cols=50 rows=6 name=dschcomm id=dschcomm wrap=hard
     title="Discharge Planning Comments" tabindex=43
     onblur="CheckLimits(this);">%PATWEB93.05.132.022</textarea>
  </td>
</tr>

<tr id=U2TableRow><td class=DataLabel>%STANDARD.01.017.U2</td>
    <td><select name=ptmis038 id=ptmis038 tabindex=44
         title="%STANDARD.01.017.U2">
        <option value="   "></option>
        %PATWEB93.05.109.2
        </select>
    </td></tr>
<tr><td class=DataLabel>Comments</td>
    <td><input name=patconds id=patconds size=35 maxlength=35 tabindex=45
         title="Comments" value="%PATWEB93.05.103"
         onblur="validateFreeTextFields(this);">
    </td></tr>

<tr id=workingDiagnosis style='display:none;'>
  <td class=DataLabel>Working Diagnosis</td>
  <td>
    <textarea rows=3 cols=35 style="overflow:hidden"
     name=WorkingDiagnosisTextarea id=WorkingDiagnosisTextarea tabindex=46
     title="Working Diagnosis"
     onblur="validateFreeTextFields(this)"
     onkeydown="CheckLineCount(this,event)" maxlength=105></textarea>
  </td>
</tr>

<tr id=freeText1 style='display:none;'>
    <td class=DataLabel id=freeTextLabel1></td>
    <td><input id=freeTextFld1 name=vsc18001 size=115 tabindex=61
         maxlength=100 value="%PATWEB93.05.113.001"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText2 style='display:none;'>
    <td class=DataLabel id=freeTextLabel2></td>
    <td><input id=freeTextFld2 name=vsc18002 size=115 tabindex=62
         maxlength=100 value="%PATWEB93.05.113.002"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText3 style='display:none;'>
    <td class=DataLabel id=freeTextLabel3></td>
    <td><input id=freeTextFld3 name=vsc18003 size=115 tabindex=63
         maxlength=100 value="%PATWEB93.05.113.003"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText4 style='display:none;'>
    <td class=DataLabel id=freeTextLabel4></td>
    <td><input id=freeTextFld4 name=vsc18004 size=115 tabindex=64
         maxlength=100 value="%PATWEB93.05.113.004"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText5 style='display:none;'>
    <td class=DataLabel id=freeTextLabel5></td>
    <td><input id=freeTextFld5 name=vsc18005 size=115 tabindex=65
         maxlength=100 value="%PATWEB93.05.113.005"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText6 style='display:none;'>
    <td class=DataLabel id=freeTextLabel6></td>
    <td><input id=freeTextFld6 name=vsc18006 size=115 tabindex=66
         maxlength=100 value="%PATWEB93.05.113.006"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText7 style='display:none;'>
    <td class=DataLabel id=freeTextLabel7></td>
    <td><input id=freeTextFld7 name=vsc18007 size=115 tabindex=67
         maxlength=100 value="%PATWEB93.05.113.007"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=freeText8 style='display:none;'>
    <td class=DataLabel id=freeTextLabel8></td>
    <td><input id=freeTextFld8 name=vsc18008 size=115 tabindex=68
         maxlength=100 value="%PATWEB93.05.113.008"
         onblur="validateFreeTextFields(this);">
    </td></tr>
<tr id=userDefined1 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.va</td>
    <td><select name=pmswo011 title="%STANDARD.01.017.va"
         class=selectBig tabindex=69>
        <option></option>
        %PATWEB93.05.218.2
        </select>
    </td></tr>

<tr id=userDefined2 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.vb</td>
    <td><select name=pmswo012 title="%STANDARD.01.017.vb"
         class=selectBig tabindex=70>
        <option></option>
        %PATWEB93.05.219.2
        </select>
    </td></tr>

<tr id=userDefined3 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.vc</td>
    <td><select name=pmswo013 title="%STANDARD.01.017.vc"
         class=selectBig tabindex=71>
        <option></option>
        %PATWEB93.05.220.2
        </select>
    </td></tr>

<tr id=userDefined4 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.vd</td>
    <td><select name=pmswo014 title="%STANDARD.01.017.vd"
         class=selectBig tabindex=72>
        <option></option>
        %PATWEB93.05.221.2
        </select>
    </td></tr>

<tr id=userDefined5 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.ve</td>
    <td><select name=pmswo015 title="%STANDARD.01.017.ve"
         class=selectBig tabindex=73>
        <option></option>
        %PATWEB93.05.222.2
        </select>
    </td></tr>

<tr id=userDefined6 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.vf</td>
    <td><select name=pmswo016 title="%STANDARD.01.017.vf"
         class=selectBig tabindex=74>
        <option></option>
        %PATWEB93.05.223.2
        </select>
    </td></tr>

<tr id=userDefined7 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.vg</td>
    <td><select name=pmswo017 title="%STANDARD.01.017.vg"
         class=selectBig tabindex=75>
        <option></option>
        %PATWEB93.05.224.2
        </select>
    </td></tr>

<tr id=userDefined8 style='display:none;'>
    <td class=DataLabel>%STANDARD.01.017.vh</td>
    <td><select name=pmswo018 title="%STANDARD.01.017.vh"
         class=selectBig tabindex=76>
        <option></option>
        %PATWEB93.05.225.2
        </select>
    </td></tr>

<tr id=userChk0 style='display:none;'>
    <td class=DataLabel id=chkLab0></td>
    <td><input type=checkbox id=userchk0id name=userchk0 tabindex=77 value=1>
        <span class=buttonInd0></span>
    </td></tr>

<tr id=userChk1 style='display:none;'>
    <td class=DataLabel id=chkLab1></td>
    <td><input type=checkbox id=userchk1id name=userchk1 tabindex=78 value=1>
        <span class=buttonInd1>&nbsp;</span>
    </td></tr>

<tr id=userChk2 style='display:none;'>
    <td class=DataLabel id=chkLab2></td>
    <td><input type=checkbox id=userchk2id name=userchk2 tabindex=79 value=1>
        <span class=buttonInd2></span>
    </td></tr>

<tr id=userChk3 style='display:none;'>
    <td class=DataLabel id=chkLab3></td>
    <td><input type=checkbox id=userchk3id name=userchk3 tabindex=80 value=1>
        <span class=buttonInd3></span>
    </td></tr>

<tr id=userChk4 style='display:none;'>
    <td class=DataLabel id=chkLab4></td>
    <td><input type=checkbox id=userchk4id name=userchk4 tabindex=81 value=1>
        <span class=buttonInd4></span>
    </td></tr>

<tr id=userChk5 style='display:none;'>
    <td class=DataLabel id=chkLab5></td>
    <td><input type=checkbox id=userchk5id name=userchk5 tabindex=82 value=1>
        <span class=buttonInd5></span>
    </td></tr>

<tr id=userChk6 style='display:none;'>
    <td class=DataLabel id=chkLab6></td>
    <td><input type=checkbox id=userchk6id name=userchk6 tabindex=83 value=1>
        <span class=buttonInd6></span>
    </td></tr>

<tr id=userChk7 style='display:none;'>
    <td class=DataLabel id=chkLab7></td>
    <td><input type=checkbox id=userchk7id name=userchk7 tabindex=84 value=1>
        <span class=buttonInd7></span>
    </td></tr>

<tr id=userChk8 style='display:none;'>
    <td class=DataLabel id=chkLab8></td>
    <td><input type=checkbox id=userchk8id name=userchk8 tabindex=85 value=1>
        <span class=buttonInd8></span>
    </td></tr>

<tr id=userChk9 style='display:none;'>
    <td class=DataLabel id=chkLab9></td>
    <td><input type=checkbox id=userchk9id name=userchk9 tabindex=86 value=1>
        <span class=buttonInd9></span>
    </td></tr>
</table>

<table border=0 align=center width=100%>
<tr><td align=center colspan=2>
<input name=vsc18009 id=vsc18009 type=hidden value="%PATWEB93.05.113.009">
<input name=vsc18010 id=vsc18010 type=hidden value="%PATWEB93.05.113.010">
<input type=button value="Update" class=button id=btnUpdate tabindex=90
       onclick='tempDisable(this);SaveForm()'>
<input type=button value="Cancel" class=button tabindex=91
       onclick='PatientLinkTo("patweb98.pbl",1,1,0,0,0);'>
</td></tr>

</table>
</form>
</div>
 
<script type="text/javascript">
f = document.PatCondPopup;

if ("%PATWEB93.05.106.1" == "1") {
  document.PatCondPopup.patconva.checked="1";
}
if ("%PATWEB93.05.106.2" == "1") {
  document.PatCondPopup.patconpa.checked="1";
}
if (f.ptmis039.value == "1") {
  f.d_ptmis039.checked="1";
}

if (f.transtat.value == "1") {
  document.getElementById('ptmi043r').checked = true;
}
if (f.transtat.value == "2") {
  document.getElementById('ptmi043a').checked = true;
}
if (f.transtat.value == "3") {
  document.getElementById('ptmi043j').checked = true;
}

function SaveForm() {
  f = document.PatCondPopup;
  var usrChk="";
  el=document.getElementById("vsc18010");
  for (var x=0;x<10;x++) {
    if (document.getElementById("userchk"+x+"id").checked) {
      usrChk+='1';
    } else {
      usrChk+='0';
    }
  }
  el.value=usrChk;
  lines=["","",""];
  nextLine=0;
  WDT = trim(document.getElementById("WorkingDiagnosisTextarea").value.replace(/[\r]/g, ''));

  for(i=0;i<WDT.length;i++){
    if(WDT.substr(i,1)=="\n"){
       nextLine++;
    }
    else if(lines[nextLine].length>34){
       nextLine++;
       lines[nextLine]+=WDT.substr(i,1);
    }
    else{
       lines[nextLine]+=WDT.substr(i,1);
    }
  }

  f.pmswo002.value = lines[0];
  f.pmswo003.value = lines[1];
  f.pmswo004.value = lines[2];

  if (f.d_ptmis039.checked) {
    f.ptmis039.value = "1";
  }
  else {
    f.ptmis039.value = "0";
  }

  if (!validateMandatory(f)) {
    return;
  }

  document.PatCondPopup.submit();
}
function init() {
  setupConditionalSite();
  setupConditionalWard();
  var el;
  if (showWorkingDiagnosis==1) {
    el=document.getElementById("workingDiagnosis");
    el.style.display="";
  }
  if (freeTxtFld1==1) {
    el=document.getElementById("freeText1");
    el.style.display="";
    document.getElementById("freeTextLabel1").innerText=freeTxtLab1;
    document.getElementById("freeTextFld1").size=freeTxtLen1;
  }
  if (freeTxtFld2==1) {
    el=document.getElementById("freeText2");
    el.style.display="";
    document.getElementById("freeTextLabel2").innerText=freeTxtLab2;
    document.getElementById("freeTextFld2").size=freeTxtLen2;
  }
  if (freeTxtFld3==1) {
    el=document.getElementById("freeText3");
    el.style.display="";
    document.getElementById("freeTextLabel3").innerText=freeTxtLab3;
    document.getElementById("freeTextFld3").size=freeTxtLen3;
  }
  if (freeTxtFld4==1) {
    el=document.getElementById("freeText4");
    el.style.display="";
    document.getElementById("freeTextLabel4").innerText=freeTxtLab4;
    document.getElementById("freeTextFld4").size=freeTxtLen4;
  }
  if (freeTxtFld5==1) {
    el=document.getElementById("freeText5");
    el.style.display="";
    document.getElementById("freeTextLabel5").innerText=freeTxtLab5;
    document.getElementById("freeTextFld5").size=freeTxtLen5;
  }
  if (freeTxtFld6==1) {
    el=document.getElementById("freeText6");
    el.style.display="";
    document.getElementById("freeTextLabel6").innerText=freeTxtLab6;
    document.getElementById("freeTextFld6").size=freeTxtLen6;
  }
  if (freeTxtFld7==1) {
    el=document.getElementById("freeText7");
    el.style.display="";
    document.getElementById("freeTextLabel7").innerText=freeTxtLab7;
    document.getElementById("freeTextFld7").size=freeTxtLen7;
  }
  if (freeTxtFld8==1) {
    el=document.getElementById("freeText8");
    el.style.display="";
    document.getElementById("freeTextLabel8").innerText=freeTxtLab8;
    document.getElementById("freeTextFld8").size=freeTxtLen8;
  }

  if (btnFld0==1) { 
    el=document.getElementById("userChk0");
    el.style.display="";
    document.getElementById("chkLab0").innerText=btnLab0;
  }
  if (btnFld1==1) { 
    el=document.getElementById("userChk1");
    el.style.display="";
    document.getElementById("chkLab1").innerText=btnLab1;
  }
  if (btnFld2==1) { 
    el=document.getElementById("userChk2");
    el.style.display="";
    document.getElementById("chkLab2").innerText=btnLab2;
  }
  if (btnFld3==1) { 
    el=document.getElementById("userChk3");
    el.style.display="";
    document.getElementById("chkLab3").innerText=btnLab3;
  }
  if (btnFld4==1) { 
    el=document.getElementById("userChk4");
    el.style.display="";
    document.getElementById("chkLab4").innerText=btnLab4;
  }
  if (btnFld5==1) { 
    el=document.getElementById("userChk5");
    el.style.display="";
    document.getElementById("chkLab5").innerText=btnLab5;
  }
  if (btnFld6==1) { 
    el=document.getElementById("userChk6");
    el.style.display="";
    document.getElementById("chkLab6").innerText=btnLab6;
  }
  if (btnFld7==1) { 
    el=document.getElementById("userChk7");
    el.style.display="";
    document.getElementById("chkLab7").innerText=btnLab7;
  }
  if (btnFld8==1) { 
    el=document.getElementById("userChk8");
    el.style.display="";
    document.getElementById("chkLab8").innerText=btnLab8;
  }
  if (btnFld9==1) { 
    el=document.getElementById("userChk9");
    el.style.display="";
    document.getElementById("chkLab9").innerText=btnLab9;
  }

  el=document.getElementById("userDefined1");
  if (codedFld1==1) el.style.display="";
  el=document.getElementById("userDefined2");
  if (codedFld2==1) el.style.display="";
  el=document.getElementById("userDefined3");
  if (codedFld3==1) el.style.display="";
  el=document.getElementById("userDefined4");
  if (codedFld4==1) el.style.display="";
  el=document.getElementById("userDefined5");
  if (codedFld5==1) el.style.display="";
  el=document.getElementById("userDefined6");
  if (codedFld6==1) el.style.display="";
  el=document.getElementById("userDefined7");
  if (codedFld7==1) el.style.display="";
  el=document.getElementById("userDefined8");
  if (codedFld8==1) el.style.display="";

  el=document.getElementById("vsc18010");
  for (var x=0;x<10;x++) {
    var ind=el.value.substr(x,1);
    if (ind=="1") {
      var chk=document.getElementById("userchk"+x+"id");
      chk.setAttribute('checked', 'checked') ;
      chk.checked=true;
    }
  }
//  if ("%PATWEB93.05.106.1" == "1") document.PatCondPopup.patconva.checked="1";
//  if ("%PATWEB93.05.106.2" == "1") document.PatCondPopup.patconpa.checked="1";
}
function validateFreeTextFields(textfieldvar) {
  textfieldvar.value=textfieldvar.value.replace(/</g,"< ");
  textfieldvar.value=textfieldvar.value.replace(/"/g,"'");
  textfieldvar.value=textfieldvar.value.replace(/\\/g,"/");
}
function CheckLineCount(obj,e){

  maxRows = parseInt(obj.rows);
  maxChars = parseInt(obj.maxlength);
  i=0;
  lines=1;
  chars=1;
  objString = obj.value+String.fromCharCode(e.keyCode);

  // char limit reached or line limit reached
  if((objString.length>maxChars)||(objString.replace(/[\n]/g, '').split("\r").length>maxRows)){
       e.keyCode=null;
       return false;
  }

  while(objString.substr(i,1)!= ""){
    if(lines>maxRows){
       e.keyCode=null;
       return false;
    }
    else if(objString.substr(i,1)=="\r"){
       lines++;
       chars=0;
       i++;
    }
    else if((chars%35==0)&&(chars!=0)){
       lines++;
       chars=0;
       i++;
    }
    else{
       chars++;
       i++;
    }
  }
  if(lines>maxRows){  //if last char= '\n' | '\r'
     e.keyCode=null;
     return false
  }else{ 
     return true;
  }
}
</script>

<form name="PatientLinks" method="get">
<input type="hidden" name="reportno" value="1">
<input type="hidden" name="template" value="004">
<input type="hidden" name="urnumber" value="%PATWEB93.05.003">
<input type="hidden" name="admissno" value="%PATWEB93.05.081">
<input type="hidden" name="MenuType" value="%PATWEB93.05.088">
<input type="hidden" name="nextpage" value="4">
</form>

<span id=showReasonDischDateSpan style="display:none">
    <td>
        Reason for Discharge Date Change
        <select name=ptmis040 id=ptmis040 tabindex=34
         title="Reason for Discharge Date Change">
        <option value="   "></option>
         %PATWEB93.05.131.001.2
        </select>
    </td>
</span>
<span id=hideReasonDischDateSpan style="display:none">
    <td>
        <input type=hidden name=ptmis040 id=ptmis040
         value="%PATWEB93.05.131.001.1">
    </td>
</span>

