<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/TableSort.js></script>
<script type="text/javascript" src=../js/watweb0101001.js></script>
<script type="text/javascript">
function SelectSubmit() {
document.SelectView.submit();
}
function CheckSubmit() {
  p=document.SelectView;
  if(p.statcode.value=="99" ) {
    linkurl = "../cgi-bin/patweb15.pbl?reportno=2&template=002" +
              "&showflag=1&filtreqt=1&returnfl=1&filtstat=2" +
              "&catecode=" + p.catecode.value.replace(/ /g,"+") +
              "&filtresc=" + p.doctcode.value.replace(/ /g,"+") 
    location.href=linkurl;
  } else {
    SelectSubmit();
  }
}

//----------------------------------------------------------------------------
// Create New Table Object
// Border, Cellspacing, Cellpadding, Width, Align, Heading Height, Row Height
//----------------------------------------------------------------------------
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column, Align, Icon, Link Column
// Columns Available
//  0 - HTML Link                   8 - Procedure Code
//  1 - Patient Name                9 - Procedure Description
//  2 - UR                         10 - Reason/Diagnosis
//  3 - Sex                        11 - Rank
//  4 - Date of Birth              12 - Est Length of Stay
//  5 - Date on List               13 - Referral Source
//  6 - Date on Last review        14 - Unit
//  7 - Proposed Admission Date   15 - Urgency Code          
//                                 16 - Urgency Overdue Date
//                                 17 - Urgency Flag 1 = Overdue
//                                 18 - Urgency Status
//                                 19 - GP
//                                 20 - Days on List
//                                 21 - Days Not Ready for Care
//                                 22 - Days Since Last Urgency Change
//                                 23 - Expected Ward
//                                 24 - Intended Stay 
//---------------------------------------------------------------------------
function InitTable(TableView) {
switch (TableView) {
case 0: {
 t = new Table(1,0,2,"100%","center",35);
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",150,36)
 t.addColumn("Priority","String",15,15,"left","","",25)
 t.addColumn("Procedure","String",9,9,"left","","",100)
 t.addColumn("Days RFC","String",35,35,"center","","",25)
 t.addColumn("Scheduled Date","Date",41,41,"left","","",65)
 t.addColumn("Listing Status","String",18,18,"left","","",25)
 t.addColumn("Preadmission Status","String",32,32,"left","","",75)
 t.addColumn("Preadmission Date","Date",31,31,"left","","",45)
 t.addColumn("Proc Can Be Performed By","String",44,44,"left","","",50)
 t.addColumn("Admitting Point","String",43,43,"left","","",65)
 AddTableRows()
 t.sortTable(3,0);    // By RFC Days
 TableOutput(1,1);    // By Category
 break;
 }
case 1: {
 t = new Table(1,0,2,"100%","center",35);
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",180,36)
 t.addColumn("UR","String",2,2,"left","","",70)
 t.addColumn("Date on List","Date",5,5,"left","","",65)
 t.addColumn("Days on List","String",20,20,"right","","",70)
 t.addColumn("Not Ready for Care","String",21,21,"right","","",80)
 t.addColumn(document.PatientLinks.priocat.value+" Reassignment","String",30,30,"right","","",60)
 t.addColumn("Expected Ward","String",42,42,"left","","",50)
 AddTableRows()
 TableOutput(2,1);    // By Date
 break;
 }
case 2: {
 t = new Table(1,0,2,"100%","center",25);
 t.addColumn("Proposed Admission Date","Date",7,7,"left","","",90)
 t.addColumn("Procedure","String",9,9,"left","","",140)
 t.addColumn("Reason/Diagnosis","String",10,10,"left","","",120)
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",150,36)
 t.addColumn("UR","String",2,2,"left","","",70)
 t.addColumn("Intended Stay","String",12,12,"left","","",60)
 AddTableRows()
 TableOutput(0,2);    // Order Column,Asc Dsc
 break;
 }
case 3: {
 t = new Table(1,0,2,"100%","center",25);
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",150,36)
 t.addColumn("Overdue Date","Date",16,16,"left","","",80)
 t.addColumn("Procedure","String",9,9,"left","","",150)
 t.addColumn("Reason/Diagnosis","String",10,10,"left","","",150)
 AddTableRows()
 TableOutput(0,1);    // Order Column,Asc Dsc
 break;
 }
case 4: {
 t = new Table(1,0,2,"100%","center",25);
 t.addColumn("GP","String",19,19,"left","","",100)
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",150,36)
 t.addColumn("Procedure","String",9,9,"left","","",180)
 t.addColumn("Overdue Date","Date",16,16,"left","","",90)
 AddTableRows()
 TableOutput(0,1);    // Order Column,Asc Dsc
 break;
 }
 }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0);">
<div id=HeadingSection> 

<form name=SelectView action=watweb01.pbl method=get style="margin:0">
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=1>
<input type=hidden name=urnumber value="">
<input type=hidden name=status value="">
<input type=hidden name=docerror value="1">
<input type=hidden name=nextdkey value="">
<input type=hidden name=emptdoct value="">

<table cellspacing=0 cellpadding=2 border=0 width=100% bgcolor=#cccccc>
<tr><td>
    <a href=javascript:InitTable(0)>
    <img src=../images/TableViewIcon.gif align=absmiddle 
     alt="Default View" title="Default View" border=0></a>
    <a href=javascript:InitTable(1)>
    <img src=../images/TableViewIcon.gif align=absmiddle 
     alt="View 1" title="View 1" border=0></a>
    <a href=javascript:InitTable(2)>
    <img src=../images/TableViewIcon.gif align=absmiddle 
     alt="Proposed Admission Date" title="Proposed Admission Date" border=0></a>
    <a href=javascript:InitTable(3)>
    <img src=../images/TableViewIcon.gif align=absmiddle 
     alt="Diagnosis" title="Diagnosis" border=0></a>
&nbsp;Status
<select name=statcode class="SelectMed" onchange="CheckSubmit();">
<option></option>
%WATWEB01.01.007 
<option value="99">Submitted - Elective Wait List Requests</option>
</select>

&nbsp; Resp. Clinician
<input type=text name=doctcode id=doctcode size=8 maxlength=8
     value="%WATWEB01.01.002.003" onBlur='UpCase(this);waitingDoc();'>
    <input type=text name=name_doctcode id=name_doctcode size=20 maxlength=20
     value="%WATWEB01.01.002.002" >
    <img src=../images/SearchIcon.gif class=Icon
    onclick= "DoctorSearchFrameAll(doctcode,name_doctcode,SelectSubmit);">
    <img src="../images/ClearIcon.gif" class=Icon
     onClick="document.SelectView.emptdoct.value='1';
              clrFields(doctcode,name_doctcode,SelectSubmit);">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Priority
<select name=catecode onchange=SelectView.submit(this)>
<option value="      ">All           </option>
%WATWEB01.01.010
</select>
&nbsp;&nbsp;&nbsp;&nbsp;Listing Status<select name=listcode onchange=SelectView.submit(this)>
<option value="      ">All           </option>
%WATWEB01.01.011
</select>
&nbsp;&nbsp;&nbsp;&nbsp;PreAdmission Status<select name=filtpast onchange=SelectView.submit(this)>
<option value="      ">All           </option>
%WATWEB01.01.020
</select>
</td></tr>
<tr><td align=right>
<span id=NextPage><span>
</td></tr>

</table>
</form>

</div>

<div id=TableLocation></div>

<script type="text/javascript">
function AddTableRows() {
%WATWEB01.01.001.watweb01.02.001  
}
function waitingDoc() {
  validateCode('34',document.SelectView.doctcode,
                    document.SelectView.name_doctcode,
                    document.SelectView.status,
                    SetDocName);
  if(document.SelectView.status.value=="1") {
    alert("Warning inactive doctor " + document.SelectView.doctcode.value);
  }
}
function SetDocName() {
   document.SelectView.submit()                
}
EBSClinicalView="%WATWEB01.01.028"; // Set on page load from menu
if(EBSClinicalView=="0") {
  SetCookie("EBSClinicalView","0");
} else if(EBSClinicalView=="1") {
  SetCookie("EBSClinicalView","1");
}
</script>

<form name=PatientLinks method=get>
<input type=hidden name=priocat value="%STANDARD.01.017.TP">
</form>
