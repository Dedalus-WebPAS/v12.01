<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/IBA_Category_C_.js"></script>
<script type="text/javascript" src="../js/IBA_Category_LA.js"></script>
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/waempi.js"></script>
<script type="text/javascript" src="../js/patweb83.js"></script>
<script type="text/javascript">
function redirectIfNotAdmitted() {
  if (document.UpdateForm.admtindc.value != "2") {
    alert("Patient not admitted.");
    location.href = document.UpdateForm.redirect.value;
  }
}
//-----------------------------------------------------------------------
// check iba parameter to turn on second name textfield
//-----------------------------------------------------------------------
function turnOnSecondGivenName(isSecondNameParamON,gName,fName,secName)
{
        var str = gName.value

        // trim all start and trailing spaces
        if(str!="")
          gName.value = str.replace(/^\s+|\s+$/g,'');
        str = fName.value;
        if(str !="")
          fName.value = str.replace(/^\s+|\s+$/g,'');

        var item = document.getElementById("givenNameLabel");

        //on - allow first and second name fields
        if(isSecondNameParamON==1)
        {
          item.innerHTML = "First Given Name";
          var secondGivenNameLabel = document.getElementById("secondGivenNameLabel");
          secondGivenNameLabel.style.visibility = "visible";
          secName.style.visibility = "visible";
          fName.maxLength = "30";
          secName.maxLength = "30";
          gName.value = fName.value+" "+secName.value;

        }
        //off - allow only given name fields only
        else if(isSecondNameParamON==0)
        {
          item.innerHTML = "Given Name";
          var secondGivenNameLabel = document.getElementById("secondGivenNameLabel");
          secondGivenNameLabel.style.visibility = "hidden";
          secName.style.visibility = "hidden";
          fName.maxLength = "25";
          fName.value = gName.value;

        }
}
function registerNewborn(){
  if(validateMandatory(UpdateForm)){
    var first = document.UpdateForm.pmpxi084.value.replace(/^\s+|\s+$/g,'');
    var second = document.UpdateForm.pmpxi085.value.replace(/^\s+|\s+$/g,'');
    document.UpdateForm.ptmas006.value = first + " " + second;
    if (((!isWhitespace(UpdateForm.ptmas010.value)) &&
         (isWhitespace(UpdateForm.ptmas012.value))) ||
        ((!isWhitespace(UpdateForm.ptmas010.value)) &&
         (isWhitespace(UpdateForm.ptmas012.value))))
       { alert("Invalid Suburb/Post Code Combination for New Born");
         return; }
    if (!CheckValPostCodeNB())
       { return; }
    if (((!isWhitespace(UpdateForm.pmcex009.value)) &&
         (isWhitespace(UpdateForm.pmcex011.value))) ||
        ((!isWhitespace(UpdateForm.pmcex011.value)) &&
         (isWhitespace(UpdateForm.pmcex009.value))))
       { alert("Invalid Suburb/Post Code Combination for Next of Kin");
         return; }
    if (!CheckValPostCodeNOK())
       { return; }
    callServiceNewborn();
  }
}
  function CheckValPostCodeNB() {
    if ((isWhitespace(UpdateForm.ptmas010.value)) &&
        (isWhitespace(UpdateForm.ptmas012.value)))
       { return true; }
    suburb   = document.UpdateForm.ptmas010;
    state    = document.UpdateForm.ptmas011;
    postcode = document.UpdateForm.ptmas012;
    if (trim(postcode.value)=="8888") {
       if (confirm("Click OK to confirm an Overseas Address"))
          { return true; }
       }
    var fulladdress = trim(postcode.value) + "," +
                      trim(suburb.value) + "," +
                      trim(state.value);
    var tmp1 = fulladdress.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");

    for (var i =0; i<PC.length ; i++) {
      var tmp2 = PC[i].replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");
      if  (tmp2.match(tmp1)) {
          SelectPC[SelectPC.length] = PC[i]
          return true;
      }
    }
    alert("Invalid Suburb/Post Code Combination for New Born");
    return false;
  }
  function CheckValPostCodeNOK() {
    if ((isWhitespace(UpdateForm.pmcex011.value)) &&
        (isWhitespace(UpdateForm.pmcex009.value)))
       { return true; }
    suburb   = document.UpdateForm.pmcex009;
    state    = document.UpdateForm.pmcex010;
    postcode = document.UpdateForm.pmcex011;
    if (trim(postcode.value)=="8888") {
       if (confirm("Click OK to confirm an Overseas Address"))
          { return true; }
       }
    var fulladdress = trim(postcode.value) + "," +
                      trim(suburb.value) + "," +
                      trim(state.value);
    var tmp1 = fulladdress.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");

    for (var i =0; i<PC.length ; i++) {
      var tmp2 = PC[i].replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");
      if  (tmp2.match(tmp1)) {
          SelectPC[SelectPC.length] = PC[i]
          return true;
      }
    }
    alert("Invalid Suburb/Post Code Combination for Next of Kin");
    return false;
  }
function checkMedRef() {
  if((!isWhitespace(UpdateForm.ptmas023.value)) &&
     (isWhitespace(UpdateForm.ptmsx045.value))) {
     if (!confirm("WARNING: Medicare reference Number is required field. \n" +
             "Click OK to enter it now, or CANCEL to return to the " +
             "medicare number field")) {
         UpdateForm.ptmas023.focus();
         return;
     } else {
         UpdateForm.ptmsx045.focus();
         return;
     }
  }
  checkRefNumber(UpdateForm.ptmsx045);
}
function checkRefNumber(ref) {
  if (isWhitespace(ref.value)) { return true; }

  chknum=ref.value - 0; // Convert to Numeric
  if (chknum > 0 && chknum <= 9) {
     return; }

  if (chknum == 0 ) {
    alert(ref.title + " must be greater than 0 and less than 9");
    ref.focus();
  } else {
    alert(ref.title + " must be numeric");
    ref.focus();
  }
}

function checkMedicareWa() {
  if(isWhitespace(UpdateForm.ptmas023.value)) {
    UpdateForm.ptmsx045.value="";
    UpdateForm.ptmsx045.disabled=true;
    UpdateForm.ptmsx045.className="ReadOnly";
    return;
  }
  if(checkMedicare(UpdateForm.ptmas023,UpdateForm.pmpxi016)) {
    UpdateForm.ptmsx045.disabled=false;
    UpdateForm.ptmsx045.className="Mandatory";
    UpdateForm.ptmsx045.focus();
  }
}
function enableMedicare() {
  if(isWhitespace(UpdateForm.ptmas023.value)) {
    UpdateForm.ptmsx045.disabled=false;
    UpdateForm.ptmsx045.value="";
  }
}
function valPatientAge() {
  p=document.UpdateForm
  var serverURL = "../cgi-bin/comweb80.pbl?reportno=74" +
                  "&valdcode="+p.valnumbr.value.replace(/ /g,"+") +
                  "&valddate="+p.currdate.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status!=0){
     history.go(-1);
     return false;
  }
}
function checkContactCorrespondence() {

  if (document.UpdateForm.pmpxi095.value.substring(3,4)=='E') {
     document.UpdateForm.pmpxi005.className="Mandatory";
  } else {
    if (document.UpdateForm.pmpxi096.value.substring(3,4)=='E') {
       document.UpdateForm.pmpxi005.className="Mandatory";
    } else {
       document.UpdateForm.pmpxi005.className="";
    }
  }

  if (document.UpdateForm.pmpxi095.value.substring(3,4)=='H') {
     document.UpdateForm.ptmas013.className="Mandatory";
  } else {
     document.UpdateForm.ptmas013.className="";
  }

  if (document.UpdateForm.pmpxi095.value.substring(3,4)=='M') {
     document.UpdateForm.ptmsx039.className="Mandatory";
  } else {
    if (document.UpdateForm.pmpxi095.value.substring(3,4)=='S') {
       document.UpdateForm.ptmsx039.className="Mandatory";
    } else {
       document.UpdateForm.ptmsx039.className="";
    }
  }

  if (document.UpdateForm.pmpxi095.value.substring(3,4)=='W') {
     document.UpdateForm.ptmas014.className="Mandatory";
  } else {
     document.UpdateForm.ptmas014.className="";
  }
}
function ShowMultBirthOrder() {
  f = document.UpdateForm;
  if (isWhitespace(f.ptmas070.value)) {
    document.getElementById('DispBirthOrder').style.display = "none";
    document.getElementById('ptmas071').className = "";
    document.getElementById('ptmas071').value = "0";
    f.maxmbirt.value = "0";
  }
  else {
    document.getElementById('DispBirthOrder').style.display = "";
    document.getElementById('ptmas071').className="Mandatory";
    document.getElementById('ptmas071').value="";
    i = f.ptmas070.selectedIndex;
    assnNo = f.ptmas070.options[i].value.substr(27,1);
    if (isWhitespace(assnNo)) {
      f.maxmbirt.value = "0";
    }
    else {
      f.maxmbirt.value = assnNo;
    }
  }
}
function CheckMultBirthOrder() {
  f = document.UpdateForm;
  if (!checkInteger(f.ptmas071,f.ptmas071.title)) {return false;}
  if (f.ptmas071.value > f.maxmbirt.value) {
    alert('Birth Order is greater than maximum value allowed');
    f.ptmas071.focus();
  }
}

function checkTable() {
  if(!isWhitespace(document.UpdateForm.ptmas036.value)) {
    document.UpdateForm.ptmas037.className="Mandatory";
  } else {
    document.UpdateForm.ptmas037.value="";
    document.UpdateForm.ptmas037.className="";
    document.UpdateForm.tabldesc.value="";
  }
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);redirectIfNotAdmitted();
 ShowSpan(document.UpdateForm.pmpxi001.value);InitPostCodes();SetPostCode01();
 SetPostCode01N();MandatoryNOK();MultipleBirth(document.UpdateForm.admissno);
 valPatientAge();checkContactCorrespondence();
 checkGenderInd(document.UpdateForm.ptmas015);
 checkTable();ChkIdentifyGenderPronounTitle(document.UpdateForm);
 displayPrefNames(document.UpdateForm.ptcnnmpr.value);">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB83.01.003";
PatientVIS="%PATWEB83.01.081";
PatientNAM="%PATWEB83.01.002";
PatientSTA="%PATWEB83.01.086.078";
PatientALT="%PATWEB83.01.084";
PatientSEX="%PATWEB83.01.019";
PatientDOB="%PATWEB83.01.020";
PatientAGE="%PATWEB83.01.021";
PatientLOC="%PATWEB83.01.083";
PatientPRI="%PATWEB83.01.086.066.1";
PatientUNT="%PATWEB83.01.066.0";
DoctorCOD="%PATWEB83.01.082.003";
DoctorNAM="%PATWEB83.01.082.002";
PatientAID="%PATWEB83.01.086.090";
PatientIND="%PATWEB83.01.086.091";
PatientCUR="%PATWEB83.01.086.092";
PatientCLC="%PATWEB83.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB83.01.086.094";
PatientCDM="%PATWEB83.01.086.095";
PatientVDH="%PATWEB83.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<form name=UpdateForm action="patweb83.pbl" method=post style="margin:0"> 
  <input type=hidden name=reportno value="1">
  <input type=hidden name=template value="001">
  <input type=hidden name=urnumber id='urnumber' value="">
  <input type=hidden name=admitnow value="">
  <input type=hidden name=manalloc id='manalloc' value="">
  <input type=hidden name=admissno value="%PATWEB83.01.081">
  <input type=hidden name=updttype value="1"> <!-- register new born -->
  <input type=hidden name=ptmas016 value="%PATWEB83.01.305">
  <input type="hidden" name="redirect" value="%PATWEB83.01.001.patweb98.01.001">
  <input type=hidden name=d_ptmas011 value="%PATWEB83.01.015">
  <input type=hidden name=admtindc value="%PATWEB83.01.323">
  <input type=hidden name=currdate value="%PATWEB83.01.301">
  <input type=hidden name=valnumbr value="%PATWEB83.01.003">
  <input type=hidden name=maxmbirt value="0">
  <input type=hidden name=ptcnnmpr value="%STANDARD.01.025.128.226.1.1">
  <input type=hidden name=ptcnhdps id=ptcnhdps 
         value="%STANDARD.01.025.080.250.1.1">

<table border=1 colspan=1 width=100% cellspacing=1 cellpadding=1>
<tr><td><table border=0 width=100% cellspacing=1 cellpadding=1>
  <tr><td class=HeadingCell align=center colspan=6>
      Input Newborn Details </td></tr> 
<tr><td class=DataLabel>Title</td>
  <td><select title="Patient Title"
        name=ptmas001 tabindex=1 id=ptmas001 >
        <option></option>
        %STANDARD.01.029
        </select>
        </td>
    <td class=DataLabel>Overseas Address</td>
    <td><input type=checkbox name=oseasflg tabindex=7
         onclick='setAddrLine4(UpdateForm);'></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmas013 title="Home Phone No" tabindex=12
        value="%PATWEB83.01.017"></td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=42 name=ptmas005
        title="Patient Surname" maxlength=40 class=Mandatory
        value="%PATWEB83.01.009" tabindex=2></td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=35 maxlength=35  tabindex=7
        name="ptmas008" title="Address Line 1" class=Mandatory
        value="%PATWEB83.01.012"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20 
        name=ptmas014 title="Work Phone No" tabindex=12
        value="%PATWEB83.01.018" ></td></tr>

<tr id=PrefSurname style="display:none">
  <td class=DataLabel>Preferred Surname</td>
  <td><input type=text size=20 maxlength=20 name=pmpxi082
       title="Preferred Surname"
       tabindex=2 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>First Given Name</td>
    <td><input type=hidden name=ptmas006 title="Given Name"
         value="%PATWEB83.01.303">
        <input type=text size=42 maxlength=30
        title="First Given Name" class=Mandatory tabindex=3
        name=pmpxi084 value="%PATWEB83.01.303" onblur="UpCase(this)">
    <td class=DataLabel></td>
    <td><input type=text size=35 maxlength=35
        name=ptmas009 title="Address Line 2" tabindex=8
        value="%PATWEB83.01.013"></td>
    <td class=DataLabel>Mobile Phone</td>
    <td><input type=text size=23 maxlength=20 
        name=ptmsx039 title="Mobile Phone No" tabindex=13
        value="%PATWEB83.01.085.043" ></td></tr>

<tr><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=42 maxlength=30 id="secondGivenName"
        title="Second Given Name" tabindex=4
        name=pmpxi085 value=""
        onblur="UpCase(this);">
    </td>
    <td class=DataLabel>Suburb</td>
    <td><input type=text size=35 maxlength=35
       name=ptmas010 title="Address Line 3" tabindex=9 class=Mandatory
       value="%PATWEB83.01.014" onchange="valPostCode();"></td>
    <td class=DataLabel>Email</td>
    <td><input type=text size=23 maxlength=80 
        name=pmpxi005 title="Email" tabindex=13
        value="%PATWEB83.01.405" ></td>

<tr id=PrefGivenName style="display:none">
  <td class=DataLabel>Preferred Given Name</td>
  <td><input type=text size=25 maxlength=25 name=pmpxi083
       title="Preferred Given Name"
       tabindex=4 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.G </td>
    <td><select name=ptmas015 tabindex=5
         title="%STANDARD.01.017.G " onchange="checkGenderInd(this);
         ChkIdentifyGenderPronounTitle(document.UpdateForm);"  
         class=Mandatory>
        <option></option>
          %PATWEB83.01.086.099.061.9.1.19.3.H
        </select></td>
    <td><div id=AddressLine4H></div></td>
    <td><div id=AddressLine4></div></td>

    <td class=DataLabel>%STANDARD.01.035.Pn </td>
    <td><select name=pmpxi095 class="SelectBig" tabindex=13 
         title="%STANDARD.01.035.Pn " onchange="checkContactCorrespondence();">
        <option></option>
         %PATWEB83.01.499. 12.2
        </select></td>

    </tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 title="Date of Birth"
         value="%PATWEB83.01.301" tabindex=6 class="Mandatory PastDate"
       onblur="checkDate(this,'Date of Birth')" ></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4
        name=ptmas012 title="Post Code" tabindex=11 class=Mandatory
        value="%PATWEB83.01.016"
        onchange="SetPostVars();
                  LookupSuburb(UpdateForm.ptmas012.value);
                  checkOverseas();">
    </td>
    <td class=DataLabel>%STANDARD.01.035.Pr </td>
    <td><select name=pmpxi096 class="SelectBig" tabindex=13
         title="%STANDARD.01.035.Pr " onchange="checkContactCorrespondence();">
        <option></option>
         %PATWEB83.01.499. 13.2
        </select></td>
</tr>
<tr>
    <td class=DataLabel>%STANDARD.01.035.mX</td>
    <td><select name=ptmas070
         title="%STANDARD.01.035.mX" tabindex=6
         onchange="ShowMultBirthOrder();">
        <option></option>
         %STANDARD.01.007.mX
        </select>
        <span id=DispBirthOrder style="display:none">
          Birth Order (0=Not Stated)
          <input type=text name=ptmas071 id=ptmas071
           size=1 maxlength=1 title="Birth Order" value=""
           onblur="CheckMultBirthOrder();">
        </span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

<tr id=GenderExtra>
  <td><div id=IdenGenLbl></div></td>
  <td><div id=IdenGenDetail></div></td>
  <td><div id=IdenProLbl></div></td>
  <td><div id=IdenProDetail></div></td>
</tr>

<tr><td colspan=6 class=HeadingCell align=center >
      PMI Details </td></tr>
<tr><td class=DataLabel>Marital Status</td>
    <td><select  name=ptmas016 tabindex=14 class="select120 Mandatory"
                 title="Marital Status">
        <option></option>
         %PATWEB83.01.069.2
        </select></td>
    <td class=DataLabel>Medicare Number</td>
    <td><input type=text size=12 maxlength=10 name=ptmas023 tabindex=20
        onblur="checkMedicareWa();" value="%PATWEB83.01.027">
    <input type=text size=1 maxlength=1 name=ptmsx045 tabindex=21
         onblur="checkMedRef();"
     title="Medicare Reference Number" value=""></td>
    <td class=DataLabel>Local GP </td>
    <td width=20%>
        <input type=hidden name=pmpxi059 id=pmpxi059
         value="%PATWEB83.01.484.001" title="Local GP Code">
        <input type=text readonly name=genpname id=genpname tabindex=-1
         value="%PATWEB83.01.484.081" title="Local GP">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCPSearchFrame(UpdateForm.pmpxi059,
                                   UpdateForm.genpname,
                                   UpdateForm.genpprov,
                                   UpdateForm.pmpxi060,
                                   UpdateForm.genpprac,
                                   UpdateForm.pmpxi061,
                                   3)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(UpdateForm.pmpxi059,UpdateForm.genpname);">
    </td>
</tr>

<tr><td class=DataLabel>Religion</td>
    <td><select name=ptmas020  class="select120" tabindex=15 
        title="Religion">
        <option></option>
        %PATWEB83.01.023.2
        </select></td>

    <td class=DataLabel>Valid to</td>
    <td><input type=text size=12 name=pmpxi016 title="Valid to"
         value="%PATWEB83.01.416" tabindex=22
         onblur="checkDateSV(this,'Valid to');" >
         <img src="../images/erase.gif" class=Icon 
          onclick="clrFields(UpdateForm.pmpxi016);"></td>
    <td class=DataLabel>Practice</td>
    <td><input type=hidden name=pmpxi060 id=pmpxi060
         value="%PATWEB83.01.485.001" title="Local GP Practice Code">
        <input type=text readonly name=genpprac id=genpprac tabindex=-1
         value="%PATWEB83.01.485.005">
        <input type=hidden name=pmpxi061 id=pmpxi061
         value="%PATWEB83.01.461" title="Local GP Practice Count">
        <input type=hidden name=genpprov id=genpprov
         value="">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCGSearchFrame(UpdateForm.pmpxi059,
                                   UpdateForm.genpname,
                                   UpdateForm.genpprov,
                                   UpdateForm.pmpxi060,
                                   UpdateForm.genpprac,
                                   UpdateForm.pmpxi061)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(UpdateForm.pmpxi060,
                            UpdateForm.genpprac,
                            UpdateForm.pmpxi061,
                            UpdateForm.genpprov);">
     </td>
</tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="ptmas019" tabindex=16 class="select120 Mandatory"
                 title="Country of Birth">
        <option></option>
        </select>
        <script type="text/javascript"> {
         SetCategoryC_(document.UpdateForm.ptmas019,"%PATWEB83.01.022.1") }
        </script></td>
    <td class=DataLabel>Folder Selection</td>
    <td><select name=pmpxi077 tabindex=29 title="Folder Selection">
         <option></option>
         %PATWEB83.01.479.2
         </select></td>
    <td class=DataLabel>Privacy Indicator</td>
    <td><select name=pmpxi066 class=select120 tabindex=33>
        <option></option>
         %PATWEB83.01.466.2
        </select></td>
</tr>

<tr><td class=DataLabel>Indigenous Status</td>
    <td><select name=pmpxi065 class="select120 Mandatory" tabindex=17
         title="Indigenous Status">
        <option></option>
         %PATWEB83.01.465.2
        </select></td>

    <td class=DataLabel>Health Fund </td>
    <td colspan=2><input type=text size=8 maxlength=6 name=ptmas036 
         title="Health Fund" tabindex=30
         value="%PATWEB83.01.040.0"
         onblur="checkTable();"
         onchange="validateCode(16,
                                UpdateForm.ptmas036,
                                UpdateForm.funddesc);
                   checkTable();">
        <input type=text size=25 maxlength=30 name=funddesc class=readonly
         Readonly notab value="%PATWEB83.01.040.1"></td>
</tr>

<tr><td class=DataLabel>Resident</td>
    <td><select name=ptmas021 tabindex=18 class=Mandatory title="Resident">
         <option></option>
         %PATWEB83.01.024.2
        </select></td>
    <td class=DataLabel>Health Fund Level</td>
    <td colspan=3><input name="ptmas037" size=8 maxlength=8 tabindex=31
         value="%PATWEB83.01.041.0" 
         title="Level"
         onblur="validateHFT(20,
                             UpdateForm.ptmas036,
                             UpdateForm.ptmas037,
                             UpdateForm.funddesc,
                             UpdateForm.tabldesc);">
        <input type="text" size=15 maxlength=17 name="tabldesc"
         class=readonly Readonly notab value="%PATWEB83.01.041.1" >
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="HealthFundSearchFrame(UpdateForm.ptmas036,
                                        UpdateForm.funddesc,
                                        UpdateForm.ptmas037,
                                        UpdateForm.tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onclick="clrDoc(UpdateForm.ptmas036,UpdateForm.ptmas037);
                  clrDoc(UpdateForm.funddesc,UpdateForm.tabldesc);
                  checkTable();">
    </td>
</tr>

<tr><td class=DataLabel>Interpreter Required</td>
    <td><select title="Interpreter Required" name=pmpxi001 tabindex=19 
                class=Mandatory onchange="ShowSpan(this.value);">
        %PATWEB83.01.401.2
        </select>
        </td>
    <td class=DataLabel>Health Fund Contributor Name</td>
    <td><input type=text size=42 maxlength=40 tabindex=32
        value="%PATWEB83.01.499.010"
        name=pmpxi093 title="Health Fund Contributor Name">
    </td>
    <td class=DataLabel> Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038 tabindex=35
         value="%PATWEB83.01.042"></td>
<tr>
    <td colspan=2>
        <span id=LanguageBox></span>
    </td>
</tr>
<tr><td><span id=panel></td>
    <td><span id=panel2></td>
    <td><span id=loading></td>
    <td><span id=returnDiv></td></tr>

<tr><td colspan=6 class=HeadingCell align=center >
    <input type=hidden name=pmcex002 value="%PATWEB83.01.318.1.1">
    %PATWEB83.01.318.1.0</td>
    </tr>

<tr><td class=DataLabel>Title</td>
    <td><select title="Title" name=pmcex004 tabindex=50
         onchange="MandatoryNOK();">
        <option></option>
        %STANDARD.01.029
        </select>
    </td>
    <td class=DataLabel>Overseas Address</td>
    <td><input type=checkbox name=oseasnok tabindex=60
         onclick='setAddrLine4N(UpdateForm);MandatoryNOK();'>
    </td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20 tabindex=70
        name=pmcex012 title="Home Phone" onchange="MandatoryNOK();"
        value="%PATWEB83.01.059"></td>
    </tr>

<tr><td class=DataLabel>Surname</td>
    <td><input type=text size=42 maxlength=30 name=pmcex005
        title="Surname" tabindex=51
        value="%PATWEB83.01.320"
        onchange="UpCase(this);MandatoryNOK();"></td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=35 maxlength=35 tabindex=61
        name=pmcex007 title="Address Line 1"
        value="%PATWEB83.01.054"
        onchange="UpCase(this);MandatoryNOK();"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20 tabindex=71
        name=pmcex013 title="Work Phone" onchange="MandatoryNOK();"
        value="%PATWEB83.01.060"></td>
    </tr>

<tr><td class=DataLabel>Given Name</td>
    <td><input type=text size=42 maxlength=30 name=pmcex006
        title="Given Name" tabindex=52
        value="%PATWEB83.01.321"
        onchange="UpCase(this);MandatoryNOK();">
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type=text size=35 maxlength=35 tabindex=62
        name=pmcex008 title="Address Line 2"
        value="%PATWEB83.01.055"
        onchange="UpCase(this);MandatoryNOK();"></td>
    <td class=DataLabel></td>
    <td></td>
    </tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>Suburb</td>
    <td><input type=text size=35 maxlength=35 title="Suburb"
        name=pmcex009 tabindex=63
        value="%PATWEB83.01.056"
        onchange="valPostCodeN();MandatoryNOK();"></td>
    <td class=DataLabel></td>
    <td></td>
    </tr>

<tr><td class=DataLabel>Relationship</td>
    <td><select name=pmcex015 title="Relationship" tabindex=54
         onchange="MandatoryNOK();">
        <option value=""></option>
         %STANDARD.01.030
        </select></td>
    <td><div id=AddressLine4HN></div></td>
    <td><div id=AddressLine4N></div></td>
    <td class=DataLabel></td>
    <td></td>
    </tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4 name=pmcex011 title="Post Code"
        value="%PATWEB83.01.058" tabindex=65
       onchange="SetPostVarsN();
                 LookupSuburb(UpdateForm.pmcex011.value);
                 checkOverseasN();
                 MandatoryNOK();">
        </td>
    <td class=DataLabel></td>
    <td></td>
    </tr>

<tr><td align=center colspan=6>
    <input type=button value="Update" tabindex=90 class=button id=btnUpd
     onclick="tempDisable(this);registerNewborn();">
    <input type=button value="Cancel" class=button tabindex=91
     onclick="history.go(-1);">
  </td></tr>

</table>
</table>
</form>

<script type="text/javascript">
function init(){
 document.UpdateForm.ptmas015.selectedIndex=""
}

function ShowSpan(showoption) {
  if (showoption=="1"){
    LanguageBox.innerHTML=LanguageSel.innerHTML;
    SetCategoryLA(document.UpdateForm.pmpxi002,"%PATWEB83.01.402.1");
  } else {
    LanguageBox.innerHTML=LanguageNul.innerHTML;
  }
}
 for (var i=0; i < document.UpdateForm.pmcex004.length; i++) {
  if (document.UpdateForm.pmcex004.options[i].value=="%PATWEB83.01.319"){
      document.UpdateForm.pmcex004.selectedIndex=i;
  }
 }
function valPostCode(){
  SetPostVars();
  var suburb=trim("%PATWEB83.01.014");
  if(document.UpdateForm.ptmas010.value==suburb){
    return;
    }
    UpCase(UpdateForm.ptmas010);
    if(trim(UpdateForm.ptmas012.value)!="8888"){
      LookupPostCode(UpdateForm.ptmas010.value);
      }
}
function valPostCodeN(){
  SetPostVarsN();
  var suburb=trim("%PATWEB83.01.014");
  if(document.UpdateForm.pmcex009.value==suburb){
    return;
    }
    UpCase(UpdateForm.pmcex009);
    if(trim(UpdateForm.pmcex011.value)!="8888"){
      LookupPostCode(UpdateForm.pmcex009.value);
      }
}
NOKRel="%PATWEB83.01.061.0";
for (var i =0 ; i < document.UpdateForm.pmcex015.length; i++) {
 if (document.UpdateForm.pmcex015.options[i].value==NOKRel) {
      document.UpdateForm.pmcex015.selectedIndex=i
 }
};
</script>
<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB83.01.003">
<input type=hidden name=admissno value="%PATWEB83.01.081">
<input type=hidden name=MenuType value="%PATWEB83.01.088">
</form>

<span id=LanguageSel style="display:none">
  <table border=0 width=100% cellspacing=0 cellpadding=0>
    <td class=DataLabel width=40%>Language</td>
    <td> <select name=pmpxi002 class="select120 Mandatory"
     title="Preferred Language">
     <option></option>
     </select></td>
  </table>
</span>

<span id=LanguageNul style="display:none;">
  <table border=0 width=100% cellspacing=0 cellpadding=0>
    <input type=hidden name=pmpxi002 value="">
  </table>
</span>

<span id=AustStateH style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td class=DataLabel>&nbsp;</td>
</table>
</span>

<span id=AustState style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td><input type=text size=35 maxlength=35 tabindex=10
       name=ptmas011 title="Address Line 4"
       value="%PATWEB83.01.015"
       onchange="UpCase(this);">
    </td>
</table>
</span>

<span id=OseasCountryH style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td class=DataLabel>Country</td>
</table>
</span>

<span id=OseasCountry style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td><select name=ptmas011 class="Mandatory select120" tabindex=10
                 title="Country Address">
        <option></option>
        %PATWEB83.01.085.060
        </select></td>
</table>
</span>

<span id=AustStateHN style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td class=DataLabel>&nbsp;</td>
</table>
</span>

<span id=AustStateN style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td><input type=text size=35 maxlength=35 tabindex=64
       name=pmcex010 title="Address Line 4"
       value="%PATWEB83.01.057"
       onchange="UpCase(this);MandatoryNOK();">
    </td>
</table>
</span>

<span id=OseasCountryHN style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td class=DataLabel>Country</td>
</table>
</span>

<span id=OseasCountryN style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td><select name=pmcex010 class="Mandatory select120" tabindex=64
                 title="Country Address" onchange="MandatoryNOK();">
        <option></option>
        %PATWEB83.01.085.060
        </select></td>
</table>
</span>

<span id=idenGenLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gi</td>
</span>
<span id=idenGenDetailShow style="display:none">
  <td><select name=pmpxi125 id=pmpxi125 class=Mandatory tabindex=7
       title="%STANDARD.01.035.Gi"
       onchange="IdenGenderChange(document.UpdateForm);">
      <option></option>
       %PATWEB83.01.086.099.063.9.2
      </select><br>
      <span id=IdenGenFreeTxt></span>
  </td>
</span>
<span id=idenGenDetailBlank style="display:none">
  <td><input type=hidden name=pmpxi125 id=pmpxi125 value=""></td>
  <td><input type=hidden name=pmpxi126 id=pmpxi126 value=""></td>
</span>
<span id=idenGenFreeTxtShow style="display:none">
  <input type=text name=pmpxi126 id=pmpxi126 size=80 maxlength=80
   class=Mandatory tabindex=7
   title="Identifying Gender Free Text"
   value="%PATWEB83.01.086.099.065">
</span>
<span id=idenGenFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpxi126 id=pmpxi126 value=""></td>
</span>
<span id=idenProLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gp</td>
</span>
<span id=idenProDetailShow style="display:none">
  <td><select name=pmpxi127 id=pmpxi127 class=Mandatory tabindex=13
       title="%STANDARD.01.035.Gp"
       onchange="IdenPronounChange(document.UpdateForm);">
      <option></option>
       %PATWEB83.01.086.099.064.9.2
      </select><br>
      <span id=IdenProFreeTxt></span>
  </td>
</span>
<span id=idenProDetailBlank style="display:none">
  <td><input type=hidden name=pmpxi127 id=pmpxi127 value=""></td>
  <td><input type=hidden name=pmpxi128 id=pmpxi128 value=""></td>
</span>
<span id=idenProFreeTxtShow style="display:none">
  <input type=text name=pmpxi128 id=pmpxi128 size=80 maxlength=80
   class=Mandatory tabindex=13
   title="Identifying Pronoun Free Text"
   value="%PATWEB83.01.086.099.066">
</span>
<span id=idenProFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpxi128 id=pmpxi128 value=""></td>
</span>
