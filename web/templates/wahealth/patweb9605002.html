<meta name="TemplateVersion" content="V12.01.01">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/discharge507.js"></script>
<script type="text/javascript" src="../js/patweb9605.js"></script>
%START.OF.PAGE
<script type="text/javascript">
function discharge() {
  p=document.pat96pdf
  caretype=p.d_ptmis012.value.substr(0,3);

  PhaseDateRange = "%PATWEB96.05.862"
  DischargeDateBoundary = PhaseDateRange.substr(16,8);

  ddb = DischargeDateBoundary.substr(6,2)+"/"+DischargeDateBoundary.substr(4,2)
        + "/" + DischargeDateBoundary.substr(0,4);

  dischargeDate = SetDateYYYYMMDD(p.trandate1.value);
  if((dischargeDate<DischargeDateBoundary)&&(DischargeDateBoundary!="")){
     alert("Discharge Date cannot be before last Phase start date (" + ddb + ").\n");
     return false;
  }

// Validate Cat.BT/Cat.CG combination (rehab ward)
    var serverURL = "../cgi-bin/comweb80.pbl?reportno=70" +
                    "&valdcode="+caretype.replace(/ /g,"+") +
                    "&valdcod2="+p.d_ptmis004.value.replace(/ /g,"+") +
                    "&valdcod3="+p.d_ptmis005.value.replace(/ /g,"+")

    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }

// Validate transfer hospital / current hospital
    if(p.hospval.value==undefined) p.hospval.value = "";
    if(p.trnsfsrc.value==undefined) p.trnsfsrc.value = "";

    var serverURL = "../cgi-bin/comweb80.pbl?reportno=73" +
                    "&valdcode="+p.hospval.value.replace(/ /g,"+") +
                    "&valdcod2="+p.trnsfsrc.value.replace(/ /g,"+") +
                    "&valdcod3=DISCHARGE"
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }
// Validate Cat.S/Cat.DD combination
  if ((p.desttyp.value=="1")&&(p.dschdest.value.substr(3,1)=="Z")){
    alert("Error Message\n"+
          "Admitted from a Corrective Institution and has been discharged "+
          "to home. Select OK to amend. ");
    return false;
  }
// Validate Mother/Baby link on discharge
    var serverURL = "../cgi-bin/comweb80.pbl?reportno=75" +
                    "&valdcode="+p.urnumber.value.replace(/ /g,"+") +
                    "&valdcod2="+p.hospval.value.replace(/ /g,"+")
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }
// Validate Category CL and Ambulatory Patient
    var serverURL = "../cgi-bin/comweb80.pbl?reportno=72" +
                    "&valdcode=DISCHARGE"+
                    "&valddate="+p.trandate1.value.replace(/ /g,"+") +
                    "&valdcod2="+p.admissno.value.replace(/ /g,"+") +
                    "&valdcod3="+p.catcltyp.value.replace(/ /g,"+") +
                    "&valdcod4="+p.dschdest.value.replace(/ /g,"+")
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }
// Validate Cat.A/Cat.CC combination
    var serverURL = "../cgi-bin/comweb80.pbl?reportno=69" +
                    "&valdcode="+caretype.replace(/ /g,"+") +
                    "&valdcod2="+p.d_ptmis010.value.replace(/ /g,"+") +
                    "&valdcod3="+p.urnumber.value.replace(/ /g,"+") +
                    "&valddate="+p.trandate1.value.replace(/ /g,"+")
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }

  if (isWhitespace(f.ptdsc003.value)) {
    if (!isWhitespace(f.ptdsc004.value)) {
      alert("Medical Clear for Discharge Time must not be entered when\n" +
            "Medical Clear for Discharge Date is not entered");
      return false;
    }
  }

  MandatoryOk=validateMandatory(document.pat96pdf)
  if (document.pat96pdf.d_movemrec.checked==true) {
      document.pat96pdf.mvmedrec.value="1"
  }
  if (MandatoryOk) {
    SetHousekeeping();
    if (trim(document.pat96pdf.mnhlindc.value)=="P" ||
        trim(document.pat96pdf.mnhlpatn.value)=="1") {
      if (isWhitespace(document.pat96pdf.mhdlukey.value)) {
        document.pat96pdf.redirect.value=document.pat96pdf.mnhlredr.value;
      } else {
      document.pat96pdf.redirect.value="mehweb01.pbl?reportno=09&template=003"+
   "&urnumber="+document.pat96pdf.mhdlukey.value.substr(0,8).replace(/ /g,'+')+
   "&uniqnumb="+document.pat96pdf.mhdlukey.value.substr(8,8).replace(/ /g,'+')+
   "&admissno="+document.pat96pdf.admissno.value+
   "&mvmedrec="+document.pat96pdf.mvmedrec.value;
   SetCookie("mhdlukeycookie",document.pat96pdf.mhdlukey.value);
      }
    }
    if (document.pat96pdf.d_movemrec.checked==true) {
      if (trim(document.pat96pdf.mnhlindc.value)=="P" ||
          trim(document.pat96pdf.mnhlpatn.value)=="1") {
        SetCookie("medreccookie","1");
      } else {
      document.pat96pdf.redirect.value="mrtweb01.pbl?reportno=09&template=004"+
               "&urnumber="+document.pat96pdf.urnumber.value+
               "&admissno="+document.pat96pdf.admissno.value+
               "&mvmedrec="+document.pat96pdf.mvmedrec.value+
               "&dischflg=1"
      }
    }

// Statistical readmission changed
  p=document.pat96pdf
  var i=p.dschdest.selectedIndex;
  var ind=p.dschdest.options[i].value.substr(9,1)
  if(ind=='S'||ind=='O'){
     p.action='patweb89.pbl';
     p.reportno.value='13';
    if(ind=='S'){
     if(document.getElementById('d_ptmis012').value.substr(0,3)==
        document.getElementById('oldcare').value.substr(0,3)){
        alert("Error: Statistical Re-admission Care Type must be different"+
              " to the current Care Type");
        return;
     }
    }
   if(isWhitespace(p.ptmis011.value)){
     alert("Default Admission Type must be set up for Statistical Admission");
     return;
   }
   if(isWhitespace(p.ptmis009.value)){
   alert("Default Source of Referral must be set up for Statistical Admission");
     return;
   }
   if(ind=='O'){
    p.ptmis010.value=p.op_ptmis010.value;
    p.ptmis012.value=p.op_ptmis012.value;
    p.ptmis027.value=p.op_ptmis027.value;
    p.ptmis007.value=p.op_ptmis007.value;
    p.ptvis075.value=p.op_ptvis075.value;
    p.ptmis024.value=p.op_ptmis024.value;
   } else {
    p.ptmis010.value=p.d_ptmis010.value;
    p.ptmis007.value=p.d_ptmis007.value;
    p.ptmis027.value=p.d_ptmis027.value;
    p.ptmis024.value=p.d_ptmis024.value;
    p.ptmis012.value=p.d_ptmis012.value;
    p.ptvis124.value=p.d_ptvis124.value;
    p.ptmis005.value=p.d_ptmis005.value;
    p.ptmis004.value=p.d_ptmis004.value;
    ind=document.pat96pdf.d_ptmis027.value.substring(3,4)
    if (ind=="P") {
      p.ptvis131.value=p.d_ptvis131.value;
    }
   }
   checkMen=p.ptmis024.value.substr(7,1);
   if (checkMen=="P") {
     if (p.mhadmflg != undefined)
     {
       p.mhadmflg.value="1";
     }
   }
   if(isWhitespace(p.ptmis012.value)){
      alert("Care Type must be set up for Statistical Admission");
      return;
   }
   if(isWhitespace(p.ptvis046.value)){
      alert("Default Admitting Point must be set up for Statistical Admission");
      return;
   }

   if(p.dschdest.value.substr(9,1)=="O"){
     p.ptmis020.value="";
     if(!confirm("Patient is being discharged as deceased Posthumous "+
             "Organ Donation.  Is this correct?")){
     return;
    }
   }
   p.ptmis001.value=p.trandate1.value;
   if(p.trantime.value.substr(0,5)=="00:00"){
      p.trantime.value="00:01:00"
   }
   p.ptmis002.value=p.trantime.value;
   dtime = new Date();
   dtime.setHours(p.trantime.value.substr(0,2));
   dtime.setMinutes(p.trantime.value.substr(3,2));
   dtime.setSeconds(p.trantime.value.substr(6,2));
   atime = new Date();
   atime.setTime(dtime.getTime()-60000);
   if(atime.getHours()<"10"){
     p.trantime.value="0"+atime.getHours()+":"+atime.getMinutes()+":"
                    +atime.getSeconds();
   } else {
     p.trantime.value=atime.getHours()+":"+atime.getMinutes()+":"
                    +atime.getSeconds();
   }
   checkTime(p.trantime);
  // check claim type and resident status
   resi=document.pat96pdf.resident.value.substring(5,6);
   ctind1=document.pat96pdf.d_ptmis027.value.substring(3,4)
   ctind16=document.pat96pdf.d_ptmis027.value.substring(32,33)
   // don't check claim code/resident if ind 16=1
   if(ctind16!="1"){
     if(ctind1=="G"||ctind1=="E"){  // overseas CL
       if(resi!="O"&&resi!="S"){  // not overseas resident
          alert("Error: Invalid Resident Status for Claim Type.")
          return;
       }
     }
     if(ctind1!="G"&&ctind1!="E"){  // not overseas CL
       if(resi=="O"||resi=="S"){  // overseas resident
          alert("Error: Invalid Resident Status for Claim Type.")
          return;
       }
     }
     if(resi=="O"||resi=="S"){  // overseas resident
       if(ctind1!="G"&&ctind1!="E"){  // not overseas
          alert("Error: Invalid Resident Status for Claim Type.")
          return;
       }
     }
     if(resi!="O"&&resi!="S"){  // not overseas resident
       if(ctind1=="G"||ctind1=="E"){  // overseas CL
          alert("Error: Invalid Resident Status for Claim Type.")
          return;
       }
     }
   }
  // end claim code/resident status validation

  // Check Bed Closure for Statistical Readmission

    var serverURL = "../cgi-bin/comweb81.pbl?reportno=1" +
                    "&valddate="+p.trandate1.value.replace(/ /g,"+") +
                    "&valdtime="+p.trantime.value.replace(/ /g,"+") +
                    "&valdcode="+p.d_ptmis004.value.replace(/ /g,"+") +
                    "&valdcod2="+p.d_ptmis005.value.replace(/ /g,"+")

    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return;
    }

  }
    if(p.offdutyb!=undefined){
      if(p.offdutyb.checked==true){
        alert("Error: Claim Type invalid for 'Off Duty' personnel.")
        return;
      }
    }
// End Statistical readmission values

      SubmitHidden(pat96pdf);
   }
}
function DisContractWAhealth() {
    i=document.pat96pdf.d_ptmis010.selectedIndex;
    ind=document.pat96pdf.d_ptmis010.options[i].value.substring(14,15)
    ind2=document.pat96pdf.d_ptmis010.options[i].value.substring(14,16)
    if (ind=="0"||ind=="5"||ind=="9"||ind2=="10") {
      document.getElementById('contractxx').style.display="";
      document.pat96pdf.ptasf003.className="Mandatory";
    } else {
      document.getElementById('contractxx').style.display="none";
      document.pat96pdf.ptasf003.className="";
    }
}
function HideContractFields() {
  document.getElementById('contractxx').style.display="none";
}
function LoadCurrentWard() {
  for (var i =0 ; i < document.pat96pdf.d_ptmis004.length; i++) {
    if (document.pat96pdf.d_ptmis004.options[i].value.substr(0,3)==
                 document.pat96pdf.ptmis004.value.substr(0,3)) {
       document.pat96pdf.d_ptmis004.selectedIndex=i } };
}
function LoadWardBeds() {
  var p=document.pat96pdf;
  WardBedSelection(p.d_ptmis004,p.d_ptmis005,'A',p.x_ptmis005)
}
function showFundingSource() {
    i=document.pat96pdf.d_ptmis027.selectedIndex;
    ind=document.pat96pdf.d_ptmis027.options[i].value.substring(3,4)
    if (ind=="A") {
      FundingHeading.innerHTML=offdutyhd.innerHTML;
      FundingId.innerHTML=offdutyid.innerHTML;
    } else {
      if (ind=="P") {
        FundingHeading.innerHTML=fundinghd.innerHTML;
        FundingId.innerHTML=fundingid.innerHTML;
        document.pat96pdf.d_ptvis131.className="Mandatory";
      } else {
        FundingHeading.innerHTML=blanklabel.innerHTML;
        FundingId.innerHTML=blanklabel.innerHTML;
      }
    }
    checkClaimType();
}

function valDoctorUnit() {
  validateCode(31,pat96pdf.d_ptmis007,pat96pdf.doctnam2);
  selectOptions4("45",pat96pdf.d_ptmis007,pat96pdf.dummy,pat96pdf.d_ptmis024);
  selectUnit();
  valDoctorUnitTeam();
}
function valDoctorUnitTeam() {
  selectOptions4("46",pat96pdf.d_ptmis007,pat96pdf.d_ptmis024,pat96pdf.d_ptvis124);
  selectTeam();
}
function selectUnit(){
  for (var i =0 ; i < document.pat96pdf.d_ptmis024.length; i++) {
    if (document.pat96pdf.d_ptmis024.options[i].value.substr(0,3)==
                 document.pat96pdf.deftunit.value.substr(0,3)) {
       document.pat96pdf.d_ptmis024.selectedIndex=i } };
    if (isWhitespace(document.pat96pdf.deftunit)) {
      if (pat96pdf.d_ptmis024.length==2) {
        pat96pdf.d_ptmis024.selectedIndex=1; } }
}
function selectTeam(){
  for (var i =0 ; i < document.pat96pdf.d_ptvis124.length; i++) {
    if (document.pat96pdf.d_ptvis124.options[i].value.substr(0,5)==
                 document.pat96pdf.deftteam.value.substr(0,5)) {
       document.pat96pdf.d_ptvis124.selectedIndex=i } };
    if (isWhitespace(document.pat96pdf.deftteam)) {
      if (pat96pdf.d_ptvis124.length==2) {
        pat96pdf.d_ptvis124.selectedIndex=1; } }
      if (pat96pdf.d_ptvis124.length>1) {
        pat96pdf.d_ptvis124.className = "Mandatory"; }
      else { pat96pdf.d_ptvis124.className = ""; }
}

function DisplayTrnSrc() {
  var i=document.pat96pdf.dschdest.selectedIndex;
  var ind=document.pat96pdf.dschdest.options[i].value.substring(4,5)
  var ind2=document.pat96pdf.dschdest.options[i].value.substr(14,1)
   if (ind2!="D"){
       if (ind!="1") {
          TranSrcDesc.innerHTML=""
          TranSrcField.innerHTML=transferblank.innerHTML;
          document.pat96pdf.trnsfsrc.value="";
       } else {
          TranSrcDesc.innerHTML="Discharge To"
          TranSrcField.innerHTML=transfersrc.innerHTML;
       }
   }
}
function DisplayCareType(){
  var i=document.pat96pdf.dschdest.selectedIndex;
  var ind=document.pat96pdf.dschdest.options[i].value.substr(9,1)
  if (ind != "S") {
   document.getElementById('stathead').style.display="none";
   document.getElementById('d_ptmis012').className="none";
   document.getElementById('statcarehead').style.display="none";
   document.getElementById('statcarevalue').style.display="none";
   document.getElementById('oldcarehead').style.display="none";
   document.getElementById('oldcarevalue').style.display="none";
   document.getElementById('d_ptmis010').className="none";
   document.getElementById('d_ptmis004').className="none";
   document.getElementById('pattypehead').style.display="none";
   document.getElementById('pattypevalue').style.display="none";
   document.getElementById('resphead').style.display="none";
   document.getElementById('respvalue').style.display="none";
   document.getElementById('unithead').style.display="none";
   document.getElementById('unitvalue').style.display="none";
   document.getElementById('teamhead').style.display="none";
   document.getElementById('teamvalue').style.display="none";
   document.getElementById('wardhead').style.display="none";
   document.getElementById('wardvalue').style.display="none";
   document.getElementById('claimhead').style.display="none";
   document.getElementById('claimvalue').style.display="none";
   HideContractFields();
  } else {
   if (document.pat96pdf.admstat.value=="4") {
    alert("Cannot Perform a Care Type Change when Patient is On Leave.");
    document.pat96pdf.dschdest.value="";
    return;
   } else {
   document.getElementById('stathead').style.display="";
   document.getElementById('statcarehead').style.display="";
   document.getElementById('statcarevalue').style.display="";
   document.getElementById('oldcarehead').style.display="";
   document.getElementById('oldcarevalue').style.display="";
   document.getElementById('d_ptmis012').className="Mandatory";
   document.getElementById('d_ptmis004').className="Mandatory";
   document.getElementById('d_ptmis010').className="Mandatory";
   document.getElementById('pattypehead').style.display="";
   document.getElementById('pattypevalue').style.display="";
   document.getElementById('resphead').style.display="";
   document.getElementById('respvalue').style.display="";
   document.getElementById('unithead').style.display="";
   document.getElementById('unitvalue').style.display="";
   document.getElementById('teamhead').style.display="";
   document.getElementById('teamvalue').style.display="";
   document.getElementById('wardhead').style.display="";
   document.getElementById('wardvalue').style.display="";
   document.getElementById('claimhead').style.display="";
   document.getElementById('claimvalue').style.display="";
   valDoctorUnit();
   DisContractWAhealth();
   showFundingSource();
   LoadCurrentWard();
   LoadWardBeds();
   }
  }
}

function DisplayAutopsy() {
  // Check indicator for deceased
  i=document.pat96pdf.dschdest.selectedIndex
  ind=document.pat96pdf.dschdest.options[i].value.substring(3,4)
  if (ind=="D") {
    document.pat96pdf.dschdind.value="1"
    Autop.innerHTML=autopsyDiv.innerHTML;
  }
  else {
    Autop.innerHTML="";
    document.pat96pdf.dschdind.value="0"}
}
function moveMREC() {
  var msg="Do you want to move Medical Record?";
  if (confirm(msg)) {
    document.pat96pdf.movemrec.value=1;
  } else {
    document.pat96pdf.movemrec.value=0;
  }
  document.pat96pdf.submit();
}
function CheckMH() {
  if (trim(document.pat96pdf.ptmis024.value.substr(7,1))=="P") {
    MentalHealth.innerHTML=MHfields.innerHTML;
  } else {
    if (trim(document.pat96pdf.mnhlpatn.value)=="1") {
      MentalHealth.innerHTML=MHfields.innerHTML; 
    } else {
      MentalHealth.innerHTML="";
    }
  }
}

//TSK 0894483 - Check Indicator 12 to set Depature Means as mandatory
function checkDepartureStatusInd(indicator){
  var val = indicator.value.substring(28,29);
  if(val == 'M'){
    document.getElementById('dschdpmn').className="Mandatory";
  } else {
    document.getElementById('dschdpmn').className="";
  }
}
function ShowMedClearDetail() {
  f = document.pat96pdf;
  if (isWhitespace(f.ptdsc003.value)) {
    f.ptdsc004.value = "";
    f.ptdsc005.selectedIndex = -1;
    f.ptdsc006.selectedIndex = -1;
    document.getElementById('PriReasonDiscDelay').style.display = "none";
    document.getElementById('SecReasonDiscDelay').style.display = "none";
    document.pat96pdf.ptdsc004.className="";
    document.pat96pdf.ptdsc005.className="";
  }
  else {
    document.getElementById('PriReasonDiscDelay').style.display = "";
    document.getElementById('SecReasonDiscDelay').style.display = "";
    document.pat96pdf.ptdsc004.className="Mandatory";
    document.pat96pdf.ptdsc005.className="SelectBig Mandatory";
  }
}
function TransferSourceSearchClicked(f) {
  if (f.dschdest.selectedIndex == -1) {
    return;
  }

  acat = "DD"
  acode = f.dschdest.value;
  serverURL = "../cgi-bin/comweb81.pbl?reportno=61" +
              "&valdctyp=" + acat.replace(/ /g,"+") +
              "&valdcode=" + acode.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status == 0) {
    ReturnValue = returnValue.return_value.split("|")
    if (ReturnValue.length > 1) {
      f.ddsttype.value = trim(ReturnValue[36]);
      if (isWhitespace(f.ddsttype.value)) {
        TransferSourceFrame(f.trnsfsrc,f.trandesc)
      }
      else {
        TransferSourceFrameWA(f.trnsfsrc,f.trandesc,f.ddsttype)
      }
    }
  }
}
function ValidateTransferSource(f) {
  f.trandesc.value="";

  if (isWhitespace(f.trnsfsrc.value)) return true;

  if (f.dschdest.selectedIndex == -1) {
    return false;
  }

  acat = "DD"
  acode = f.dschdest.value;
  serverURL = "../cgi-bin/comweb81.pbl?reportno=61" +
              "&valdctyp=" + acat.replace(/ /g,"+") +
              "&valdcode=" + acode.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status == 0) {
    ReturnValue = returnValue.return_value.split("|")
    if (ReturnValue.length > 1) {
      f.ddsttype.value = trim(ReturnValue[36]);
      if (isWhitespace(f.ddsttype.value)) {
        return validateTransSrc(f.trnsfsrc,f.trandate1,f.trandesc)
      }
      else {
        return validateTransSrcWA(f.trnsfsrc,f.trandate1,f.trandesc,f.ddsttype)
      }
    }
  }
  return false;
}

</script>
</head>

<body onload="PageLoad(event);CheckMH();ShowHouse();DisplayTrnSrc();
              ShowMedClearDetail();">
<div id=PageHeadingSection></div>
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB96.05.003";
PatientVIS="%PATWEB96.05.081";
PatientNAM="%PATWEB96.05.002";
PatientSTA="%PATWEB96.05.086.078";
PatientALT="%PATWEB96.05.084";
PatientSEX="%PATWEB96.05.019";
PatientDOB="%PATWEB96.05.020";
PatientAGE="%PATWEB96.05.021";
PatientLOC="%PATWEB96.05.083";
PatientPRI="%PATWEB96.05.086.066.1";
PatientUNT="%PATWEB96.05.066.0";
DoctorCOD="%PATWEB96.05.082.003";
DoctorNAM="%PATWEB96.05.082.002";
PatientAID="%PATWEB96.05.086.090";
PatientIND="%PATWEB96.05.086.091";
PatientCUR="%PATWEB96.05.086.092";
PatientCLC="%PATWEB96.05.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB96.05.086.094";
PatientCDM="%PATWEB96.05.086.095";
PatientVDH="%PATWEB96.05.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<div id=PageBodySection>
<form onsubmit='return validateMandatory(this)' name=pat96pdf id=pat96pdf
 style="margin:0" %PATWEB96.05.201.001
<input type=hidden name=urnumber id=urnumber value="%PATWEB96.05.003">
<input type=hidden name=admissno id=admissno value="%PATWEB96.05.101">
<input type=hidden name=redirect id=redirect
 value="%PATWEB96.05.001.patweb98.01.001">
<input type=hidden name=nextpage id=nextpage value="7">
<input type=hidden name=resident id=resident value="%PATWEB96.05.024.3">
<input type=hidden name=formactn id=formactn value="Discharge">
<input type=hidden name=patsex id=patsex   value="%PATWEB96.05.019">
<input type=hidden name=patage id=patage   value="%PATWEB96.05.021">
<input type=hidden name=acasage id=acasage  value="%PATWEB96.05.223">
<input type=hidden name=acascare id=acascare value="%PATWEB96.05.113.3">
<input type=hidden name=statevic id=statevic value="%PATWEB96.05.224">
<input type=hidden name=mnhlindc id=mnhlindc value="%PATWEB96.05.229">
<input type=hidden name=mnhlredr id=mnhlredr
 value="%PATWEB96.05.001.mehweb01.09.001">
<input type=hidden name=ptmis024 id=ptmis024 value="%PATWEB96.05.124.3">
<input type=hidden name=pmsvx125 id=ausr1 value="%PATWEB96.05.498.037">
<input type=hidden name=dschusr1 id=dusd1 value="%PATWEB96.05.498.037">
<input type=hidden name=ismrtmas id=ismrtmas value="%PATWEB96.05.841">
<input type=hidden name=mnhlpatn id=mnhlpatn value="%PATWEB96.05.221">
<input type=hidden name=mhadmflg id=mhadmflg>
<input type=hidden name=dummy id=dummy>
<input type=hidden name=mhdlukey id=mhdlukey value="%PATWEB96.05.852">
<input type=hidden name=deftunit id=deftunit value="%PATWEB96.05.124.1">
<input type=hidden name=deftteam id=deftteam value="%PATWEB96.05.498.046.1">
<input type=hidden name=ptcnchod id=ptcnchod
 value="%STANDARD.01.025.114.139.0.1">
<input type=hidden name=catcltyp id=catcltyp value="%PATWEB96.05.126.1">
<input type=hidden name=catcctyp id=catcctyp value="%PATWEB96.05.113.1">
<input type=hidden name=catatyp id=catatyp  value="%PATWEB96.05.111.1">
<input type=hidden name=catstyp id=catstyp  value="%PATWEB96.05.110.3">
<input type=hidden name=hospval id=hospval  value="%PATWEB96.05.498.013.1">
<input type=hidden name=desttyp id=desttyp  value="%PATWEB96.05.854">
<input type=hidden name=admstat id=admstat  value="%PATWEB96.05.855">
<input type=hidden name=dschmhls id=dschmhls value="%PATWEB96.05.489.1">
<input type=hidden name=ddsttype id=ddsttype value="">

<table  border=0 width=100% cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell align=center colspan=4>
      Patient Discharge Form</td>
</tr>
</table>

<table  border=0 width=100% cellspacing=0 cellpadding=4>
<tr><td class=DataLabel width=18%>Discharge Date </td>
    <td><input type=text size=15 maxlength=12 name=trandate1 id=trandate1 
         title="Discharge Date" value="%PATWEB96.05.219"
         onblur="checkDate(this,'Date')" class="Mandatory PastDate" >
         <img notab src="../images/DateTimeStamp.gif" class="Icon"
          alt="Current" 
          onclick="SetCurrentDateTime(pat96pdf.trandate1,null);">
         <img notab src="../images/DateLookup.gif" class="Icon"
          alt="Calendar" date="pat96pdf.trandate1">
    Discharge Time
        <input type=text size=8 name=trantime id=trantime  class="Mandatory" 
        title="Discharge Time"  value="%PATWEB96.05.220">
        <img src="../images/DateTimeStamp.gif" class=Icon
        onclick="SetCurrentDateTime(null,pat96pdf.trantime);">
        <img src="../images/TimeLookup.gif" class=Icon
        onclick="TimeLookupFrame(pat96pdf.trantime);"></td>
    <td class=DataField colspan=2 id=stathead style="display:none">
        Statistical Admission Details</td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.DD  </td>
    <td><select name=dschdest id=dschdest
          onchange="DisplayTrnSrc();
                    DisplayCareType();
                    checkDepartureStatusInd(this);"
         class=Mandatory title="%STANDARD.01.017.DD">
        <option></option>
        %PATWEB96.05.304.5
        </select></td>
    <td class=DataLabel id=statcarehead style="display:none">
        Statistical Re-admission Care Type</td>
    <td id=statcarevalue style="display:none">
        <select name=d_ptmis012 id=d_ptmis012 class=Mandatory  
         title="%STANDARD.01.017.CC">
        <option></option>
        %STANDARD.01.007.CC
        </select></td>
</tr>

<tr>
    <td class=DataLabel><div id=TranSrcDesc></div></td>
    <td><div id=TranSrcField></div></td>
</tr>

    <input type=hidden name=oldcare id=oldcare value="%PATWEB96.05.113.1">
<tr valign=top><td class=DataLabel>Responsible Clinician</td>
    <td class=DataLabel> 
    <input type=text name=dschadta id=dschadta size=10
        value="%PATWEB96.05.108.003"
        class=Readonly readonly notab>
    <input type=text name=dschname id=dschname size=25
        value="%PATWEB96.05.108.002"
        class=Readonly readonly notab>
   </td> 
    <td class=DataLabel id=oldcarehead style="display:none">
        Current Care Type</td>
    <td id=oldcarevalue style="display:none">
    <input type=text name=oldcarexx id=oldcarexx size=30
           value="%PATWEB96.05.113.0" 
           class=Readonly readonly>
    </td>
</tr>

<tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel id=pattypehead style="display:none">
        %STANDARD.01.017.A </td>
    <td id=pattypevalue style="display:none">
        <select name=d_ptmis010 id=d_ptmis010 class=Mandatory
         title="%STANDARD.01.017.A " onchange="DisContractWAhealth();">
        <option></option>
        %PATWEB96.05.111.2 
        </select></td>
</tr>
<tr id="contractxx" style="display:none">
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Contract ID</td>
<td><input type="text" size=7 maxlength=5 name=ptasf003 id=ptasf003
      value="%PATWEB96.05.199.003.1" title="Contract ID"
      tabindex=-1
      onblur="validateCode(9,pat96pdf.ptasf003,pat96pdf.d_ptasf003);">
     <input type=text size=27 name=d_ptasf003 id=d_ptasf003 notab
      value="%PATWEB96.05.199.003.2"
      class=Readonly readonly>
     <img src="../images/SearchIcon.gif" class=icon
      onclick="TransferSourceFrame(pat96pdf.ptasf003,pat96pdf.d_ptasf003)"></td>
</tr>

<tr><td class=DataLabel>Departure Means </td>
    <td><select name=dschdpmn id=dschdpmn title="Departure Means">
        <option></option>
        %PATWEB96.05.329.2
        </select></td>

    <td class=DataLabel id=resphead style="display:none">
    Responsible Clinician</td>
    <td class=DataLabel id=respvalue style="display:none">
        <input type="text" size=8 maxlength=6 name="d_ptmis007" id="d_ptmis007"
         tabindex=40
          value="%PATWEB96.05.108.003" title='Responsible Clinician'
          onchange="UpCase(this);valDoctorUnit();" class=Mandatory>
        <input type=text readonly size=25 name=doctnam2 id=doctnam2
          value="%PATWEB96.05.108.002" class=mandatory>
        <img src="../images/SearchIcon.gif" class=Icon
          onclick="DoctorSearchFrame(pat96pdf.d_ptmis007,
                                     pat96pdf.doctnam2,
                                     valDoctorUnit)">
        <img src="../images/erase.gif" class=Icon
          onclick="clrFields(pat96pdf.d_ptmis007,
                             pat96pdf.doctnam2,
                             pat96pdf.d_ptmis024,
                             pat96pdf.d_ptvis124);"></td>

</tr>

<tr valign=top><td class=DataLabel>Comments</td>
    <td ><input type=text name=dschcom1 id=dschcom1 size=50 maxlength=40></td>
    <td class=DataLabel id=unithead style="display:none">
      %STANDARD.01.017.AC</td>
    <td class=DataLabel id=unitvalue style="display:none">
      <select name=d_ptmis024 id=d_ptmis024 tabindex=45 class="Mandatory"
          title="%STANDARD.01.017.AC" onchange="valDoctorUnitTeam();">
          <option></option>
          %PATWEB96.05.124.2
          </select>
      </td>
</tr>
<tr> <td>&nbsp;</td>
    <td><input type=text name=dschcom2 id=dschcom2 size=50 maxlength=30></td>
    <td class=DataLabel id=teamhead style="display:none">
    Team</td>
    <td class=DataLabel id=teamvalue style="display:none">
          <select name=d_ptvis124 id=d_ptvis124 tabindex=50
               title="Team">
              <option> </option>
               %PATWEB96.05.498.046.2
              </select>
          </td>
</tr>
<tr><td class=DataLabel>Discharge Diagnosis</td>
    <td><input type=text name=dschdia1 id=dschdia1 size=50 maxlength=50></td>
    <td class=DataLabel id=wardhead style="display:none">
       Ward / Bed </td>
      <td class=DataLabel id=wardvalue style="display:none">
         <input type=hidden name=bedstat1 id=bedstat1>
           <input type=hidden name=warddesc id=warddesc>
           <input type=hidden name=x_ptmis005 id=x_ptmis005
            value="%PATWEB96.05.106">
           <select name=d_ptmis004 id=d_ptmis004 tabindex=210
            title="Ward"
            onchange="LoadWardBeds();">
            <option> </option>
            %PATWEB96.05.810
           </select>
         <select name=d_ptmis005 id=d_ptmis005 title="Bed" notab>
         </select>
         <img src="../images/SearchIcon.gif" class=Icon
          onclick="WardBedSearchFrame(pat96pdf.d_ptmis004,
                                      pat96pdf.warddesc,
                                      pat96pdf.d_ptmis005,
                                      pat96pdf.bedstat1,
                                      LoadWardBeds);">
       </td>
</tr>
<tr><td>&nbsp;</td>
    <td> <input type=text name=dschdia2 id=dschdia2 size=50 maxlength=50>
    </td>
      <td class=DataLabel id=claimhead style="display:none">
         %STANDARD.01.017.CL</td>
      <td class=DataLabel id=claimvalue style="display:none">
         <table cellspacing=0 cellpadding=0>
         <td align=left>
          <select name=d_ptmis027 id=d_ptmis027 tabindex=80 class="Mandatory"
                  title="%STANDARD.01.017.CL" onchange="showFundingSource();">
          <option> </option>
          %PATWEB96.05.126.2
          </select>
             <td><div id=FundingHeading></div></td>
             <td><div id=FundingId></div>
             </td></table></td>
</tr>
<tr><td>Move Medical Record</td>
<td><input type=checkbox name=d_movemrec id=d_movemrec value="1">
<td><input type=hidden name=mvmedrec id=mvmedrec value="0">
</td></tr>
<!-- Admission fields - used for statistical discharges -->
<!-- Admission date (will get set to discharge date)-->
 <input type="hidden" name="ptmis001" id="ptmis001" value="">
<!-- Admission time (will get set to discharge time + 1 second)-->
 <input type="hidden" name="ptmis002" id="ptmis002" value="">
<!-- Referring Clinician -->
 <input type="hidden" name=ptvis028 id=ptvis028 value="%PATWEB96.05.431.1">
<!-- Practice -->
 <input type=hidden name=ptvis029 id=ptvis029 value="%PATWEB96.05.432.1">
<!-- Count -->
 <input type=hidden name=ptvis030 id=ptvis030 value="%PATWEB96.05.433.1">
<!-- Category SI -->
 <input type="hidden" name=ptvis103 id=ptvis103 value="%PATWEB96.05.498.025.1">
<!-- Responsible Clinician -->
 <input type="hidden" name="ptmis007" id="ptmis007" value="%PATWEB96.05.108.003">
<!-- Responsible Clinician - organ procurement only -->
 <input type="hidden" name=op_ptmis007 id=op_ptmis007 value="%PATWEB96.05.846">
<!-- Team -->
 <input type="hidden" name="ptvis124" id="ptvis124"
  value="%PATWEB96.05.498.046.1">
<!-- Registrar -->
 <input type="hidden" name="ptvis062" id="ptvis062" value="%PATWEB96.05.465.1">
<!-- Resident -->
 <input type="hidden" name="ptvis061" id="ptvis061" value="%PATWEB96.05.464.1">
<!-- Claim Code -->
 <input type="hidden" name=ptmis027 id=ptmis027 value="%PATWEB96.05.126.1">
 <input type="hidden" name=op_ptmis027 id=op_ptmis027 value="%PATWEB96.05.848">
<!-- Funding Source -->
 <input type="hidden" name=ptvis131 id=ptvis131 value="%PATWEB96.05.851.1">
<!-- Admitting Point -->
 <input type=hidden name=ptvis046 id=ptvis046 value="%PATWEB96.05.845">
<!-- Ward -->
 <input type=hidden name=ptmis068 id=ptmis068 value="%PATWEB96.05.105.1">
 <input type=hidden name=ptmis004 id=ptmis004 value="%PATWEB96.05.105.1">
<!-- Bed -->
 <input type=hidden name=ptmis076 id=ptmis076 value="%PATWEB96.05.106">
 <input type=hidden name=ptmis005 id=ptmis005 value="%PATWEB96.05.106">
<!-- Source of referral -->
 <input type="hidden" name="ptmis009" id="ptmis009" value="%PATWEB96.05.843">
<!-- Preferred Accomodation -->
 <input type="hidden" name="ptvis093" id="ptvis093" value="%PATWEB96.05.850.1">
<!-- Post op ward -->
 <input type="hidden" name="ptvis048" id="ptvis048" value="%PATWEB96.05.451.0">
<!-- Category cw -->
 <input type="hidden" name=ptvis125 id=ptvis125 value="%PATWEB96.05.498.047.1">
<!-- Category KD -->
 <input type="hidden" name=ptvis104 id=ptvis104 value="%PATWEB96.05.498.026.1">
<!-- Admission Diagnosis -->
 <input type=hidden name="ptmis020" id="ptmis020" value="%PATWEB96.05.121">
<!-- Admission Diagnosis (ICD) -->
 <input type=hidden name="ptmis075" id="ptmis075" value="%PATWEB96.05.491">
<!-- Intended Stay -->
 <input type="hidden" name=ptvis043 id=ptvis043 value="%PATWEB96.05.446.1">
<!-- Category A -->
 <input type="hidden" name=ptmis010 id=ptmis010 value="%PATWEB96.05.111.1">
 <input type="hidden" name=op_ptmis010 id=op_ptmis010 value="%PATWEB96.05.853">
<!-- Category CC - only used for organ procurement -->
 <input type="hidden" name=op_ptmis012 id=op_ptmis012 value="%PATWEB96.05.844">
 <input type="hidden" name=ptmis012 id=ptmis012 value="">
<!-- Category AC - only used for organ procurement -->
 <input type="hidden" name=op_ptmis024 id=op_ptmis024 value="%PATWEB96.05.847">

<!-- Category P -->
 <input type="hidden" name="ptmis011" id="ptmis011" value="%PATWEB96.05.842">
<!-- Category KN -->
 <input type=hidden name=ptvis076 id=ptvis076 value="%PATWEB96.05.492.1">
<!-- Category SG -->
 <input type="hidden" name=ptvis101 id=ptvis101 value="%PATWEB96.05.498.023.1">
<!-- Category KO -->
 <input type="hidden" name=ptvis078 id=ptvis078 value="%PATWEB96.05.494.1">
<!-- Category LS -->
 <input type="hidden" name=ptvis074 id=ptvis074 value="%PATWEB96.05.489.1">
<!-- Category SH -->
 <input type="hidden" name=ptvis102 id=ptvis102 value="%PATWEB96.05.498.024.1">
<!-- Category KG -->
 <input type="hidden" name=ptvis077 id=ptvis077 value="%PATWEB96.05.493.1">
<!-- Planned Length of Stay -->
 <input type=hidden name=ptmis030 id=ptmis030 value="%PATWEB96.05.129">
<!-- Program -->
 <input type="hidden" name=ptvis099 id=ptvis099 value="%PATWEB96.05.498.021.1">
<!-- Program Code -->
 <input type="hidden" name=prgmcode id=prgmcode value="%PATWEB96.05.498.021.1">
<!-- Health Fund -->
 <input type="hidden" name="ptmis013" id="ptmis013" value="%PATWEB96.05.114.0">
 <input type="hidden" name="ptmis014" id="ptmis014" value="%PATWEB96.05.115.0">
 <input type="hidden" name="ptmis015" id="ptmis015" value="%PATWEB96.05.116">
<!-- Days of hospitalisation -->
 <input type="hidden" name=ptmis031 id=ptmis031 value="%PATWEB96.05.130">
<!-- ICD Diagnosis -->
 <input type="hidden" name=ptvis075 id=ptvis075 value="%PATWEB96.05.491">
 <input type="hidden" name=op_ptvis075 id=op_ptvis075 value="%PATWEB96.05.849">
<!-- Usual Accom -->
<input type=hidden name="ptvis095" id="ptvis095" value="%PATWEB96.05.498.017.1">
<!-- Mental Health fields -->
<input type="hidden" name="mehvs049" id="mehvs049" value="%PATWEB96.05.951">
<input type="hidden" name="mehvs012" id="mehvs012" value="%PATWEB96.05.913">
<input type="hidden" name="mehvs051" id="mehvs051" value="%PATWEB96.05.953">
<input type="hidden" name="mehvs014" id="mehvs014" value="%PATWEB96.05.915">
<input type="hidden" name="mehvs041" id="mehvs041" value="%PATWEB96.05.943">
<input type="hidden" name="mehvs050" id="mehvs050" value="%PATWEB96.05.952.1">
<input type="hidden" name="mehvs052" id="mehvs052" value="%PATWEB96.05.954">
<input type="hidden" name="mehvs053" id="mehvs053" value="%PATWEB96.05.955">
<input type="hidden" name="mehvs028" id="mehvs028" value="%PATWEB96.05.929.1">
<input type="hidden" name="mehvs042" id="mehvs042" value="%PATWEB96.05.944">
<input type="hidden" name="mehvs043" id="mehvs043" value="%PATWEB96.05.945">
<input type="hidden" name="mehvs021" id="mehvs021" value="%PATWEB96.05.922.1">
<input type="hidden" name="mehvs044" id="mehvs044" value="%PATWEB96.05.946.1">
<input type="hidden" name="mehvs022" id="mehvs022" value="%PATWEB96.05.923.1">
<input type="hidden" name="mehvs023" id="mehvs023" value="%PATWEB96.05.924.1">
<input type="hidden" name="mehvs045" id="mehvs045" value="%PATWEB96.05.947">
<input type="hidden" name="mehvs054" id="mehvs054" value="%PATWEB96.05.956.1">
<input type="hidden" name="mehvs024" id="mehvs024" value="%PATWEB96.05.925.1">
<input type="hidden" name="mehvs048" id="mehvs048" value="%PATWEB96.05.950.1">
<input type="hidden" name="mehvs025" id="mehvs025" value="%PATWEB96.05.926.1">
<input type="hidden" name="mehvs030" id="mehvs030" value="%PATWEB96.05.931.1">
<input type="hidden" name="mehvs033" id="mehvs033" value="%PATWEB96.05.934">
<input type="hidden" name="mehvs005" id="mehvs005" value="%PATWEB96.05.906">
<input type="hidden" name="mehvs046" id="mehvs046" value="%PATWEB96.05.948.1">
<input type="hidden" name="mehvs006" id="mehvs006" value="%PATWEB96.05.907">
<input type="hidden" name="mehvs027" id="mehvs027" value="%PATWEB96.05.928.1">
<input type="hidden" name="mehvs007" id="mehvs007" value="%PATWEB96.05.908">
<input type="hidden" name="mehvs008" id="mehvs008" value="%PATWEB96.05.909">
<input type="hidden" name="mehvs009" id="mehvs009" value="%PATWEB96.05.910">
<input type="hidden" name="mehvs011" id="mehvs011" value="%PATWEB96.05.912.0">

</table>

<div id="Housekeeping"></div>
<span id=MentalHealth></span>

<table  border=0 width=100% cellspacing=0 cellpadding=4>
<tr><td class=DataLabel width=18%>Medically Cleared for Discharge Date</td>
    <td><input type=text size=15 maxlength=11 name=ptdsc003 id=ptdsc003
         title="Medically Cleared for Discharge Date" class="Date"
         value="%PATWEB96.05.254.009"
         onblur="checkDate(this,'Date');ShowMedClearDetail();">
         <img notab src="../images/DateTimeStamp.gif" class=Icon
          alt="Current"
          onclick="SetCurrentDateTime(pat96pdf.ptdsc003,null);">
         <img notab src="../images/DateLookup.gif" class=Icon
          alt="Calendar" date="pat96pdf.ptdsc003">
    Time
        <input type=text size=8 name=ptdsc004 id=ptdsc004
        title="Medically Cleared for Discharge Time"
        value="%PATWEB96.05.254.010">
        <img src="../images/DateTimeStamp.gif" class=Icon
        onclick="SetCurrentDateTime(null,pat96pdf.ptdsc004);">
        <img src="../images/TimeLookup.gif" class=Icon
        onclick="TimeLookupFrame(pat96pdf.ptdsc004);">
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(pat96pdf.ptdsc003,pat96pdf.ptdsc004);
                  ShowMedClearDetail();">
    </td> 
</tr>
<tr id=PriReasonDiscDelay>
    <td class=DataLabel>Primary Reason for Discharge Delay</td>
    <td>
      <select name=ptdsc005 id=ptdsc005 class="SelectBig" 
       title="Primary Reason for Discharge Delay">
      <option></option>
       %PATWEB96.05.254.001.2
      </select>
    </td>
</tr>
<tr id=SecReasonDiscDelay>
    <td class=DataLabel>Secondary Reason for Discharge Delay</td>
    <td>
      <select name=ptdsc006 id=ptdsc006 class="SelectBig"
       title="Secondary Reason for Discharge Delay">
      <option></option>
       %PATWEB96.05.254.002.2
      </select>
    </td>
</tr>
</table>

<table  border=0 width=100% cellspacing=0 cellpadding=4>
<tr valign=bottom>
    <td colspan=4 width=100% align=center valign=bottom>
     <input type=button value="Discharge" class="button" id='disbutton'
      onclick="tempDisable(this,10);discharge();">
     <input type=button value=Cancel class="button"
      onclick="PatientLinkTo('patweb98.pbl',1,1,0);">
</td></tr>
</table>

</form>
</div>

<form name=PatientLinks id=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB96.05.003">
<input type=hidden name=admissno value="%PATWEB96.05.081">
<input type=hidden name=MenuType value="%PATWEB96.05.088">
<input type=hidden name=alert001 value="">
</form>

<script type="text/javascript">
IndigStat="%PATWEB96.05.565.3";
if (isWhitespace(IndigStat.substr(14,4))){
  alert("Error Message\n"+
        "Indigenous status must be confirmed and updated from Unknown "+
        "before discharging. ");
  PatientLinkTo('patweb89.pbl',1,2,0);
}

for (var i =0 ; i < document.pat96pdf.trantime.length; i++) {
  if (document.pat96pdf.trantime.options[i].value=="%PATWEB96.05.103") {
    document.pat96pdf.trantime.selectedIndex=i;
  } 
}

if (document.pat96pdf.ismrtmas.value!="1"){
  document.pat96pdf.d_movemrec.disabled=true;
}

function checkClaimType(){
  p=document.pat96pdf
  hdp=document.pat96pdf.d_ptmis027.options[i].value.substr(14,2)
  if (hdp=="33"){
    alert("An Ambulatory patient cannot be Statistically Discharged. ");
    p.d_ptmis027.selectedIndex=0;
    return;
  }
}

// Convert a blank visit-level consent to the implied consent from patient level
PatientConsentMyHR = trim("%PATWEB96.05.599.046");
VisitConsentMyHR   = trim("%PATWEB96.05.498.037");
if (VisitConsentMyHR=="") {
  document.getElementById("dusd1").value = PatientConsentMyHR; 
}

</script>

<span id=transfersrc style="display:none">
   <input type="text" size=7 maxlength=5 name=trnsfsrc id=trnsfsrc
    class=Mandatory
    title="Transfer Destination"
    onblur="ValidateTransferSource(document.pat96pdf);">
   <input type=text size=27 name=trandesc id=trandesc notab
    class=Readonly readonly>
   <img src="../images/SearchIcon.gif" class=Icon
    onclick="TransferSourceSearchClicked(document.pat96pdf);">
</span>

<span id=transferblank style="display:none">
   <input type=hidden name=trnsfsrc id=trnsfsrc>
</span>

<span id=autopsyDiv style="display:none">
<table>
<tr>
<td> Autopsy <input type=checkbox name=dschautp id=dschautp value=1 checked></td>
</tr></table>
</span>

<span id=Deathnotif2 style="display:none">
   <td><select name=dschdety id=dschdety class=Mandatory>
       <option> </option>
        %PATWEB96.05.517.2
       </select></td>
</span>

<span id=MHfields style="display:none">
<table  border=0 width=100% cellspacing=0 cellpadding=4>

<tr><td class=HeadingCell align=center colspan=4>
      Mental Health Patient Discharge Form</td>

   <tr><td width=18%>Referral to Further Care</td>
       <td><select name=mehds009 id=mehds009 class=Mandatory 
            title="Referral to Further Care">
           <option> </option>
            %STANDARD.01.007.RE
           </select></td>        
   </tr>
   <tr><td>MH Discharge Status</td>
       <td><select name=mehds020 id=mehds020 class=Mandatory title="MH Discharge Status">
           <option> </option>
            %STANDARD.01.007.W5
           </select></td>        
   </tr>
   <tr><td>Discharge Diagnosis</td>
       <td><input type=text name=mehdi003 id=mehdi003 size=9 maxlength=9
            onblur="validateCode(43,pat96pdf.mehdi003,pat96pdf.mehdi004);">
           <input type=text name=mehdi004 id=mehdi004 title="Diagnosis 1"
            size="30"
            maxlength="30">
           <img src=../images/SearchIcon.gif class=Icon
            onclick='Icd10DisSearchFrame(pat96pdf.mehdi003,pat96pdf.mehdi004)'>
        </td>
   </tr>
   <tr><td>&nbsp;</td>
        <td><input type=text name=mehdi007 id=mehdi007 size=9 maxlength=9
             onblur="validateCode(43,pat96pdf.mehdi007,pat96pdf.mehdi008);">
            <input type=text name=mehdi008 id=mehdi008 title="Diagnosis 2"
             size="30" maxlength="30">
        <img src=../images/SearchIcon.gif class=Icon
         onclick='Icd10DisSearchFrame(pat96pdf.mehdi007,pat96pdf.mehdi008)'>
        </td>
   </tr>
   <tr><td>&nbsp;</td>
        <td><input type=text name=mehdi035 id=mehdi035 size=9 maxlength=9
             onblur="validateCode(43,pat96pdf.mehdi035,pat96pdf.mehdi036);">
            <input type=text name=mehdi036 id=mehdi036 title="Diagnosis 2"
             size="30" maxlength="30">
            <img src=../images/SearchIcon.gif class=Icon
             onclick='Icd10DisSearchFrame(pat96pdf.mehdi035,
                                          pat96pdf.mehdi036)'>
        </td>
   </tr>
</table>
</span>
<span id=fundinghd style="display:none">
Funding Source
</span>

<span id=fundingid style="display:none">
  <select name=d_ptvis131 id=d_ptvis131 title="%STANDARD.01.017.cx"
          tabindex=-1 class=Mandatory>
          <option> </option>
             %PATWEB96.05.498.053.5
         </select>
</span>
<span id=offdutyhd style="display:none">
 Off Duty
</span>

<span id=offdutyid style="display:none">
 <input type="checkbox" name="offdutyb" id="offdutyb" value="0">
</span>

<span id=blanklabel style="display:none">&nbsp;</span>

<span id="Displayhousekeeping" style="display:none">
<table  border=0 width=100% cellspacing=0 cellpadding=4>
<tr><td class=DataLabel width=18%>Notify Housekeeping</td>
    <td>
      <select name=notifyhs id=notifyhs title="Notify Housekeeping"
        class=Mandatory onchange="HouseMandatory();">
        <option> </option>
        <option value="0">No</option>
        <option value="1">Yes</option>
      </select>
    </td>
</tr>
<tr><td class=DataLabel width=18%>Housekeeping Status</td>
    <td>
      <input type=hidden name=pmhrd001 id=pmhrd001
       value="%PATWEB96.05.498.013.1">
      <input type=hidden name=pmhrd002 id=pmhrd002 value="%PATWEB96.05.105.1">
      <input type=hidden name=pmhrd003 id=pmhrd003 value="%PATWEB96.05.106">
      <input type=hidden name=pmhrd004 id=pmhrd004 value="">
      <input type=hidden name=pmhrd005 id=pmhrd005 value="">
      <select name=pmhrd006 id=pmhrd006 title="Housekeeping Status" 
        class=Readonly disabled>
        <option> </option>
        %STANDARD.01.007.BV
      </select>
    </td>
</tr>
</table>
</span>

