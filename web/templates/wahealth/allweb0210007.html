<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script language=javascript src="../js/allweb0210.js"></script>
<script type="text/javascript">

function UpdateRef(){

  f=document.UpdateForm;

  if(f.superlev.value == "1"){
     if(f.alsas009.selectedIndex != "0" ){
        alert('Reason for Delete may not be entered for Update');
        f.alsas009.className="";
        return false;
     }
  }
  if(!IsTimestampBetweenRange(f.admndate,f.admntime,
                              f.discdate,f.disctime,
                              f.alsas002,f.alsas003)){
     return false;
  }
  if(!CompareDateToNow(f.alsas002,f.alsas003)){
     return false;
  }
  if(validateMandatory(f)){
     f.updatety.value="I";
     f.submit();
  }
}
function DeleteRef(){
  if(confirm("Are you sure you want to Delete?")){
     document.UpdateForm.updatety.value="J";
     document.UpdateForm.submit();
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">
 document.write('Update Palliative Care Problem Severity Scores');
</script>
</span>
<form name=UpdateForm method=get action=allweb02.pbl style="margin:0">
  <input type=hidden name=reportno value="10">
  <input type=hidden name=template value="007">
  <input type=hidden name=updatety value="">
  <input type=hidden name=urnumber value="%ALLWEB02.10.003">
  <input type=hidden name=admissno value="%ALLWEB02.10.081">
  <input type=hidden name=alsas001 value="%ALLWEB02.10.501">
  <input type=hidden name=over24hr value="%ALLWEB02.10.816">
  <input type=hidden name=superlev value="%ALLWEB02.10.811">
  <input type=hidden name=admndate id=admndate value="%ALLWEB02.10.602">
  <input type=hidden name=admntime id=admntime value="%ALLWEB02.10.603">
  <input type=hidden name=discdate id=discdate value="%ALLWEB02.10.701">
  <input type=hidden name=disctime id=disctime value="%ALLWEB02.10.702">

  <table align=center width=100% border=1 cellspacing=0 cellpadding=01>
    <tr>
      <td class=DataLabel>Assessment Date</td>
      <td>
        <input type=text name=alsas002 value="%ALLWEB02.10.502"
         readonly title="Assessment Date" class="Date Readonly">
         Time&nbsp;
        <input type=text size=6 title="Time" readonly
         class="Readonly" name=alsas003 value="%ALLWEB02.10.503">
      </td>
    </tr>

    <tr>
      <td class=DataLabel>Pain Sub-Scale</td>
      <td>
        <select class=Mandatory name=alsas004 title="Pain Sub-Scale">
          <option></option>
          <option value=" 0">0</option>
          <option value=" 1">1</option>
          <option value=" 2">2</option>
          <option value=" 3">3</option>
        </select>
      </td>
    </tr>
 
    <tr>
      <td class=DataLabel>Other Symptoms Sub-Scale</td>
      <td>
        <select class=Mandatory name=alsas005 title="Other Symptoms Sub-Scale">
          <option></option>
          <option value=" 0">0</option>
          <option value=" 1">1</option>
          <option value=" 2">2</option>
          <option value=" 3">3</option>
        </select>
      </td>
    </tr>

    <tr>
      <td class=DataLabel>Psychosocial Sub-Scale</td>
      <td>
        <select class=Mandatory name=alsas006 title="Psychosocial Sub-Scale">
          <option></option>
          <option value=" 0">0</option>
          <option value=" 1">1</option>
          <option value=" 2">2</option>
          <option value=" 3">3</option>
        </select>
      </td>
    </tr>

    <tr>
      <td class=DataLabel>Family/Carer Sub-Scale</td>
      <td>
        <select class=Mandatory name=alsas007 title="Family/Carer Sub-Scale">
          <option></option>
          <option value=" 0">0</option>
          <option value=" 1">1</option>
          <option value=" 2">2</option>
          <option value=" 3">3</option>
        </select>
      </td>
    </tr>

    <tr>
      <td class=DataField colspan=2 align=center>Score Key
        <br>
        0 = Absent, 1 = Mild, 2 = Moderate, 3 = Severe
      </td>
    </tr>

    <tr>
      <td class="HeadingCell" align=center colspan=2>
        <div id="reasonHeading"></div>
      </td>
    </tr>

    <tr>
      <td class=DataLabel><div id="reasonHead"></div></td>
      <td colspan=2><div id="reasonCode"></div></td>
    </tr>

    <tr>
      <td colspan=2 align=center><br>
        <input type=button value="Update" class="button" id=btnUpdate
          onclick="tempDisable(this);UpdateRef();">
        <span id="deleteButton" style="display: none">
          <input type=button value="Delete" class="button" id=btnDelete
           onclick='tempDisable(this);
                    UpdateForm.alsas009.className="Mandatory";
                    DeleteRef();'>
        </span>
        <input type=button value=Cancel class="button" 
         onclick="DFrameCloseRefresh();">
      </td>
    </tr>
 </table>
</form>

<span id="reasonhdg" style="display:none">&nbsp;</span>
<span id="reasonhd" style="display:none">Reason For Delete</span>
<span id="reasoncd" style="display:none">
 <select name="alsas009" title="Reason for Delete">
  <option></option>
   %ALLWEB02.10.509.2
 </select>
</span>

<script language=javascript>
for(i=0; i<UpdateForm.alsas004.length; i++){
    if(UpdateForm.alsas004.options[i].value=="%ALLWEB02.10.504"){
       UpdateForm.alsas004.selectedIndex=i; 
    }
}
for(i=0; i<UpdateForm.alsas005.length; i++){
    if(UpdateForm.alsas005.options[i].value=="%ALLWEB02.10.505"){
       UpdateForm.alsas005.selectedIndex=i; 
    }
}
for(i=0; i<UpdateForm.alsas006.length; i++){
    if(UpdateForm.alsas006.options[i].value=="%ALLWEB02.10.506"){
       UpdateForm.alsas006.selectedIndex=i; 
    }
}
for(i=0; i<UpdateForm.alsas007.length; i++){
    if(UpdateForm.alsas007.options[i].value=="%ALLWEB02.10.507"){
       UpdateForm.alsas007.selectedIndex=i; 
    }
}
if(UpdateForm.superlev.value == "1") {
   reasonHeading.innerHTML=reasonhdg.innerHTML;
   reasonHead.innerHTML=reasonhd.innerHTML;
   reasonCode.innerHTML=reasoncd.innerHTML;
   deleteButton.style.display="";
}
</script>
