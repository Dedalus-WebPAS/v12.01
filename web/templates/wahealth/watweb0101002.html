<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/TableSort.js></script>
<script type="text/javascript" src=../js/watweb0101002.js></script>
<script type="text/javascript">
//----------------------------------------------------------------------------
// Create New Table Object
// Border, Cellspacing, Cellpadding, Width, Align, Heading Height, Row Height
//----------------------------------------------------------------------------
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column, Align, Icon, Link Column
// Columns Available
//  0 - HTML Link                   8 - Procedure Code
//  1 - Patient Name                9 - Procedure Description
//  2 - UR                         10 - Reason/Diagnosis
//  3 - Sex                        11 - Rank
//  4 - Age                        12 - Est Length of Stay
//  5 - Date on List               13 - Doctor Code 
//  6 - Date on Last review        14 - Doctor Name
//  7 - Proposed Admission Date   15 - Urgency Description
//                                 16 - Urgency OverDue
//                                 17 - Urgency OverDue Flag 1=Overdue
//                                 18 - Urgency Status
//                                 24 - Preadmission Status
//                                 32 - RFC Days
//---------------------------------------------------------------------------
function InitTable(TableView) {
document.SelectView.deftview.value=TableView
switch (TableView) {
case 0: {
 t = new Table(1,0,2,"100%","center",40);
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",140,26)
 t.addColumn("Unit","String",30,30,"left","","",40,26)
 t.addColumn("Date on List","Date",5,5,"left","","",60)
 t.addColumn("Procedure","String",9,9,"left","","",90)
 t.addColumn("Priority","String",15,15,"left","","",40)
 t.addColumn("RFC Days","String",32,32,"left","","",40)
 t.addColumn("Listing Status","String",18,18,"left","","",60)
 t.addColumn("Resp. Clinician","String",14,14,"left","","",80)
 t.addColumn("Scheduled Adm Date","Date",31,31,"left","","",60)
 t.addColumn("Preadmission Status","String",24,24,"left","","",60)
 AddTableRows()
 t.sortTable(1,1);    // By Date     
 t.sortTable(3,0);    // By Priority
 TableOutput(5,1);    // By Doctor  
 break; }
case 1: {
 t = new Table(1,0,2,"100%","center",40);
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",140,26)
 t.addColumn("Unit","String",30,30,"left","","",40,26)
 t.addColumn("Date on List","Date",5,5,"left","","",70)
 t.addColumn("Procedure","String",9,9,"left","","",120)
 t.addColumn("Priority","String",15,15,"left","","",45)
 t.addColumn("Days on List","String",20,20,"left","","",40)
 t.addColumn("Listing Status","String",18,18,"left","","",60)
 t.addColumn("Overdue Date","Date",16,16,"left","","",70)
 t.addColumn("Scheduled Adm Date","Date",31,31,"left","","",60)
 t.addColumn("Preadmission Status","String",24,24,"left","","",80)
 AddTableRows()
 t.sortTable(4,1);    // By Status
 t.sortTable(1,1);    // By Date
 TableOutput(3,1);    // By Priority
 break; }
case 2: {
 t = new Table(1,0,2,"100%","center",40);
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",140,26)
 t.addColumn("Date on List","Date",5,5,"left","","",50)
 t.addColumn("Procedure","String",9,9,"left","","",110)
 t.addColumn("Priority","String",15,15,"left","","",40)
 t.addColumn("Listing Status","String",18,18,"left","","",40)
 t.addColumn("Doctor","String",14,14,"left","","",80)
 t.addColumn("Proc Can Be Performed By","String",33,33,"left","","",65)
 t.addColumn("Proposed Adm Date","Date",23,23,"left","","",60)
 t.addColumn("Preadmission Status","String",24,24,"left","","",60)
 AddTableRows()
 t.sortTable(3,1);    // By Priority
 TableOutput(1,1);    // By Date
 break; }
 }
}
function waitingDoc() {
  validateCode('34',document.SelectView.filtdoct,
                    document.SelectView.name_filtdoct,
                    document.SelectView.status,
                    SetDocName);
  if(document.SelectView.status.value=="1") {
    alert("Warning inactive doctor " + document.SelectView.filtdoct.value);
  }
}
function SetDocName() {
   document.SelectView.submit()
}
function SelectSubmit() {
  document.SelectView.submit();
}
function CheckSubmit() {
  p=document.SelectView;
  if(p.statcode.value=="99" ) {
    linkurl = "../cgi-bin/patweb15.pbl?reportno=2&template=002" +
              "&showflag=1&filtreqt=1&returnfl=2&filtstat=2" +
              "&filtunit=" + p.unitcode.value.replace(/ /g,"+") +
              "&catecode=" + p.catecode.value.replace(/ /g,"+") +
              "&filtresc=" + p.filtdoct.value.replace(/ /g,"+") +
              "&filthosp=" + p.intdhosp.value.replace(/ /g,"+") +
              "&deftview=" + p.deftview.value.replace(/ /g,"+") 
    location.href=linkurl;
  } else {
    SelectSubmit();
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(%WATWEB01.01.023);
             self.focus();document.SelectView.unitcode.focus()";>
  <div id=HeadingSection>
    <form name=SelectView action=watweb01.pbl method=get style="margin:0px;">
      <input type=hidden name=reportno value=1>
      <input type=hidden name=template value=2>
      <input type=hidden name=nextukey value="">
      <input type=hidden name=status value="">
      <input type=hidden name=deftview value="">
      <table cellspacing=0 border=0 width=100% bgcolor=#cccccc>
        <tr>
          <td>
            <a href=javascript:InitTable(0)>
              <img src=../images/TableViewIcon.gif align=absmiddle 
                  alt="Default View" title="Default View" border=0>
            </a>
            <a href=javascript:InitTable(1)>
              <img src=../images/TableViewIcon.gif align=absmiddle 
                  alt="Review Dates" title="Review Dates" border=0></a>
            <a href=javascript:InitTable(2)>
              <img src=../images/TableViewIcon.gif align=absmiddle 
                  alt="Review Dates" title="Review Dates" border=0>
           </a>
           Status
            <select name=statcode class=SelectMed onchange="CheckSubmit();">
              <option></option>
              %WATWEB01.01.007
            <option value="99">Submitted - Elective Wait List Requests</option>
            </select>
            Unit
            <select name=unitcode onchange=SelectView.submit()>
              <option value="   ">All           </option>
              %WATWEB01.01.006
            </select>
            Overdue Only
            <select name=ovrdcode onchange=SelectView.submit()>
             %WATWEB01.01.012
            </select>
            %STANDARD.01.017.TP
            <select name=catecode onchange=SelectView.submit()>
              <option value="      ">All           </option>
              %WATWEB01.01.010
            </select>
            AIHW Reportable
            <select name=aihwrept onchange=SelectView.submit()>
              %WATWEB01.01.025
            </select>
          </td>
        </tr>
        <tr>
          <td>
            Listing Status
            <select name=listcode onchange=SelectView.submit()>
              <option value="      ">All           </option>
              %WATWEB01.01.011
            </select>
            PreAdmission Status
            <select name=filtpast onchange=SelectView.submit()>
              <option value="      ">All           </option>
              %WATWEB01.01.020
            </select>
            &nbsp; Resp. Clinician
            <input type=text name=filtdoct id=filtdoct size=8 maxlength=6
                value="%WATWEB01.01.021.1" onBlur='UpCase(this);waitingDoc();'>
            <input type=text name=name_filtdoct id=name_filtdoct size=25 maxlength=25
                value="%WATWEB01.01.021.0" class=Readonly readonly>
            <img src=../images/SearchIcon.gif class=Icon
                onclick= "DoctorSearchFrameAll(filtdoct,name_filtdoct,SelectSubmit);">
            <img src="../images/ClearIcon.gif" class=Icon
                 onclick="clrFields(filtdoct,name_filtdoct,SelectSubmit);">
            Intended Hospital
            <select name=intdhosp onchange=SelectView.submit()>
              %WATWEB01.01.026
            </select>
          </td>
        </tr>
        <tr>
          <td align=right>
            <span id=NextPage><span>
          </td>
        </tr>
      </table>
    </form>
  </div>
  <div id=TableLocation>
  </div>
<script type="text/javascript">
function AddTableRows() {
  %WATWEB01.01.004.watweb01.02.001  
}
EBSClinicalView="%WATWEB01.01.028"; // Set on page load from menu
if(EBSClinicalView=="0") {
  SetCookie("EBSClinicalView","0");
} else if(EBSClinicalView=="1") {
  SetCookie("EBSClinicalView","1");
}
</script>
