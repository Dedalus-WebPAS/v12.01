<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/patweb8746.js"> </script>
<script type="text/javascript">
function Update() {
  var p = document.UpdateForm;
  if (validateMandatory(p)) {
    if (CheckDateRange(p.pmsed005,p.pmsed006)) {
      var recType = p.pmsed001.value;
      var recVal = p.pmsed002.value;
      var recDRG = p.pmsed003.value;
      var frDate = SetDateYYYYMMDD(p.pmsed005.value);
      var toDate = SetDateYYYYMMDD(p.pmsed006.value);

      if (ValidateEffectiveDatesUpdate(recType,recVal,recDRG,frDate,toDate)) 
      {
        p.submit();
      }
    }
  }
}
function Delete() {
  var msg = "Warning!\n\nRemoval of this DRG may require visit records to be " +
            "regrouped accordingly for the range that is modified. " +
            "OK to continue?";

  var ans = confirm(msg);
  if (ans) {
    document.UpdateForm.updttype.value = "D";
    document.UpdateForm.submit();
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
%PATWEB87.46.015.2
</span>
<div id=PageBodySection>
<form name=UpdateForm method=post action=patweb87.pbl>
<input type=hidden name=reportno value="46">
<input type=hidden name=template value="003">
<input type=hidden name=updttype value="U">
<input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
<input type=hidden name=drgrctyp value="%PATWEB87.46.011">
<input type=hidden name=pmsed001 value="%PATWEB87.46.011">
<input type=hidden name=pmsed002 value="%PATWEB87.46.012">
<input type=hidden name=pmsed003 value="%PATWEB87.46.103">
<input type=hidden name=pmsed010 value="%STANDARD.01.008">
<input type=hidden name=pmsed011 value="%STANDARD.01.015">

<table width=90% border=0 cellspacing=0 cellpadding=2 align=center>
<tr id=trHealthFund>
  <td class=DataLabel>Health Fund</td>
  <td>
    <input type="text" name=drghfcod size="6"  maxlength="6"
     value="%PATWEB87.46.016" readonly class=Readonly>
  </td>
</tr>
<tr id=trClaimCode>
  <td class=DataLabel>Claim Code</td>
  <td>
    <input type="text" name=drgclcod size="6"  maxlength="6"
     value="%PATWEB87.46.017" readonly class=Readonly>
  </td>
</tr>
<tr id=trHospital>
  <td class=DataLabel>Hospital</td>
  <td><input type="text" class=Readonly readonly size=50 
       value="%PATWEB87.46.021">
  </td>
</tr>
<tr id=trState>
  <td class=DataLabel>State</td>
  <td><input type="text" class=Readonly readonly size=10
       value="%PATWEB87.46.022">
  </td>
</tr>
<tr>
  <td class=DataLabel>DRG</td>
  <td><input type="text" name=d_pmsed003 value="" size=2
       class=Readonly readonly></td>
</tr>
<tr>
  <td class=DataLabel width=30%>Effective From Date</td>
  <td><input type="text" name=pmsed005 id=pmsed005 class=Mandatory
       title="Effective From Date" size="12" value="%PATWEB87.46.105"
       maxlength="11" onblur="checkDate(this);">
      <img src="../images/DateLookup.gif" class=Icon
       onclick="DateLookupFrame(pmsed005);">
</tr>
<tr>
  <td class=DataLabel>Effective To Date</td>
  <td><input type="text" name=pmsed006 id=pmsed006
       title="Effective To Date" size="12" value="%PATWEB87.46.106"
       maxlength="11" onblur="checkDate(this);">
      <img src="../images/DateLookup.gif" class=Icon
       onclick="DateLookupFrame(pmsed006);">
</tr>
<tr><td class=DataLabel>3M Pay Code</td>
    <td><input type="text" name=pmsed004 value="%PATWEB87.46.104"
         title="3M Pay Code" size="2" maxlength="3">
</tr>
<tr><td>&nbsp;</td></tr>
<tr>
  <td colspan=5 align=center>
    <input type=button value="Update" class="button" onclick="Update();">
    <input type=button Value="Cancel" class="button" onclick="DFrameExit();">
    <input type=button Value="Delete" class="button" onclick="Delete();">
  </td>
</tr>
</table>
</form>
</div>

<script type="text/javascript">
if (document.UpdateForm.ibcnmhos.value == "0") {
  document.getElementById('trHospital').style.display = "none";
  document.getElementById('trState').style.display = "none";
}

var recType = document.UpdateForm.drgrctyp.value;
if (recType == "1" || recType == "4") {
  document.getElementById('trClaimCode').style.display = "none";
  document.getElementById('trState').style.display = "none";
}
if (recType == "2" || recType == "5") {
  document.getElementById('trHealthFund').style.display = "none";
  document.getElementById('trHospital').style.display = "none";
  document.getElementById('trState').style.display = "none";
}
if (recType == "3" || recType == "6") {
  document.getElementById('trHealthFund').style.display = "none";
  document.getElementById('trClaimCode').style.display = "none";
  document.getElementById('trHospital').style.display = "none";
}

var DRGVer = "%PATWEB87.46.103";
document.UpdateForm.d_pmsed003.value = GetDRGVersion(DRGVer);
</script>
