<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"> </script>
<script type="text/javascript" src="../js/TableSort1.js"></script>
<script type="text/javascript">
function LinkUnlink() {
  for (var i = 0; i < document.LinkUnlinkTables.elements.length; i++) {
    if (document.LinkUnlinkTables.elements[i].type=="checkbox") {
      if (document.LinkUnlinkTables.elements[i].checked==true) {
        var serverURL   = "../cgi-bin/comweb80.pbl?reportno=41" +
            "&valdcode=" + LinkUnlinkTables.elements[i].value.replace(/ /g,"+")
        var returnValue = RSExecute(serverURL);
        if (returnValue.status==0) {
        }
      }
    }
  }
  PatientLinkTo("disweb01.pbl",3,1,0,0,0);
}

function InitTable1() {
 window.documentTitle2="Linked Health Care Events"
 t1 = new Table1(1,0,2,"100%","center",30,30);
 t1.addColumn("Event&nbsp;Date","DateTime",2,2,"left","InformationIcon.gif","0",160)
 t1.addColumn("Visit&nbsp;Type","String",16,16,"left","","",30)
 t1.addColumn("Diagnosis","String",21,21,"left","","",130)
 t1.addColumn("Doctor/Clinic","String",6,6,"left","","",100)
 t1.addColumn("Visit&nbsp;No.","String",1,1,"left","","",50)
 t1.addColumn("Hospital","String",18,18,"left","","",100)
 AddTableRows1()
 TableOutput1(0,2);    // Order Column,Asc Dsc
}

function InitTable() {
 document.title="Unlinked Health Care Events"
 t = new Table(1,0,2,"100%","center",30,30);
 t.addColumn("Event&nbsp;Date","DateTime",2,2,"left","InformationIcon.gif","0",160)
 t.addColumn("Visit&nbsp;Type","String",16,16,"left","","",30)
 t.addColumn("Diagnosis","String",21,21,"left","","",130)
 t.addColumn("Doctor/Clinic","String",6,6,"left","","",100)
 t.addColumn("Visit&nbsp;No.","String",1,1,"left","","",50)
 t.addColumn("Hospital","String",18,18,"left","","",100)
 t.addColumn("Link","String",34,34,"left","","",30)
 AddTableRows()
 TableOutput(0,2);    // Order Column,Asc Dsc
}

function SetListHeight1() {
  var TableLocation1 = document.getElementById('TableLocation1');
  var HeadingDivision1 = document.getElementById('HeadingDivision1');
  var BodyDivision1 = document.getElementById('BodyDivision1');

  var height = document.body.clientHeight;

  BodyDivision1.style.height = height/2 - TableLocation1.offsetTop - HeadingDivision1.offsetHeight + "px";

  var TableLocation = document.getElementById('TableLocation');
  var HeadingDivision = document.getElementById('HeadingDivision');
  var BodyDivision = document.getElementById('BodyDivision');

  BodyDivision.style.height = height - TableLocation.offsetTop - HeadingDivision.offsetHeight - 100 + "px";
}

function linkPatient(Urnumber,VisitNo,VisitType,SecOpt,Casekeys,Site,AAEFlag,EVNTFlag) {
 if (VisitType=="7") {
   document.PatientLinks.action="patweb89.pbl"
   document.PatientLinks.reportno.value="1"
   document.PatientLinks.template.value="20"
   document.PatientLinks.admissno.value=VisitNo
   document.PatientLinks.urnumber.value=Urnumber
   document.PatientLinks.submit()
 }
 if (VisitType=="3") {
   document.PatientLinks.action="patweb98.pbl"
   document.PatientLinks.reportno.value="1"
   document.PatientLinks.template.value="2"
   document.PatientLinks.admissno.value=VisitNo
   document.PatientLinks.urnumber.value=Urnumber
   document.PatientLinks.submit()
 }
 if (VisitType=="2") {
   if(document.PatientLinks.outpsite.value!=Site) {
     alert("Invalid Outpatient Site Security.")
     return;
   }
   document.PatientLinks.action="outweb02.pbl"
   document.PatientLinks.reportno.value="3"
   document.PatientLinks.template.value="1"
   document.PatientLinks.admissno.value=VisitNo
   document.PatientLinks.urnumber.value=Urnumber
   document.PatientLinks.submit()
 }
 if (VisitType=="4") {
   if(document.PatientLinks.outpsite.value!=Site) {
     alert("Invalid Outpatient Site Security.")
     return;
   }
   document.PatientLinks.action="outweb02.pbl"
   document.PatientLinks.reportno.value="3"
   document.PatientLinks.template.value="015"
   document.PatientLinks.admissno.value=VisitNo
   document.PatientLinks.urnumber.value=Urnumber
   document.PatientLinks.submit()
 }
 if (VisitType=="1") {
   if (AAEFlag=="1") {
     document.PatientLinks.action="patweb98.pbl"
     document.PatientLinks.reportno.value="1"
     document.PatientLinks.template.value="070"
     document.PatientLinks.admissno.value=VisitNo
     document.PatientLinks.urnumber.value=Urnumber
     document.PatientLinks.submit()
   } else {
     if (top.location.pathname.match(/EmergencyMap/g)) {
       document.PatientLinks.action="emrweb02.pbl"
       document.PatientLinks.reportno.value="1"
       document.PatientLinks.template.value="100"
       document.PatientLinks.admissno.value=VisitNo
       document.PatientLinks.urnumber.value=Urnumber
       document.PatientLinks.submit()
     } else {
       document.PatientLinks.action="emrweb02.pbl"
       document.PatientLinks.reportno.value="1"
       document.PatientLinks.template.value="021"
       document.PatientLinks.admissno.value=VisitNo
       document.PatientLinks.urnumber.value=Urnumber
       document.PatientLinks.submit()
     }
   }
 }
 if (VisitType=="8") {
   document.PatientLinks.action="watweb01.pbl"
   document.PatientLinks.reportno.value="2"
   document.PatientLinks.template.value="010"
   document.PatientLinks.admissno.value=VisitNo
   document.PatientLinks.urnumber.value=Urnumber
   document.PatientLinks.casekeys.value=Casekeys
   document.PatientLinks.submit()
 }

 if (VisitType=="9") {

    if(EVNTFlag=="1")
       {
          document.PatientLinks.action="patweb81.pbl"
          document.PatientLinks.reportno.value="1"
          document.PatientLinks.template.value="7"
          document.PatientLinks.admissno.value=VisitNo
          document.PatientLinks.urnumber.value=Urnumber
          document.PatientLinks.target="content"
          document.PatientLinks.submit()
   return;
        }
   
    if(EVNTFlag=="2")
       {
          document.PatientLinks.action="patweb81.pbl"
          document.PatientLinks.reportno.value="1"
          document.PatientLinks.template.value="5"
          document.PatientLinks.admissno.value=VisitNo
          document.PatientLinks.urnumber.value=Urnumber
          document.PatientLinks.target="content"
          document.PatientLinks.submit()
   return;
        }

    if(EVNTFlag=="3")
       {
          document.PatientLinks.action="patweb81.pbl"
          document.PatientLinks.reportno.value="1"
          document.PatientLinks.template.value="3"
          document.PatientLinks.admissno.value=VisitNo
          document.PatientLinks.urnumber.value=Urnumber
          document.PatientLinks.target="content"
          document.PatientLinks.submit()
   return;
        }

    if(SecOpt=="2")
       {
          document.PatientLinks.action="patweb81.pbl"
          document.PatientLinks.reportno.value="1"
          document.PatientLinks.template.value="1"
          document.PatientLinks.admissno.value=VisitNo
          document.PatientLinks.urnumber.value=Urnumber
          document.PatientLinks.submit()
        }
   if(SecOpt=="0")
     {
        document.PatientLinks.action="allweb02.pbl"
        document.PatientLinks.reportno.value="2"
        document.PatientLinks.template.value="1"
        document.PatientLinks.admissno.value=VisitNo
        document.PatientLinks.urnumber.value=Urnumber
        document.PatientLinks.submit()
      }
   if(SecOpt!=="0"&SecOpt!=="2")
      {
       alert("Screen is not viewable by all departments")
      }
 }
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable();InitTable1();">
<div id=HeadingSection></div>
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%DISWEB01.03.003";
PatientVIS="%DISWEB01.03.081";
PatientNAM="%DISWEB01.03.002";
PatientSTA="%DISWEB01.03.086.078";
PatientALT="%DISWEB01.03.084";
PatientSEX="%DISWEB01.03.019";
PatientDOB="%DISWEB01.03.020";
PatientAGE="%DISWEB01.03.021";
PatientLOC="%DISWEB01.03.083";
PatientPRI="%DISWEB01.03.086.066.1";
PatientUNT="%DISWEB01.03.066.0";
DoctorCOD="%DISWEB01.03.082.003";
DoctorNAM="%DISWEB01.03.082.002";
PatientAID="%DISWEB01.03.086.090";
PatientIND="%DISWEB01.03.086.091";
PatientCUR="%DISWEB01.03.086.092";
PatientCLC="%DISWEB01.03.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%DISWEB01.03.086.094";
PatientCDM="%DISWEB01.03.086.095";
PatientVDH="%DISWEB01.03.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<table border=0 width=100% cellspacing=0 align=center>
  <tr>
    <td align=center class=HeadingCell colspan=4>
      Disaster Code - %DISWEB01.03.206 Summary - %DISWEB01.03.210 
    </td>
  </tr>
  <tr>
    <td width=25%>
      <b>Patient/Disaster Start Date</b>
    </td>
    <td width=25%>
      &nbsp;<b>%DISWEB01.03.302</b>
    </td>
    <td width=25%>
      <b>Patient Disaster Outcome</b>
    </td>
    <td width=25%>
      &nbsp;<b>%DISWEB01.03.306.0</b>
    </td>
  </tr>
  <tr>
    <td width=25%>
      <b>Patient/Disaster End Date</b>
    </td>
    <td width=25%>
      &nbsp;<b>%DISWEB01.03.303</b>
    </td>
    <td width=25%>
      <b>Disaster Start - End Dates</b>
    </td>
    <td width=25%>
      &nbsp;<b>%DISWEB01.03.207 - %DISWEB01.03.208</b>
    </td>
  </tr>
</table>
<form name=LinkUnlinkTables>
<div id=TableLocation1></div>
<div id=TableLocation></div>
</form>
<table border=0 width=100% cellspacing=0 align=center>
  <tr>
    <td align=center>
      <input type=button class="button" value="Codes"
       onclick="PatientLinkTo('disweb01.pbl',2,1,0,0,0);">
      <input type=button class="button" value="Update" 
       onclick="PatientLinkTo('disweb01.pbl',3,3,0,0,0);">
      <input type=button class="button" value="Link/Unlink" 
       onclick="PatientLinkTo('disweb01.pbl',3,2,0,0,0);">
    <div id="deletebutton" style="visibility:hidden">
    <input type=button value="Delete" class="button"
       onclick='setFormactn("D");'>
    </div>
    </td>
  </tr>
</table>
<script type="text/javascript">
function AddTableRows() {
%DISWEB01.03.101.patweb98.01.001.0.0
}
function AddTableRows1() {
%DISWEB01.03.102.patweb98.01.001.0.0
}
function init(){
  if(document.UpdateForm.linkrecs.value=="0"){
     document.all["deletebutton"].style.visibility="visible" }
}
</script>

<form name=UpdateForm method=get>
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%DISWEB01.03.003">
<input type=hidden name=admissno value="%DISWEB01.03.081">
<input type=hidden name=dispt002 value="%DISWEB01.03.205">
<input type=hidden name=MenuType value="%DISWEB01.03.088">
<input type=hidden name=linkrecs value="%DISWEB01.03.215">
<input type=hidden name=updttype value=" ">
<input type=hidden name=nextpage value="1">
<input type=hidden name=redirect value="%DISWEB01.03.001.disweb01.02.001">
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%DISWEB01.03.003">
<input type=hidden name=admissno value="%DISWEB01.03.081">
<input type=hidden name=MenuType value="%DISWEB01.03.088">
<input type=hidden name=casekeys value="                        ">
<input type=hidden name=outpsite value="%STANDARD.01.023">
<input type=hidden name=claimcode value="%STANDARD.01.017.CL">
<input type=hidden name=disadiid value="%DISWEB01.03.305">
<input type=hidden name=disacode value="%DISWEB01.03.304">
</form>
