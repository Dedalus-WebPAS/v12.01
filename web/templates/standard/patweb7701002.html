<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/patweb7701.js></script>
<script type="text/javascript">
function assignTType() {
//  alert(document.AddForm.d_bdfee003.value);
  AddForm.bdfee003[0].selected=true;
  if (!isWhitespace(AddForm.d_bdfee003.value)) {
    for (var i =0 ; i < document.AddForm.bdfee003.length; i++) {
      if (AddForm.bdfee003[i].value.substring(0,3)==
          AddForm.d_bdfee003.value.substring(0,3)) {
       AddForm.bdfee003[i].selected=true;
      }
    }
  }
}
function valHfund(ReturnFund,ReturnTable,FundName,TableName) {
  if(!isWhitespace(ReturnFund.value)) {
       if (!validateCode(16,ReturnFund,FundName)) {
           ReturnTable.className="";
           ReturnFund.value="";
           FundName.value="";
           ReturnTable.value="";
           TableName.value="";
           ReturnFund.select();
           return;
       }
  }
  if(isWhitespace(ReturnFund.value)) {
    ReturnFund.value="";
    FundName.value="";
    ReturnTable.value="";
    TableName.value="";
    ReturnTable.className="";
  }
}
function init() {
  if (!isWhitespace(parent.SelectCode.bdfee001.value)) {
     AddForm.bdfee001.value=parent.SelectCode.bdfee001.value}

  if (!isWhitespace(parent.SelectCode.bdfee002.value)) {
     AddForm.bdfee002.value=parent.SelectCode.bdfee002.value
     AddForm.funddesc.value=parent.SelectCode.funddesc.value}

  if (!isWhitespace(parent.SelectCode.bdfee003.value)) {
    for (var i =0 ; i < document.AddForm.bdfee003.length; i++) { 
      if (AddForm.bdfee003[i].value.substring(0,3)==
          parent.SelectCode.bdfee003.value.substring(0,3)) { 
       AddForm.bdfee003[i].selected=true;
      }
    }
  }
  
  if (!isWhitespace(parent.SelectCode.bdfee014.value)) {
    AddForm.bdfee014.value=parent.SelectCode.bdfee014.value
    AddForm.cniddesc.value=parent.SelectCode.cniddesc.value
  }

  if (!isWhitespace(parent.SelectCode.bdfee004.value)) {
     AddForm.bdfee004.value=parent.SelectCode.bdfee004.value}

  if(!isWhitespace(AddForm.bdfee002.value)) {
    AddForm.bdfee003.className="Mandatory";
  }
  else {
    AddForm.bdfee003.className="";
  }
}

function AddTotal() {
  AddForm.totalfee.value=0;
  if(!isWhitespace(AddForm.bdfee007.value)) {
    if (checkNumber(AddForm.bdfee007)) {
     RoundNumber(AddForm.bdfee007,2);
     AddForm.totalfee.value=parseFloat(AddForm.totalfee.value) +
                            parseFloat(AddForm.bdfee007.value);
    }
    else {
      AddForm.bdfee007.value="";
      AddForm.bdfee007.focus();
      return;
    }
  }
  if(!isWhitespace(AddForm.bdfee008.value)) {
    if (checkNumber(AddForm.bdfee008)) {
     RoundNumber(AddForm.bdfee008,2);
     AddForm.totalfee.value = parseFloat(AddForm.totalfee.value) 
                            + parseFloat(AddForm.bdfee008.value);
    }
    else {
      AddForm.bdfee008.value="";
      AddForm.bdfee008.focus();
      return;
    }
  }
  RoundNumber(AddForm.totalfee,2);
}
function SubmitForm() {
 if(validateMandatory(AddForm)) AddForm.submit();
}
function valCID(ReturnCID,CIDName) {
  if (isWhitespace(ReturnCID.value)) {
    ReturnCID.value="";
    CIDName.value="";
  }
  else
  {
    if (!validateCID(ReturnCID,CIDName)) {
      ReturnCID.value="";
      CIDName.value="";
    }
  }
}
</script>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
<script type="text/javascript">
//if  ("%PATWEB77.01.018" == "C") {
    document.write("Bed Fee Maintenance");
// }
//else {
//    document.write("New File - Bed Fee Maintenance"); }
</script>
</span>
<form name=AddForm action=patweb77.pbl method=post>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=2>
<input type=hidden name=updttype value="A">
<input type=hidden id=dummy name=dummy>
<input type=hidden id=d_bdfee003 name=d_bdfee003>
<table width="95%" cellpadding=1 cellspacing=1 border=0 align=center>

<tr><td class=DataLabel>Contract ID</td>
    <td class=DataField>
     <input type=text size=10 maxlength=6 id=bdfee014 name=bdfee014
      onblur="valCID(bdfee014,cniddesc);" class="Mandatory" title="Contract ID">
        <input type=text size=20 id=cniddesc name=cniddesc  readonly
         class=Readonly notab tabindex=-1>
        <img src="../images/SearchIcon.gif" class="Icon"
         onclick="
    CIDSearchFrame('patweb88.pbl?reportno=26&template=005',bdfee014,cniddesc);">
        <img src="../images/erase.gif" class="Icon"
         onclick="clrCID(bdfee014,cniddesc);">
    </td></tr>


<tr><td class=DataLabel>%STANDARD.01.017.CL</td>
    <td class=DataField>
    <select name=bdfee001 class="SelectBig Mandatory" title="%STANDARD.01.017.CL">
    <option></option>
    %PATWEB77.01.001.9.1.10.2.X
    </select>
    </td></tr>

<tr><td class=DataLabel>Health Fund </td>
    <td class=DataField>
    <input type=text size=6 id=bdfee002 name=bdfee002 maxlength=6
      value="" title="Health Fund"
      onblur="valHfund(bdfee002,dummy,funddesc,dummy);">
    <input type=text size=50 maxsize=40 id=funddesc name=funddesc title="Health Fund" 
     readonly class=Readonly tabindex=-1 notab>
    <img src=../images/SearchIcon.gif border=0 hspace=0 class="Icon"
     notab tabindex=-1
     onclick="HealthFundSearchFrame1(bdfee002,funddesc,dummy,dummy,dummy,d_bdfee003,assignTType);">
    <img src="../images/erase.gif" class="Icon"
     notab tabindex=-1
     onclick="clrHfund(bdfee002,funddesc,dummy,dummy);AddForm.bdfee003[0].selected=true;">
    </td></tr>

<tr>
        <td class=DataLabel>%STANDARD.01.017.HT</td>
        <td class=DataField>
        <select name=bdfee003 class=SelectMed title="%STANDARD.01.017.HT" >
        <option></option>
        %STANDARD.01.007.HT
        </select></td>
    </tr>

<tr><td class=DataLabel>%STANDARD.01.017.A </td>
    <td class=DataField>
    <select name=bdfee004 class="SelectBig Mandatory" title="%STANDARD.01.017.A ">
    <option></option>
    %PATWEB77.01.004.2
    </select>
    </td></tr>

<tr><td class=DataLabel>Bed Type</td>
    <td class=DataField>
    <select name=bdfee005 class="SelectBig Mandatory" title="Bed Type">
    <option></option>
    %PATWEB77.01.005.2
    </select>
    </td></tr>

<tr><td class=DataLabel>Last Day in Period </td>
    <td class=DataField>
    <input type=text name=bdfee006 class="Integer Mandatory" size=5 
     title="Last Day in Period" maxlength=3 min=0>
    </td></tr>

<tr><td class=DataLabel>Description</td>
    <td class=DataField>
    <input type=text name=bdfee010 size=40 maxlength=30 class=Mandatory
     title="Description" >
    </td></tr>

<tr><td class=DataLabel>Number of Invoices</td>
    <td class=DataField>
    <select name=bdfee009 >
     %PATWEB77.01.009
    </select>
    </td></tr>

<tr><td class=DataLabel>Patient Portion of Rate</td>
    <td class=DataField>
    <input type=text name=bdfee007 class=Number size=7 maxlength=7
     title="Patient Portion of Rate" min=0 max=9999.99 onblur="AddTotal();">
    </td></tr>

<tr><td class=DataLabel>Rebate Portion of Rate</td>
    <td class=DataField>
    <input type=text name=bdfee008 class=Number size=7 maxlength=7
     title="Rebate Portion of Rate" min=0 max=9999.99 onblur="AddTotal();">
    </td></tr>

<tr><td class=DataLabel>Total Charge</td>
    <td class=DataField>
    <input type=text class=Readonly name=totalfee class=Number size=10 
     maxlength=10 readonly tabindex=-1>
    </td></tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td class=DataField>&nbsp;
    </td></tr>
 
<td colspan=2 align=center>
  <input type=button value=Add class="button" 
   onclick=SubmitForm();>
  <input type=button value=Cancel class="button" 
   onclick='DFrameExit();'>
</td></tr>
</table>
</form>

