<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">
 document.write('%ALLWEB01.04.001.0 Diagnosis Maintenance' );</script>
<script type="text/javascript">
function RegexCheck(){
  diagcode = document.AddForm.aldia002.value;
  regex = /^[0-9a-zA-Z \.]+$/;

  if(!regex.test(diagcode)&&diagcode!=""){
    alert("Diag code can only be alphanumeric with decimals.");
    document.AddForm.aldia002.value="";
    document.AddForm.aldia002.focus();
  }
}

function compareDates(startDate, endDate, triggered) {
  if (!isWhitespace(startDate) || !isWhitespace(endDate)) {
    if (isWhitespace(AddForm.d_aldia008.value)) {
      AddForm.aldia008.value = "";
    }
    if (isWhitespace(AddForm.d_aldia009.value)) {
      AddForm.aldia009.value = "";
    }
    if (startDate > endDate && triggered == 1) {
      if (!isWhitespace(AddForm.d_aldia009.value)) {
        alert("Start date cannot be after end date.");
        AddForm.aldia008.value = "";
        AddForm.d_aldia008.value = "";
      }
    } else if (startDate > endDate && triggered == 2) {
      if (!isWhitespace(AddForm.d_aldia008.value) &&
          !isWhitespace(AddForm.d_aldia009.value)) {
        alert("End date cannot be before start date.");
        AddForm.aldia009.value = "";
        AddForm.d_aldia009.value = "";
      }
    }
  } else {
    AddForm.aldia008.value = "";
    AddForm.aldia009.value = "";
  }
}
</script>
</span>
<form name=AddForm method=post action=allweb01.pbl style="margin:0">
<input type=hidden name=reportno value="4">
<input type=hidden name=template value="002">
<input type=hidden name=updttype value="A">
<input type=hidden name=deptcode value="%ALLWEB01.04.001.1">
<input type=hidden name=diagcode value="%ALLWEB01.04.002">
<input type=hidden name=aldia008>
<input type=hidden name=aldia009>

<table align=center width=100% border=0>
<tr><td class=DataLabel>Diagnosis Code</td>
    <td><input type=text name=aldia002 class="Mandatory"
         title="Diag code" size=12 maxlength=9 onblur="RegexCheck();">
    </td></tr>

<tr><td class=DataLabel>Diagnosis Description</td>
    <td><input type=text name=aldia003 class=Mandatory title="Description"
         size=80 maxlength=80>
    </td></tr>

<tr><td class=DataLabel>Equivalent ICD10 Code</td>
    <td><input type=text readonly class=Readonly name=aldia004 
         title="ICD10 Code" size=10 maxlength=10>
        <input type=text readonly class=Readonly name=mricdds1 size=40 
         maxlength=40>
        <img src=../images/DiagnosisSearchIcon.gif class=Icon
     onclick='Icd10DisSearchFrame(AddForm.aldia004,AddForm.mricdds1);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.aldia004,AddForm.mricdds1);">
    </td></tr>

<tr><td class=DataLabel>HDP Equivalent</td>
    <td><input type=text name=aldia006 title="HDP Equivalent"
         size=4 maxlength=4>
    </td></tr>

<tr><td class=DataLabel>HCP Equivalent</td>
    <td><input type=text name=aldia007 title="HCP Equivalent"
         size=4 maxlength=4>
    </td></tr>

<tr><td class=DataLabel>Start Date</td>
    <td><input type=text name=d_aldia008 title="Start Date"
        size=11 maxlength=11 onblur='checkDate(AddForm.d_aldia008,
        "Start Date", AddForm.aldia008);compareDates(AddForm.aldia008.value,
        AddForm.aldia009.value, 1)'>
    <img src=../images/DateLookup.gif class=Icon
     onclick='DateLookupFrame(AddForm.d_aldia008);'>
    <img src="../images/erase.gif" class=Icon
     onclick="clrFields(AddForm.d_aldia008, AddForm.aldia008);">
    </td></tr>

<tr><td class=DataLabel>End Date</td>
    <td><input type=text name=d_aldia009 title="End Date"
        size=11 maxlength=11 onblur='checkDate(AddForm.d_aldia009,
        "End Date", AddForm.aldia009);compareDates(AddForm.aldia008.value,
        AddForm.aldia009.value, 2);'>
    <img src="../images/DateLookup.gif" class=Icon
     onclick="DateLookupFrame(AddForm.d_aldia009);">
    <img src="../images/erase.gif" class=Icon
     onclick="clrFields(AddForm.d_aldia009, AddForm.aldia009);">
    </td></tr>

<tr><td class=DataLabel>Active</td>
    <td><input type=checkbox name=aldia005 title="Active" value="1" checked >
    </td></tr>

<tr><td colspan=2 align=center><br>
    <input type=button value="Add" class="button" id="all01add"
     onclick="tempDisable(this);SubmitForm()">
    <input type=button value=Close class="button" 
     onclick="DFrameCloseRefresh()">
    </td></tr>
</table>
</form>
