<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function validateAndSubmit(){
  f = document.UpdateForm;
  if (!validateMandatory(f)) {return;}

  if (f.pvitype.value == '3') {
    if(!isWhitespace(f.ptfol001.value) && !isWhitespace(f.ptfol002.value)) {
      if(!CheckDateTimeRange(f.adatex,f.atimex,f.ptfol001,f.ptfol002)) {
        alert('Call Attempt 1 Date/Time cannot be before Visit Date/Time');
        return;
      }
    }
    if(!isWhitespace(f.ptfol004.value) && !isWhitespace(f.ptfol005.value)) {
      if(!CheckDateTimeRange(f.adatex,f.atimex,f.ptfol004,f.ptfol005)) {
        alert('Call Attempt 2 Date/Time cannot be before Visit Date/Time');
        return;
      }
    }
    if(!isWhitespace(f.ptfol007.value) && !isWhitespace(f.ptfol008.value)) {
      if(!CheckDateTimeRange(f.adatex,f.atimex,f.ptfol007,f.ptfol008)) {
        alert('Call Attempt 3 Date/Time cannot be before Visit Date/Time');
        return;
      }
    }
  }

  if (f.pvitype.value == '1') {
    if(!isWhitespace(f.ptfol001.value) && !isWhitespace(f.ptfol002.value)) {
      if(!CheckDateTimeRange(f.emvdatex,f.emvtimex,f.ptfol001,f.ptfol002)) {
        alert('Call Attempt 1 Date/Time cannot be before Visit Date/Time');
        return;
      }
    }
    if(!isWhitespace(f.ptfol004.value) && !isWhitespace(f.ptfol005.value)) {
      if(!CheckDateTimeRange(f.emvdatex,f.emvtimex,f.ptfol004,f.ptfol005)) {
        alert('Call Attempt 2 Date/Time cannot be before Visit Date/Time');
        return;
      }
    }
    if(!isWhitespace(f.ptfol007.value) && !isWhitespace(f.ptfol008.value)) {
      if(!CheckDateTimeRange(f.emvdatex,f.emvtimex,f.ptfol007,f.ptfol008)) {
        alert('Call Attempt 3 Date/Time cannot be before Visit Date/Time');
        return;
      }
    }
  }

  setFormactn('U');
}
function ShowPatientVisit() {
  f = document.UpdateForm;
  if (f.pvitype.value == '3') {
    document.getElementById('patline1').style.display = "";
    document.getElementById('patline2').style.display = "";
    document.getElementById('patline3').style.display = "";
    document.getElementById('patline4').style.display = "";
    document.getElementById('patline5').style.display = "";
    document.getElementById('emrline1').style.display = "none";
    document.getElementById('emrline2').style.display = "none";
    document.getElementById('emrline3').style.display = "none";
    document.getElementById('emrline4').style.display = "none";
    document.getElementById('emrline5').style.display = "none";
  }
  if (f.pvitype.value == '1') {
    document.getElementById('patline1').style.display = "none";
    document.getElementById('patline2').style.display = "none";
    document.getElementById('patline3').style.display = "none";
    document.getElementById('patline4').style.display = "none";
    document.getElementById('patline5').style.display = "none";
    document.getElementById('emrline1').style.display = "";
    document.getElementById('emrline2').style.display = "";
    document.getElementById('emrline3').style.display = "";
    document.getElementById('emrline4').style.display = "";
    document.getElementById('emrline5').style.display = "";
    if (isWhitespace(f.emrdiags.value)) {
      document.getElementById('emrresn1').style.display = "none";
      document.getElementById('emrresn2').style.display = ""; 
    }
    else {
      document.getElementById('emrresn1').style.display = "";
      document.getElementById('emrresn2').style.display = "none";
    }
  }
 
  if (f.patrdelr.value == "1") {
    document.getElementById('CancelBtDet').style.display = "";
    document.getElementById('UpdateCancelBtDet').style.display = "none";
    document.getElementById('DeleteBtDet').style.display = "none";
    f.CancelButt2.focus();
    f.ptfol001.className = "Readonly";
    f.ptfol001.disabled = true;
    f.ptfol002.className = "Readonly";
    f.ptfol002.disabled = true;
    f.ptfol003.className = "Readonly";
    f.ptfol003.disabled = true;
    f.ptfol004.className = "Readonly";
    f.ptfol004.disabled = true;
    f.ptfol005.className = "Readonly";
    f.ptfol005.disabled = true;
    f.ptfol006.className = "Readonly";
    f.ptfol006.disabled = true;
    f.ptfol007.className = "Readonly";
    f.ptfol007.disabled = true;
    f.ptfol008.className = "Readonly";
    f.ptfol008.disabled = true;
    f.ptfol009.className = "Readonly";
    f.ptfol009.disabled = true;
    f.ptfol010.className = "Readonly";
    f.ptfol010.disabled = true;
    f.ptfol011.className = "Readonly";
    f.ptfol011.disabled = true;
    f.ptfol012.className = "Readonly";
    f.ptfol012.disabled = true;
    f.ptfol013.className = "Readonly";
    f.ptfol013.disabled = true;
    f.ptfol014.className = "Readonly";
    f.ptfol014.disabled = true;
    f.ptfol015.className = "Readonly";
    f.ptfol015.disabled = true;
    f.ptfol016.className = "Readonly";
    f.ptfol016.disabled = true;
  }
  else {
    document.getElementById('CancelBtDet').style.display = "none";
    document.getElementById('UpdateCancelBtDet').style.display = "";
    document.getElementById('DeleteBtDet').style.display = "";
   
  }
}
function setFormactn(type) {
  f = document.UpdateForm;
  f.updatety.value=type;
  if (type=="U") {
    if (validateMandatory(f)) {
       f.submit();
    }
  }
  else {
    if (type=="D") {
      ans=confirm("Are you sure you want to Delete ?")
      if (ans) {
        f.submit()
      }
    }
    else {
      f.submit();
    }
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);ShowPatientVisit();">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
Update Patient Follow Up Details - %PATWEB07.25.002 (UR %PATWEB07.25.003 Visit %PATWEB07.25.081)
</span>

<form name=UpdateForm action="patweb07.pbl" method=post>
<input type=hidden name=reportno value="25">
<input type=hidden name=template value="003">
<input type=hidden name=updatety value="U">
<input type=hidden name=nextpage id=nextpage value=0>
<input type=hidden name=redirect id=redirect value="">
<input type=hidden name=urnumber id=urnumber value="%PATWEB07.25.003">
<input type=hidden name=admissno id=admissno value="%PATWEB07.25.081">
<input type=hidden name=pvitype  id=pvitype  value="%PATWEB07.25.405">
<input type=hidden name=emrdiags id=emrdiags value="%PATWEB07.25.587">
<input type=hidden name=attrdate id=attrdate value="%PATWEB07.25.602">
<input type=hidden name=attrtime id=attrtime value="%PATWEB07.25.603">
<input type=hidden name=patrdelr id=patrdelr value="%PATWEB07.25.615">
<input type=hidden name=adatex   id=adatex   value="%PATWEB07.25.102">
<input type=hidden name=atimex   id=atimex   value="%PATWEB07.25.103">
<input type=hidden name=emvdatex id=emvdatex value="%PATWEB07.25.501. ">
<input type=hidden name=emvtimex id=emvtimex value="%PATWEB07.25.502 ">

<table width=95% align=center border=0 cellspacing=0 cellpadding=1>
<tr id=patline1><td class=DataLabel width=20%>Type of Visit</td>
    <td class=DataField>Inpatient</td>
    <td class=DataLabel width=20%>Home</td>
    <td class=DataField>%PATWEB07.25.017</td> 
</tr>
<tr id=patline2><td class=DataLabel>Reason for Admission</td>
    <td class=DataField>%PATWEB07.25.121</td>
    <td class=DataLabel>Work</td>
    <td class=DataField>%PATWEB07.25.018</td>
</tr>
<tr id=patline3><td class=DataLabel>Care Type</td>
    <td class=DataField>%PATWEB07.25.113.0</td>
    <td class=DataLabel>Mobile</td>
    <td class=DataField>%PATWEB07.25.243</td>
</tr>
<tr id=patline4><td class=DataLabel>Admission Date</td>
    <td class=DataField>%PATWEB07.25.102 at %PATWEB07.25.103</td>
    <td class=DataLabel>Admission Source</td>
    <td class=DataField>%PATWEB07.25.110.0</td>
</tr>
<tr id=patline5><td class=DataLabel>Discharge Date</td>
    <td class=DataField>%PATWEB07.25.301 at %PATWEB07.25.302</td>
    <td class=DataLabel>Discharge Destination</td>
    <td class=DataField>%PATWEB07.25.304.0</td>
</tr>

<tr id=emrline1><td class=DataLabel width=20%>Type of Visit</td>
    <td class=DataField>Emergency</td>
    <td class=DataLabel width=20%>Home</td>
    <td class=DataField>%PATWEB07.25.017</td>
</tr>
<tr id=emrline2><td class=DataLabel>Reason for Admission</td>
    <td class=DataField id=emrresn1>%PATWEB07.25.587</td>
    <td class=DataField id=emrresn2>%PATWEB07.25.504</td>
    <td class=DataLabel>Work</td>
    <td class=DataField>%PATWEB07.25.018</td>
</tr>
<tr id=emrline3><td class=DataLabel>Care Type</td>
    <td class=DataField>&nbsp;</td>
    <td class=DataLabel>Mobile</td>
    <td class=DataField>%PATWEB07.25.243</td>
</tr>
<tr id=emrline4><td class=DataLabel>Admission Date</td>
    <td class=DataField>%PATWEB07.25.501.0
          at %PATWEB07.25.502</td>
    <td class=DataLabel>Admission Source</td>
    <td class=DataField>%PATWEB07.25.511.0</td>
</tr>
<tr id=emrline5><td class=DataLabel>Discharge Date</td>
    <td class=DataField>%PATWEB07.25.524
          at %PATWEB07.25.525</td>
    <td class=DataLabel>Discharge Destination</td>
    <td class=DataField>%PATWEB07.25.526.0</td>
</tr>

<tr><td>&nbsp;</td></tr>
<tr><td colspan=4 align=center><hr width=100%></td></tr>
</table>

<table width=95% align=center border=0 cellspacing=0 cellpadding=1>
<tr><td class=DataLabel width=20%>Call Attempt 1</td>
    <td class=DataLabel>
     <input type=text name=ptfol001 id=ptfol001 size=12 tabindex=1
      title="Call Attempt 1 Date" value="%PATWEB07.25.604"
      onblur="checkDate(this,this.title);">
     <img notab src="../images/DateLookup.gif" class=Icon
      date="UpdateForm.ptfol001">
    Time
     <input type=text name=ptfol002 id=ptfol002 size=12 tabindex=2
      title="Call Attempt 1 Time" value="%PATWEB07.25.605">
     <img notab src="../images/DateTimeStamp.gif" class=Icon
      date="UpdateForm.ptfol001" time="UpdateForm.ptfol002">
     <img notab src="../images/TimeLookup.gif" class=Icon
      time="UpdateForm.ptfol002">
      <select name=ptfol003 id=ptfol003 title="Call Attempt 1 Outcome"
       class="SelectBig" tabindex=3>
      <option></option>
       "%PATWEB07.25.606.2 
      </select>
    </td>
</tr>

<tr><td class=DataLabel>Call Attempt 2</td>
    <td class=DataLabel>
     <input type=text name=ptfol004 id=ptfol004 size=12 tabindex=4
      title="Call Attempt 2 Date" value="%PATWEB07.25.607"
      onblur="checkDate(this,this.title);">
     <img notab src="../images/DateLookup.gif" class=Icon
      date="UpdateForm.ptfol004">
    Time
     <input type=text name=ptfol005 id=ptfol005 size=12 tabindex=5
      title="Call Attempt 2 Time" value="%PATWEB07.25.608">
     <img notab src="../images/DateTimeStamp.gif" class=Icon
      date="UpdateForm.ptfol004" time="UpdateForm.ptfol005">
     <img notab src="../images/TimeLookup.gif" class=Icon
      time="UpdateForm.ptfol005">
      <select name=ptfol006 id=ptfol006 title="Call Attempt 2 Outcome"
       class="SelectBig" tabindex=6>
      <option></option>
       %PATWEB07.25.609.2
      </select>
    </td>
</tr>

<tr><td class=DataLabel>Call Attempt 3</td>
    <td class=DataLabel>
     <input type=text name=ptfol007 id=ptfol007 size=12 tabindex=7
      title="Call Attempt 3 Date" value="%PATWEB07.25.610"
      onblur="checkDate(this,this.title);">
     <img notab src="../images/DateLookup.gif" class=Icon
      date="UpdateForm.ptfol007">
    Time
     <input type=text name=ptfol008 id=ptfol008 size=12 tabindex=8
      title="Call Attempt 3 Time" value="%PATWEB07.25.611">
     <img notab src="../images/DateTimeStamp.gif" class=Icon
      date="UpdateForm.ptfol007" time="UpdateForm.ptfol008">
     <img notab src="../images/TimeLookup.gif" class=Icon
      time="UpdateForm.ptfol008">
      <select name=ptfol009 id=ptfol009 title="Call Attempt 3 Outcome"
       class="SelectBig" tabindex=9>
      <option></option>
       %PATWEB07.25.612.2
      </select>
    </td>
</tr>

<tr><td class=DataLabel>Reason for Follow Up</td>
    <td class=DataLabel>
      <select name=ptfol010 id=ptfol010 title="Reason for Follow Up"
       class="SelectBig" tabindex=10>
      <option></option>
       %PATWEB07.25.613.2 
      </select>
    </td>
</tr>

<tr><td class=DataLabel valign=top>Comments</td>
    <td><input type=text name=ptfol013 id=ptfol013 size=90 maxlength=80
         tabindex=11 value="%PATWEB07.25.614.009">
    </td>
</tr>
<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=text name=ptfol014 id=ptfol014 size=90 maxlength=80
         tabindex=12 value="%PATWEB07.25.614.010">
    </td>
</tr>
<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=text name=ptfol015 id=ptfol015 size=90 maxlength=80
         tabindex=13 value="%PATWEB07.25.614.011">
    </td>
</tr>
<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=text name=ptfol016 id=ptfol016 size=90 maxlength=80
         tabindex=14 value="%PATWEB07.25.614.012">
    </td>
</tr>

<tr><td class=DataLabel>Call Outcome</td>
    <td class=DataLabel>
      <select name=ptfol011 id=ptfol011 title="Call Outcome"
       class="SelectBig" tabindex=20>
      <option></option>
       %PATWEB07.25.614.001.2 
      </select>
    </td>
</tr>

<tr><td class=DataLabel>Other Reference Location</td>
    <td class=DataLabel>
      <select name=ptfol012 id=ptfol012 title="Other Reference Location"
       class="SelectBig" tabindex=21>
      <option></option>
       %PATWEB07.25.614.002.2
      </select>
    </td>
</tr>

<tr><td>&nbsp;</td></tr>

<tr id=UpdateCancelBtDet><td colspan=2 align=center>
     <input type=button class=button name=UpdateButt id=UpdateButt 
      value="Update" tabindex=31
      onclick="tempDisable(this);validateAndSubmit();">
     <input type=button class=button name=CancelButt id=CancelButt
      value="Cancel" tabindex=32
      onclick="DFrameExitRefresh();">
    </td>
</tr>

<tr id=DeleteBtDet><td colspan=2 align=center>
     <input type=button class=button name=DeleteButt id=DeleteButt
      value="Delete" tabindex=33
      onclick="tempDisable(this);setFormactn('D');">
    </td>
</tr>

<tr id=CancelBtDet><td colspan=2 align=center>
     <input type=button class=button name=CancelButt2 id=CancelButt2
      value="Cancel" tabindex=32
      onclick="DFrameExitRefresh();">
    </td>
</tr>

</table>
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value="25">
<input type=hidden name=template value="002">
<input type=hidden name=urnumber value="%PATWEB07.25.003">
<input type=hidden name=admissno value="%PATWEB07.25.081">
</form>

