<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script language="javascript" src="../js/allweb03.js"></script>
<script language="javascript">

//BHS Customisation - TSK 0901084
function setLocationCodeMandatory(){
  
  if(RMLocationCodeMandatory){
    document.UpdateForm.alact005.className="Mandatory";
  }
  
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);
              ListOptionsCatLD(UpdateForm.deptlcod,UpdateForm.alact005);
              setLocationCodeMandatory();">
<span class=DFrameTitleBar>
<img border=0 align=right src="../images/ExitIcon.gif"
 onclick="DFrameExitRefresh()">
Update Non-U/R Activity
</span>

<script type="text/javascript">
function update(type){
  if(type=="U"){
     if(validateMandatory(UpdateForm)){
        UpdateForm.updatety.value=type;
        UpdateForm.submit();
     }
  }
  else{
     if(confirm("Are you sure you want to delete")){
        UpdateForm.updatety.value=type
        UpdateForm.submit();
     }
  }
}
</script>

<form name=UpdateForm action="allweb03.pbl" method=post style="margin:0">
<input type=hidden name=reportno value=03>
<input type=hidden name=template value=003>
<input type=hidden name=updatety value="">
<input type=hidden name=allactky value="%ALLWEB03.03.012"> 
<input type=hidden name=deptlcod value="%ALLWEB03.03.101.3">

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr>
  <td class=DataLabel>Department Code</td>
  <td colspan=3><input type=text name=alact001 readonly=true 
   value="%ALLWEB03.03.101.0" size=50 class=readonly></td>
  <td class=DataLabel>Entered by</td>
  <td> 
    <input type=text readonly=true value="%ALLWEB03.03.166" class=readonly>
  </td>
</tr>

<tr>
  <td class=DataLabel>Service Provider</td>
  <td colspan=3>
    <input type=text name=alact002 readonly=true value="%ALLWEB03.03.102" 
     size=50 class=readonly>
  </td>
</tr>
<tr>
  <td class=DataLabel>Date</td>
  <td>
    <input type=text name=alact003  readonly=true  value="%ALLWEB03.03.103"
     class="readonly" size=12>
  </td>
</tr>

<tr>
  <td class=DataLabel>Time</td>
  <td>
    <input type=text readonly=true name=alact004 value="%ALLWEB03.03.104" 
     class="readonly" size=9>
  </td>
</tr>
 
<tr>
  <td class=DataLabel>Occasion of Service</td>
  <td>
    <select name=alact006 class=Mandatory>
    %ALLWEB03.03.106.1
    </select>
  </td>
</tr>
<!-- CGA 20190110 ME:52272 Location Code Mandatory -->
<tr>
  <td class=DataLabel>Location Code</td>
  <td class=DataField>
    <select name=alact005 id=alact005>
    <option value=""></option>
    %ALLWEB03.03.105.2
    </select>
  </td>
</tr>

<tr>
  <td class=DataLabel>Units</td>
  <td class=DataField>
    <input type=text name=alact007 value="%ALLWEB03.03.107" size=8 maxlength=6 
     class=Mandatory>
  </td>
</tr>

<tr> 
  <td class=DataLabel>Comments</td>
  <td class=DataField>
    <input type=text name=alact063 id=alact063 value="%ALLWEB03.03.163"
     size=70 maxlength=60>
  </td>
</tr>
</table>

<div id="HCPcheckbox">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Additional HCP</td>
    <td><input type=checkbox name=addithcp value="1"
         onclick="CheckUpdHCP();"></td>
    </tr>
</table>
</div>

<div id=AdditionalHCP></div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td colspan=6 align=center><br>
    <input type=button class=button value="Update" id=btnUpd
     onclick="tempDisable(this);update('U')">
    <input type=button class=button value="Delete" id=btnDel
     onclick="tempDisable(this);update('D')">
    <input type=button Value="Cancel" class="button" 
     onclick="DFrameCloseRefresh();">
    </td></tr>
</table>
</form>

<span id="ShowAdditionalHCP" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Additional HCP 1</td>
    <td><input type=text name=alact017 id=alact017 size=10 maxlength=10
         title="Additional HCP 1" value="%ALLWEB03.03.117.1"
         onblur="ValidateHCP(18,0,UpdateForm.alact017,UpdateForm.d_alact017);">
        <input type=text name=d_alact017 id=d_alact017 size=20
         class=Readonly readonly
         title="Additional HCP 1" value="%ALLWEB03.03.117.0">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="HCPSearchFrame(UpdateForm.alact017,UpdateForm.d_alact017,0);">
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alact017,UpdateForm.d_alact017);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 2</td>
    <td><input type=text name=alact018 id=alact018 size=10 maxlength=10
         title="Additional HCP 2" value="%ALLWEB03.03.118.1"
         onblur="ValidateHCP(18,0,UpdateForm.alact018,UpdateForm.d_alact018);">
        <input type=text name=d_alact018 id=d_alact018 size=20
         class=Readonly readonly
         title="Additional HCP 2" value="%ALLWEB03.03.118.0">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="HCPSearchFrame(UpdateForm.alact018,UpdateForm.d_alact018,0);">
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alact018,UpdateForm.d_alact018);">
    </td></tr>


<tr><td class=DataLabel width=15%>Additional HCP 3</td>
    <td><input type=text name=alact019 id=alact019 size=10 maxlength=10
         title="Additional HCP 3" value="%ALLWEB03.03.119.1"
         onblur="ValidateHCP(18,0,UpdateForm.alact019,UpdateForm.d_alact019);">
        <input type=text name=d_alact019 id=d_alact019 size=20
         class=Readonly readonly
         title="Additional HCP 3" value="%ALLWEB03.03.119.0">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="HCPSearchFrame(UpdateForm.alact019,UpdateForm.d_alact019,0);">
        <img src="../images/ClearIcon.gif" class=Icon
         onClick="clrFields(UpdateForm.alact019,UpdateForm.d_alact019);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 4</td>
    <td><input type=text name=alact020 id=alact020 size=10 maxlength=10
         title="Additional HCP 4" value="%ALLWEB03.03.120.1"
         onblur="ValidateHCP(18,0,UpdateForm.alact020,UpdateForm.d_alact020);">
        <input type=text name=d_alact020 id=d_alact020 size=20
         class=Readonly readonly
         title="Additional HCP 4" value="%ALLWEB03.03.120.0">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="HCPSearchFrame(UpdateForm.alact020,UpdateForm.d_alact020,0);">
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.alact020,UpdateForm.d_alact020);">
    </td></tr>
</table>
</span>

<script type="text/javascript">
document.UpdateForm.alact063.value=trim(document.UpdateForm.alact063.value);

if(%ALLWEB03.03.300.12!=1){
   document.getElementById("HCPcheckbox").style.display="none";
}
document.getElementById('alact017').value = 
document.getElementById('alact017').value.replace(/~/g,"");
document.getElementById('alact018').value = 
document.getElementById('alact018').value.replace(/~/g,"");
document.getElementById('alact019').value = 
document.getElementById('alact019').value.replace(/~/g,"");
document.getElementById('alact020').value = 
document.getElementById('alact020').value.replace(/~/g,"");

str = document.getElementById('alact017').value +
      document.getElementById('alact018').value +
      document.getElementById('alact019').value +
      document.getElementById('alact020').value;
str = str.replace(/^\s+|\s+$/g,'');

if(str!=""){
   document.UpdateForm.addithcp.checked = true;
   CheckUpdHCP();
}
</script>

