<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/ReportStandard.js"></script>
<script type="text/javascript">
function ProcessReport() 
{

  var surgeon = document.getElementById("surgeon");
  var anaesthetist = document.getElementById("anaesthetist");
  var adverseEvent = document.getElementById("adveevent");
  var generalEvent = document.getElementById("genevent");
  var painEvent = document.getElementById("painevent");
  var respiratoryEvent = document.getElementById("respevent");
  var cardiacEvent = document.getElementById("cardevent");
  var bodyEvent = document.getElementById("bodyevent");
  var otherEvent = document.getElementById("otherevent");
  var userid = document.getElementById("userid");

  ReportForm.keystr01.title="From Date";
  ReportForm.keystr02.title="To Date";

  ReportForm.keystr01.value = ReportForm.FromDate.value;
  ReportForm.keystr02.value = ReportForm.ToDate.value;

  if(CheckDateRange(ReportForm.keystr01, ReportForm.keystr02))
  {

     ReportForm.keystr04.value = surgeon.value;
     ReportForm.keystr05.value = anaesthetist.value;
     ReportForm.keystr06.value = adverseEvent.value;

     var count = 7;
     var keystring = "keystr";

     if(generalEvent.value == "Y")
     {
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "Y";
       count++;

       for(var i = 1 ; i < 5 ; i++)
       {
          if(count > 9)
            keystring = "keystr";
          else
            keystring = "keystr0";

          if(ReportForm["ge00"+i].checked)
            ReportForm[keystring+count].value = "Y";
          else
            ReportForm[keystring+count].value = "N";

          count++;

       }   
     
     }
     else
     {
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

      ReportForm[keystring+count].value = "N";
      count++;
     }

     if(painEvent.value == "Y")
     {
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "Y";
       count++;

       for(var i = 1 ; i < 4 ; i++)
       {
         if(count > 9)
           keystring = "keystr";
         else
           keystring = "keystr0";

         if(ReportForm["pm00"+i].checked)
           ReportForm[keystring+count].value = "Y";
         else
           ReportForm[keystring+count].value = "N";
  
         count++;
       }
     }
     else
     {
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "N";
       count++;
     }

     if(respiratoryEvent.value == "Y")
     {
       var temp = "" ;
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "Y";
       count++;

       for(var i = 1 ; i < 12 ; i++)
       {
         if(count > 9)
           keystring = "keystr";
         else
           keystring = "keystr0";

         if(i > 9)
           temp = "rf0"
         else
           temp = "rf00";

         if(ReportForm[temp+i].checked)
            ReportForm[keystring+count].value = "Y";
         else
            ReportForm[keystring+count].value = "N";

         count++;
       }
     }
     else
     {
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "N";
       count++;
     }

     if(cardiacEvent.value == "Y")
     { 
        if(count > 9)
          keystring = "keystr";
        else
          keystring = "keystr0";

        ReportForm[keystring+count].value = "Y";
        count++;

        for(var i = 1; i < 9; i++)
        {
           if(count > 9)
             keystring = "keystr";
           else
             keystring = "keystr0";

           if(ReportForm["cf00"+i].checked)
             ReportForm[keystring+count].value = "Y";
           else
             ReportForm[keystring+count].value = "N"

           count++;
        }
 
     }
     else
     { 
       if(count > 9)
          keystring = "keystr";
       else
          keystring = "keystr0";

       ReportForm[keystring+count].value = "N";
       count++;
     }

     if(bodyEvent.value == "Y")
     {
        if(count > 9)
          keystring = "keystr";
        else
          keystring = "keystr0";

        ReportForm[keystring+count].value = "Y";
        count++;

        for(var i = 1; i < 4; i++)
        {
           if(count > 9)
             keystring = "keystr";
           else
             keystring = "keystr0";

           if(ReportForm["bt00"+i].checked)
             ReportForm[keystring+count].value = "Y";
           else
             ReportForm[keystring+count].value = "N";

           count++;
        }
     }
     else
     {
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

        ReportForm[keystring+count].value = "N";
        count++;
     }

     if(otherEvent.value == "Y")
     {
       var temp = "";
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "Y";
       count++;

       for(var i = 1; i < 9; i++)
       {
          if(count > 9)
            keystring = "keystr";
          else
            keystring = "keystr0";

          if(i > 9)
            temp = "oe0"
          else
            temp = "oe00";

          if(ReportForm[temp+i].checked)
            ReportForm[keystring+count].value = "Y";
          else
            ReportForm[keystring+count].value = "N";

          count++;
       }
     }
     else
     { 
       if(count > 9)
         keystring = "keystr";
       else
         keystring = "keystr0";

       ReportForm[keystring+count].value = "N";
       count++;
     }
       

    if(count > 9)
      keystring = "keystr";
    else
      keystring = "keystr0";

    ReportForm[keystring+count].value = userid.value;
    count++;

    ReportForm[keystring+count].value = "Y"

    SubmitReport(ReportForm);
  }
}

function checkSelection(sel,divName)
{
  var div = document.getElementById(divName);

  if(sel[sel.selectedIndex].value == "N")
     div.style.display = "none";
  else
     div.style.display = "";
}


function checkUR(ur)
{
 var pat2 = new Object();
 var dummy2 = new Object();
 var dummy3 = new Object();
 var dummy4 = new Object();
 var batad002 = new Object();

 if (!isWhitespace(ur.value))
 {
   justifyRight(ur);
   validateCode(8,ur,pat2,dummy2,dummy3,dummy4,dummy4,batad002)
 }

}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);
              ReportLoad();
              document.ReportForm.schddate.focus();">
<form name=ReportForm method=post action=rshweb02.pbl style="margin:0">
  <input type=hidden name=reportno value=4>
  <input type=hidden name=template value=001>
  <input type=hidden name=updttype value="A">
  <input type=hidden name=setdfprg value="IBAOPR16">
  <input type=hidden name=setdfrep value="01">
  <input type=hidden name=schdpgid value="IBAOPR16">    
  <input type=hidden name=schddesc
   value="Recovery Anaesthetist Adverse Event Extract">    
  <input type=hidden name=nextpage value="1">
  <input type=hidden name=redirect value="rshweb02.pbl?reportno=1&template=1">
  <input type=hidden name=userid id=userid value="%STANDARD.01.008">

<table width=100% align=center border=0 cellspacing=0>
  <tr>
    <td class=HeadingCell align=center colspan=2>
     Recovery Anaesthetist Adverse Event Extract
    </td>
  </tr>
  <tr>
    <td>
      <table width=80% align=center border=0 cellspacing=2 cellpadding=1>
        <tr>
          <td class=DataLabel width=25%>Schedule Date</td>
          <td class=DataLabel>
            <input type=text name=schddate size=12 title="Schedule Date"
                   value="%STANDARD.01.015"
                   onblur="checkDate(this,'Schedule Date');">
            <img notab src="../images/DateLookup.gif" class="Icon" 
                 alt="Show Calendar" date="ReportForm.schddate">
            Time
            <input type=text name=schdtime size=12 title="Schedule Time"
                   value="%STANDARD.01.016">
            <img notab src="../images/DateTimeStamp.gif" class="Icon"
                 alt="Current" date="ReportForm.schddate" 
                 time="ReportForm.schdtime">
            <img notab src="../images/TimeLookup.gif" class="Icon" 
                 alt="Time Select" time="ReportForm.schdtime">
          </td>
        </tr>
        <tr>
          <td class=DataLabel>Printer</td>
          <td>
            <select name=schdprnt title="Printer" class=Mandatory>
              <option></option>
              %STANDARD.01.001.IBAOPR16.01
            </select>
          </td>
        </tr>
        <tr>
          <td class=DataLabel>Number of Copies</td>
          <td>
            <select name=schdcopy title='Number of Copies' class=Mandatory>
            </select>
          </td>
        </tr>
        <tr>
          <td class=DataLabel>Re-schedule Type</td> 
          <td class=DataLabel colspan=3> 
            <select name=schdrdat title="Schedule Type"
              onchange="SetReportDates();"> 
              <option></option> 
            </select> 
          </td>
        </tr> 
        <tr>
          <td class=DataLabel>Re-schedule Until Date</td> 
          <td class=DataLabel colspan=3> 
            <input type=text name=schdrend size=12 
                   onblur="checkDate(this,'Re-schedule Until Date');"> 
            <img notab src="../images/DateTimeStamp.gif" class="Icon"
                 alt="Current" date="ReportForm.schdrend">
            <img notab src="../images/DateLookup.gif" class="Icon" 
                 alt="Show Calendar" date="ReportForm.schdrend">
          </td>
        </tr>
        <tr>
          <td colspan=2 align=center>
            <hr width=80%>
            <!-- keystrokes -->

            
            <!-- date from -->           
            <input type=hidden name=keystr01 value="">           
          
            <!-- date to -->           
            <input type=hidden name=keystr02 value="">           
            <input type=hidden name=keystr03 value="Y">          
            <!-- Surgeon --> 
            <input type=hidden name=keystr04 value="">           
            <!-- Anaesthetist -->
            <input type=hidden name=keystr05 value="">           
            <!-- difficult intubation -->
            <input type=hidden name=keystr06 value="">           
            <!-- urnumber -->
            <input type=hidden name=keystr07 value="">           
            <!-- user Id -->
            <input type=hidden name=keystr08 value="">
            <!-- -->           
            <input type=hidden name=keystr09 value="">           
            <input type=hidden name=keystr10 value="">           
            <input type=hidden name=keystr11 value="">           
            <input type=hidden name=keystr12 value="">           
            <input type=hidden name=keystr13 value="">           
            <input type=hidden name=keystr14 value="">           
            <input type=hidden name=keystr15 value="">           
            <input type=hidden name=keystr16 value="">           
            <input type=hidden name=keystr17 value="">           
            <input type=hidden name=keystr18 value="">           
            <input type=hidden name=keystr19 value="">           
            <input type=hidden name=keystr20 value="">           
            <input type=hidden name=keystr21 value="">           
            <input type=hidden name=keystr22 value="">           
            <input type=hidden name=keystr23 value="">           
            <input type=hidden name=keystr24 value="">           
            <input type=hidden name=keystr25 value="">           
            <input type=hidden name=keystr26 value="">           
            <input type=hidden name=keystr27 value="">           
            <input type=hidden name=keystr28 value="">           
            <input type=hidden name=keystr29 value="">           
            <input type=hidden name=keystr30 value="">           
            <input type=hidden name=keystr31 value="">           
            <input type=hidden name=keystr32 value="">           
            <input type=hidden name=keystr33 value="">           
            <input type=hidden name=keystr34 value="">           
            <input type=hidden name=keystr35 value="">           
            <input type=hidden name=keystr36 value="">           
            <input type=hidden name=keystr37 value="">           
            <input type=hidden name=keystr38 value="">           
            <input type=hidden name=keystr39 value="">           
            <input type=hidden name=keystr40 value="">           
            <input type=hidden name=keystr41 value="">           
            <input type=hidden name=keystr42 value="">           
            <input type=hidden name=keystr43 value="">           
            <input type=hidden name=keystr44 value="">           
            <input type=hidden name=keystr45 value="">           
            <input type=hidden name=keystr46 value="">           
            <input type=hidden name=keystr47 value="">           
            <input type=hidden name=keystr48 value="">           
            <input type=hidden name=keystr49 value="">           
            <input type=hidden name=keystr50 value="">           
            <input type=hidden name=keystr51 value="">           
            <input type=hidden name=keystr52 value="">           
            <input type=hidden name=keystr53 value="">           
            <input type=hidden name=keystr54 value="">           
            <input type=hidden name=keystr55 value="">           
            <input type=hidden name=keystr56 value="">           
          </td>
        </tr>
        <tr>
          <td class=DataLabel>Date Range</td>
          <td>
            <input type=text name=FromDate size=12 class=Mandatory
                   onblur="checkDate(this,'Re-schedule Until Date');">
            <img notab src="../images/DateTimeStamp.gif" class="Icon"
                 alt="Current" date="ReportForm.FromDate">
            <img notab src="../images/DateLookup.gif" class="Icon"
                 alt="Show Calendar" date="ReportForm.FromDate">
            To 
            <input type=text name=ToDate size=12 class=Mandatory
                   onblur="checkDate(this,'Re-schedule Until Date');">
            <img notab src="../images/DateTimeStamp.gif" class="Icon"
                 alt="Current" date="ReportForm.ToDate">
            <img notab src="../images/DateLookup.gif" class="Icon"
                 alt="Show Calendar" date="ReportForm.ToDate">
          </td>
        </tr>
        <tr>
          <td class="DataLabel">Surgeon</td>
          <td class="DataField">
            <input type="text" name="surgeon" id="surgeon" maxlength="8" size="12" 
                    onblur="ValidateHCP(18,0,this,ReportForm.surgeon_n);">
            <input type="text" name="surgeon_n" class=ReadOnly readonly>
            <img notab src="../images/SearchIcon.gif" class="Icon"
                 alt="Surgeon" date="ReportForm.ToDate" 
                 onclick="DoctorSearchFrame(ReportForm.surgeon,
                                            ReportForm.surgeon_n);">
          </td>
        </tr>
        <tr>
          <td class="DataLabel">Anaesthetist</td>
          <td class="DataField">
            <input type="text" name="anaesthetist" id="anaesthetist"
                   maxlength="8" size="12" 
                   onblur="ValidateHCP(18,0,this,ReportForm.anaesthetist_n);">
            <input type="text" name="anaesthetist_n" class=ReadOnly readonly>
            <img notab src="../images/SearchIcon.gif" class="Icon"
                 alt="Current" date="ReportForm.ToDate"
                 onclick="DoctorSearchFrame(ReportForm.anaesthetist,
                                            ReportForm.anaesthetist_n);">
          </td>
        </tr>
        <tr>
          <td class="DataLabel">Adverse Event</td>
          <td class="DataField">
            <select name="adveevent" id="adveevent">
               <option value=" ">All</option>
               <option value="Y">Yes</option> 
               <option value="N">No</option>
            </select>
          </td>
        </tr>
        <tr>
        <tr>
          <td><b>Include category in search ?</b></d>
        </tr>
        <tr>
          <td class="DataLabel">General Event</td>
          <td class="DataField">
            <select name="genevent" id="genevent"
              onchange="checkSelection(this,'divGE');"> 
               <option value="N">No</option>
               <option value="Y">Yes</option>
            </select>
            <div id="divGE" style="display:none;">  
              <input type="checkbox" id="ge001"/>Unresponsive > 10 mins <br />
              <input type="checkbox" id="ge002"/>Agitated confused / hallucinations<br>
              <input type="checkbox" id="ge003"/>PONV <br>
              <input type="checkbox" id="ge004"/>PONV that fails PACU protocol<br>
            </div>
          </td>
        </tr>
        <tr>
        <tr>
          <td class="DataLabel">Pain Management</td>
          <td class="DataField">
            <select name="painevent" id="painevent"
               onchange="checkSelection(this,'divPM');">
               <option value="N">No</option>
               <option value="Y">Yes</option>
            </select>
            <div id="divPM" style="display:none;">
              <input type="checkbox" id="pm001"/>Reviewed by an anaesthetist to treate severe pain<br />
              <input type="checkbox" id="pm002"/>Pain score &ge; 8 on waking<br>
              <input type="checkbox" id="pm003"/>Pain score &ge; 8 after 45 min<br>
            </div>
          </td>
        </tr>
        <tr>
        <tr>
          <td class="DataLabel">Respiratory Function</td>
          <td class="DataField">
            <select name="respevent" id="respevent"
               onchange="checkSelection(this,'divRF');">
               <option value="N">No</option>
               <option value="Y">Yes</option>
            </select>
            <div id="divRF" style="display:none;">
              <input type="checkbox" id="rf001"/>Persistent sat &lt; 95%<br />
              <input type="checkbox" id="rf002"/>Tachypea<br />
              <input type="checkbox" id="rf003"/>Bradypnea<br />
              <input type="checkbox" id="rf004"/>Respiratory distress requiring intervention<br />
              <input type="checkbox" id="rf005"/>Respiratory depression<br />
              <input type="checkbox" id="rf006"/>Laryngospasm<br />
              <input type="checkbox" id="rf007"/>Bronchospasm<br />
              <input type="checkbox" id="rf008"/>Aspiration<br />
              <input type="checkbox" id="rf009"/>Ventilated / Bagged<br />
              <input type="checkbox" id="rf010"/>Reintubated<br />
              <input type="checkbox" id="rf011"/>Respiratory or cardiac arrest requiring intervention<br />
            </div>

          </td>
        </tr>
        <tr>
        <tr>
          <td class="DataLabel">Cardiac / Circulatory Function</td>
          <td class="DataField">
            <select name="cardevent" id="cardevent"
               onchange="checkSelection(this,'divCF');">
               <option value="N">No</option>
               <option value="Y">Yes</option>
            </select>
            <div id="divCF" style="display:none;">
              <input type="checkbox" id="cf001"/>Intervention of anaesthetist required for circulatory reasons<br />
              <input type="checkbox" id="cf002"/>Chest pain<br />
              <input type="checkbox" id="cf003"/>ECG Ischaemia<br />
              <input type="checkbox" id="cf004"/>New arrhythmia<br />
              <input type="checkbox" id="cf005"/>Hypotension<br />
              <input type="checkbox" id="cf006"/>Hypertension<br />
              <input type="checkbox" id="cf007"/>Bradycardia<br />
              <input type="checkbox" id="cf008"/>Tachycardia<br />
            </div>
          </td>
        </tr>
        <tr>
        <tr>
          <td class="DataLabel">Body Temperature</td>
          <td class="DataField">
            <select name="bodyevent" id="bodyevent"
               onchange="checkSelection(this,'divBT');">
               <option value="N">No</option>
               <option value="Y">Yes</option>
            </select>
            <div id="divBT" style="display:none;">
              <input type="checkbox" id="bt001"/>Body temp &gt; 39C<br />
              <input type="checkbox" id="bt002"/>Body temp &lt; 35.5C<br />
              <input type="checkbox" id="bt003"/>Body temp &lt; 35C and intervention<br>
            </div>

          </td>
        </tr>
        <tr>
        <tr>
          <td class="DataLabel">Other Event</td>
          <td class="DataField">
            <select name="otherevent" id="otherevent"
               onchange="checkSelection(this,'divOE');">
               <option value="N">No</option>
               <option value="Y">Yes</option>
            </select>
             <div id="divOE" style="display:none;">
              <input type="checkbox" id="oe001" />Death<br />
              <input type="checkbox" id="oe002" />Drug error<br />
              <input type="checkbox" id="oe003" />Anaphylaxis<br />
              <input type="checkbox" id="oe004" />Seizures<br />
              <input type="checkbox" id="oe005" />Unplanned transfer to ICU<br />
              <input type="checkbox" id="oe006" />Inadequate reversal of neuromuscular blockade<br />
              <input type="checkbox" id="oe007" />Unpredicted numbness / weakness or other neurological deficit<br />
              <input type="checkbox" id="oe008" />Stay in PACU &gt; 2hrs<br />
            </div>
          </td>
        </tr>
        <tr>
          <td align=center colspan=3><br>
            <input type=button value=Ok class=button id=btnOk
             onclick="tempDisable(this);ProcessReport();">
            <input type=button value=Cancel class=button 
              onclick='location.href="../lookups/blank.html"'>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</form>
