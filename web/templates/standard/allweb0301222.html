<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="">
<meta name="CrossBrowser" content="true">
<script language="javascript" src="../js/allweb03.js"></script>
<script type="text/javascript">
function AddEncounter(theForm){
 
  var closereferralstring = "";

  SetRedirect()
  theForm.target="PopUpFrame1";
//
  if (validateMandatory(theForm)) {
    if(!isWhitespace(theForm.alredrec.value)) {
      if(SetDateYYYYMMDD(theForm.alenc005.value) < 
         SetDateYYYYMMDD(theForm.alredrec.value)) {
         if(!confirm("Contact date is before the referral received date?\n" +
                     "Click OK to continue, CANCEL to abort")){
                     return;
         }
      }
    }
    if(UpdateForm.checkbx3.checked==true){
//      if(confirm("Would you like to return to the patient's Patient " +
//                 "Referral List to close the referral?")){
        UpdateForm.redirect.value="allweb02.pbl?reportno=02&template=002" +
             "&urnumber=" + theForm.urnumber.value.replace(/ /g,"+") +
             "&admissno=" + theForm.admissno.value.replace(/ /g,"+") +
             "&deptcode=" + theForm.alredept.value.replace(/ /g,"+");
//      }

//  Create cookie for close referral dframe redirect

    closereferralstring = "allweb02.pbl?reportno=02&template=004" +
             "&urnumber=" + theForm.urnumber.value.replace(/ /g,"+") +
             "&admissno=" + theForm.admissno.value.replace(/ /g,"+") +
             "&deptcode=" + theForm.alredept.value.replace(/ /g,"+");
 
    SetCookie("CloseReferralCookie",closereferralstring);

    }

    if(!isWhitespace(theForm.alreudt1.value)) {
      if(SetDateYYYYMMDD(theForm.alenc005.value) <
       SetDateYYYYMMDD(theForm.alreudt1.value)) {
        alert("Contact Date cannot be before Episode Start Date.");
        return;
      }
    } else {
      if(!isWhitespace(theForm.alredact.value)) {
        if(SetDateYYYYMMDD(theForm.alenc005.value) <
           SetDateYYYYMMDD(theForm.alredact.value)) {
          alert("Contact Date cannot be before Episode Start Date.");
          return;
        }
      }
    }

    // Validate Client Present Status
    if (theForm.alenc083.value.substr(14,2) == '13') {
      if (theForm.alenc084.value.substr(14,1) != '3') {
        var sPresentStatus = getSelectionText(theForm.alenc083, '13');
        var sDeliverMode = getSelectionText(theForm.alenc084, '3');
        alert("Warning: If Client Present Status is " + sPresentStatus +
          ", Delivery Mode must be " + sDeliverMode + ".");
        theForm.alenc084.focus();
        return;
      }
    }
  // Validate data entry of a Contract ,Delivery mode and Present Status

    if(!checkDeliveryModeClientPresentStatus(theForm)) {  
      FocusDelay(theForm.alenc084);
      return;
    }

    if(!CheckDateTimeRange(theForm.alenc005,
                           theForm.alenc006,
                           theForm.alenc017,
                           theForm.alenc018)) {
      alert('Contact Start Date/Time cannot be after Contact End Date/Time');
      return;
    }

    if(!checkContactPurposeEnc(theForm)) {  // Check Contact Purpose Valid
      return;
    }
 
// Check Client Present Status validation for Patient DNA & Indirect-No Patient.
    if(!CheckPresentStatus(theForm)) {       
      return;
    }
 
// Check Delivery Mode is Delivery Mode is ‘Face to Face’, 'Telephone' 
// 'Telehealth',‘Written', 'Electronic Mail', 'SMS Text Messages'
    if(!CheckDeliveryMode(theForm)) {
      return;
    }

//See if the patient was an inpatient at the time of the contact 
     CheckContactCurrentIP(theForm.urnumber,theForm.alenc005,theForm.alenc006,theForm.d_currip); 

//check Contact has a Delivery Setting of ’11-Inpatient Setting’ 
    if(!checkDeliverySettingIP(theForm.d_currip,theForm.alenc086)) {
       FocusDelay(theForm.alenc086);
       return;
    }

    //Display alert it NDIS Flag set and claim type NDIS
    if ((theForm.alenc115.value.charAt(28)=="D") &&
        (theForm.ndisvald.value=="0")){

       NDISRedirect();
    }

    theForm.submit();
  }
}
function ToggleCombo(){
ShowSACS();
if(UpdateForm.checkbx2.checked==false){
   UpdateForm.checkbx1.disabled=false;
   UpdateForm.alref006.className=" ";
  }
else{
   UpdateForm.checkbx1.disabled=true; // disable Waiting List
   UpdateForm.checkbx1.checked=false;
   UpdateForm.alref006.className="Mandatory SelectBig";
  }

}

function ShowHideBill(){
  SetRedirect();
  CompensationCode=UpdateForm.alenc115.value.substr(13,1);
  PatientType=UpdateForm.alenc009.value.substr(4,1);
  isBillable=UpdateForm.billablef.value;

  MandatoryCMBS=UpdateForm.alenc115.value.substr(28,1);  // Ind 12
  MandatoryCMBS1=UpdateForm.alenc115.value.substr(36,1);  // Ind 20
  if(MandatoryCMBS=="M" || MandatoryCMBS1=="M" || MandatoryCMBS1=="N") {
    Items.innerHTML=DisplayItems.innerHTML;
    Items.style.display="";
    if(MandatoryCMBS1=="N") {
      document.getElementById("itemn001").className="";
    }
    if (CompensationCode=="C" || CompensationCode=="E") {
      PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN2.innerHTML;
      ShowHideBUnits();
    } else {
      PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN1.innerHTML;
      BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
    }
  } else {
     Items.innerHTML="";
     Items.style.display="none";
     PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN1.innerHTML;
     BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
  }
}
function SetRedirect() {
  UpdateForm.nextpage.value="6";
  UpdateForm.redirect.value=UpdateForm.DEFDIRCT.value
  PatientType=UpdateForm.alenc009.value.substr(4,1);
  isBillable=UpdateForm.billablef.value;
  if(isBillable==1&&(PatientType==1 || PatientType==2)) {
    checkInd=document.UpdateForm.alenc115.value.substr(3,5)
    if(checkInd.search(/W/g) >= 0) {
      UpdateForm.nextpage.value="5";
      UpdateForm.redirect.value="allweb03.pbl?reportno=1&template=5";
    } else
    if(checkInd.search(/V/g) >= 0) {
      UpdateForm.nextpage.value="5";
      UpdateForm.redirect.value="allweb03.pbl?reportno=1&template=6";
    } else
    if(checkInd.search(/M/g) >= 0) {
      UpdateForm.nextpage.value="5";
      UpdateForm.redirect.value="allweb03.pbl?reportno=1&template=4";
    }
  }
}
function PackComments(){
UpdateForm.alenc107.value=UpdateForm.comments.value.substring(0,80);
UpdateForm.alenc108.value=UpdateForm.comments.value.substring(80,160);
}

function ShowHideWaitingList(status){
if(status==0)
  Wait.style.display='';
else
  Wait.style.display='none';
}
//
function ShowVACS() {
   VacsFlag="0"
   LinkedHeading.innerHTML=DisplayLinkedHeading.innerHTML;
   Linked.innerHTML=DisplayLinked.innerHTML;
   if(!isWhitespace(document.UpdateForm.alenc008.value)) {
     LinkedHeading.innerHTML=DisplayLinkedHeading.innerHTML;
     Linked.innerHTML=ReadOnlyLinked.innerHTML;
   }
   if(VacsFlag==0) {
      Vacs.innerHTML="";
      Vacs.style.display="none";
      Activity.style.display="";
      Activity.innerHTML=DisplayActivity.innerHTML;
//    Items.innerHTML="";
//    Items.style.display="none";
      Units.innerHTML="";
      Units.style.display="none";
   } else {
      Vacs.style.display="";
      Vacs.innerHTML=DisplayVacs.innerHTML;
      Activity.innerHTML="";
      Activity.style.display="none";
//    Items.innerHTML=DisplayItems.innerHTML;
//    Items.style.display="";
      ShowHideBill();      
   }
 CompensationCode=UpdateForm.alenc115.value.substr(13,1);
 MandatoryCMBS=UpdateForm.alenc115.value.substr(28,1);  // Ind 12
 MandatoryCMBS1=UpdateForm.alenc115.value.substr(36,1);  // Ind 20
 if(MandatoryCMBS=="M" || MandatoryCMBS1=="M"|| MandatoryCMBS1=="N") {
   Items.innerHTML=DisplayItems.innerHTML;
   Items.style.display="";
   if(MandatoryCMBS1=="N") {
      document.getElementById("itemn001").className="";
    }
   if (CompensationCode=="C" || CompensationCode=="E") {
     PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN2.innerHTML;
     ShowHideBUnits();
   } else {
     PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN1.innerHTML;
     BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
   }
 } else {
    Items.innerHTML="";
    Items.style.display="none";
    PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN1.innerHTML;
    BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
 }
 if(document.UpdateForm.alcndoos.value=="1") {
   document.getElementById("ServiceDepartmentLabel").innerHTML=
   document.getElementById("ShowServiceDepartmentLabel").innerHTML
   document.getElementById("ServiceDepartmentField").innerHTML=
   document.getElementById("ShowServiceDepartmentField").innerHTML
   document.getElementById("OccasionOfServiceLabel").innerHTML=
   document.getElementById("ShowOccasionOfServiceLabel").innerHTML
   document.getElementById("OccasionOfServiceField").innerHTML=
   document.getElementById("ShowOccasionOfServiceField").innerHTML
   SelectServiceDept();
 } 
 if(document.UpdateForm.alcndevp.value=="1"){
     document.getElementById("EventProgramLabel").innerHTML=
     document.getElementById("ShowEventProgramLabel").innerHTML;
     document.getElementById("EventProgramField").innerHTML=
     document.getElementById("ShowEventProgramField").innerHTML;
  }
}
function ShowSACS() {
 SACSRef=document.UpdateForm.alreuyn4.value;
 LinkedtoSACS=document.UpdateForm.lnktosac.value;
 if ( SACSRef == "Yes" || LinkedtoSACS !=" " &&
      UpdateForm.checkbx2.checked==true) {
   InsertSACS.innerHTML=ShowSACSFields.innerHTML;
 } else {
   InsertSACS.innerHTML="";
 }
}
//
function displayClinicType() {
  if (document.UpdateForm.deptlcod.value.substr(36,1)  == "2") {
      clinictypetitlespan.style.display="";
      clinictypefieldspan.style.display="";
    return;
  }
  if (document.UpdateForm.deptlcod.value.substr(36,1)  == "1") {
      clinictypetitlespan.style.display="";
      clinictypefieldspan.style.display="";
      document.UpdateForm.alenc003.className="Mandatory SelectBig";
    return;
  }
}

function SelectServiceDept()
{
  // Calls remote script to get 'Occasion of Service' list for
  // the selected department.
  selectOptions2("82",UpdateForm.alenc127,UpdateForm.alenc010);
}

function ShowHideBUnits() {
  isBillable=UpdateForm.billablef.value;
  PatientType=UpdateForm.alenc009.value.substr(4,1);

  if(isBillable==1&&(PatientType==1 || PatientType==2)) {
    BillableUnitsDIV.innerHTML=BillableUnitsSPAN2.innerHTML;
  } else {
    BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
  }
}

</script>
</head>

%START.OF.PAGE
<body onload="PageLoad(event);ShowVACS();CommonContact(UpdateForm);
              DefaultPreviousContact();">
<span class=DFrameTitleBar>
<img border=0 align=right src=../images/ExitIcon.gif onclick=DFrameExitRefresh()>
Add Contact for %ALLWEB03.01.125.0
</span>

<div id=PageBodySection>
<form id=UpdateForm name=UpdateForm action="allweb03.pbl" method=post
 onsubmit='return validateMandatory(this)'>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=001>
<input type=hidden name=nextpage value=0>
<input type=hidden name=redirect value="">
<input type=hidden name=DEFDIRCT value='%ALLWEB03.01.001.allweb03.01.001'>
<input type=hidden id=urnumber name=urnumber value='%ALLWEB03.01.003'>
<input type=hidden name=admissno value='%ALLWEB03.01.081'>
<input type=hidden name=alenc001 value='%ALLWEB03.01.081'>
<input type=hidden name=updatety value="A">
<input type=hidden name=dummyret value="">
<input type=hidden name=dummysit value="">
<input type=hidden name=dummydat value="">
<input type=hidden name=dummy1>
<input type=hidden name=d_currip id=d_currip value="">
<input type=hidden name=mbs value="M">

<input type=hidden name=alenc107 value=" ">
<input type=hidden name=alenc108 value=" ">
<input type=hidden name=billablef value='%ALLWEB03.01.302'>
<input type=hidden name=alreuyn4 value="%ALLWEB03.01.144">
<input type=hidden name=alredrec value="%ALLWEB03.01.139">
<input type=hidden name=lnktosac value="%ALLWEB03.01.312">
<input type=hidden name=claimc>
<!--<input type=hidden name=alenc009 value="">-->
<input type=hidden name=alcndoos value="%STANDARD.01.025.106.226.0.1">
<input type=hidden name=lnkoctyp value="%ALLWEB03.01.905">
<input type=hidden name=lnkoviso value="%ALLWEB03.01.912">

<input type=hidden name=prevuc37 value="%ALLWEB03.01.906">
<input type=hidden name=prevcomp value="%ALLWEB03.01.907">
<input type=hidden name=prevuc38 value="%ALLWEB03.01.908">
<input type=hidden name=prevuc40 value="%ALLWEB03.01.909">
<input type=hidden name=prevuc34 value="%ALLWEB03.01.910">
<input type=hidden name=prevuc35 value="%ALLWEB03.01.911">

<input type=hidden name=alredept value="%ALLWEB03.01.125.1">
<input type=hidden name=deptlcod value="%ALLWEB03.01.125.3">
<input type=hidden name=alcndevp value="%STANDARD.01.025.106.225.0.1">
<input type=hidden name=alcnprev value="%STANDARD.01.025.106.249.0.1">
<input type=hidden name=alreudt1 value="%ALLWEB03.01.151">
<input type=hidden name=alredact value="%ALLWEB03.01.104">
<input type=hidden name=ndisvald value="%ALLWEB03.01.936">
<input type=hidden name=CATEG_CL value="CL">
<input type=hidden name=CATEG_zH value="zH">
<input type=hidden id=CATEG_zL  name=CATEG_zL
                                 value="%STANDARD.01.018.zL.9  .9.3">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Contact Start Date</td>
    <td class=DataLabel width=40%>
      <input type=text id=alenc005 name=alenc005 value='%STANDARD.01.015' 
        title="Contact Start Date"
        class='PastDate Mandatory' Size=9
        onblur="CalcDirectUnitStartDate(UpdateForm);">
      <img src=../images/DateLookup.gif class=Icon 
        onclick="DateLookupFrame(alenc005);">
    Start Time 
      <input type=text size=8 class=Mandatory title="Contact Start Time"
        id=alenc006 name=alenc006 value='%STANDARD.01.016'
        onblur="CalcDirectUnitStartTime(UpdateForm);">
      <a href='javascript:SetCurrentDateTime(null,UpdateForm.alenc006)'>
      <img src=../images/DateTimeStamp.gif class=Icon ></a>
      <a href='javascript:TimeLookupFrame(UpdateForm.alenc006)'>
      <img src=../images/TimeLookup.gif class=Icon ></a>
    </td>
    <td class=DataLabel width=10%>Entered by</td>
    <td><input type=text name=userid value="%ALLWEB03.01.168"
           class=ReadOnly readonly></td></tr>

<tr><td class=DataLabel width=15%>Contact End Date</td>
    <td class=DataLabel width=40%>
  <input type=text id=alenc017 name=alenc017 value='%STANDARD.01.015'
    title="Contact End Date"
    class='PastDate Mandatory' Size=9
      onblur="CalcDirectUnitEndDate(UpdateForm);">
    <img src=../images/DateLookup.gif class=Icon 
         onclick="DateLookupFrame(alenc017);">
    End Time &nbsp;
    <input type=text size=8 class=Mandatory title="Contact End Time"
      id=alenc018 name=alenc018 value=''
      onblur="CalcDirectUnitEndTime(UpdateForm);">
    <a href='javascript:SetCurrentDateTime(null,UpdateForm.alenc018)'>
    <img src=../images/DateTimeStamp.gif class=Icon ></a>
    <a href='javascript:TimeLookupFrame(UpdateForm.alenc018)'>
    <img src=../images/TimeLookup.gif class=Icon ></a>
   </td>
</tr>

<tr><td class=DataLabel width=15%>Health Care Provider</td>
    <td>
    <input type=text name=alenc004 size=10 maxlength=10 class=Mandatory
     id=alenc004 onblur="ValidateHCP(18,13,alenc004,SProvider);" 
     title="Health Care Provider" value="%ALLWEB03.01.138.1">
    <input type=text name=SProvider size=24 class=Readonly readonly
      id=SProvider title="Health Care Provider" value="%ALLWEB03.01.138.0">
    <img src=../images/SearchIcon.gif class=Icon
     onclick=HCPSearchFrame(alenc004,SProvider,4) >
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(alenc004,SProvider);">
    <td><div id=LinkedHeading></div></td>
    <td><div id=Linked></div></td></tr>
</table>

<div id=Vacs></div>
<div id=Activity></div>
<div id="Units"></div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>
    <span id="clinictypetitlespan" style="display:none">
    Clinic Type
    </span>
    </td>
    <td class=DataField>
    <span id="clinictypefieldspan" style="display:none">
    <select class="SelectBig" name=alenc003
     title="Clinic Type">
    <option></option>
    %ALLWEB03.01.308
    </select>
    </span>
    </td></tr>
</table>

<div id=Items></div>

<div id="Wait" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Stay as Waiting Referral</td>
    <td class=DataField>
    <input type=checkbox name=checkbx1 value="1"></td>
    <td></td>
    <td></td>
    </tr>
</table>
</div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Client Present Status</td>
    <td class=DataField width=40%>
      <select class="Mandatory SelectBig" name=alenc083  
       title="Client Present Status">
      <option></option>
      %STANDARD.01.018.zK.   .5
      </select>
   </td>
   <td class=DataLabel>%STANDARD.01.017.CL</td>
   <td><select class="Mandatory SelectBig"
        id=alenc115 name=alenc115  title="%STANDARD.01.017.CL"
        onchange="ShowHideBill();">
    <option></option>
    %ALLWEB03.01.135.2
    </select></td>
    </tr>

<tr><td class=DataLabel>Delivery Mode</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc084  
       title="Delivery Mode">
      <option></option>
      %STANDARD.01.018.zL.   .5
      </select></td>     

    <td class=DataLabel>Delivery Setting</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc086  
       title="Delivery Setting">
      <option></option>
      %STANDARD.01.018.zN.   .5
      </select>
    </td></tr>

<tr><td class=DataLabel>Contact Purpose</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc080
       title="Contact Purpose" style="width: 300px;">
      <option></option>
      %STANDARD.01.018.zH.   .9.5
      </select></td>
    <td class=DataLabel>Session Type</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc081
       title="Session Type">
      <option></option>
      %STANDARD.01.018.zI.   .5
      </select>
    </td></tr>

<tr><td class=DataLabel width=15%>Travel Time</td>
    <td class=DataField>
    <input type=text size=12 maxlength=8 name=alenc106 title="Travel time" 
           min=0 id=alenc106
           onblur=checkInteger(this,this.title)>
    </td>
    <td class=DataLabel width=22%>The Patient is being discharged</td>
    <td class=DataField>
        <input type=checkbox name=checkbx3 value="1"></td>
    <td></td>
    </tr>

<tr><td class=DataLabel width=15%><div id="EventProgramLabel"></div></td>
    <td class=DataField><div id="EventProgramField"></div></td>
    </tr>

<tr><td class=DataLabel width=15%><div id="ServiceDepartmentLabel"></div></td>
    <td class=DataField><div id="ServiceDepartmentField"></div></td>
    <td class=DataLabel width=22%><div id="OccasionOfServiceLabel"></div></td>
    <td class=DataField><div id="OccasionOfServiceField"></div></td></tr>

</table>

<div id=InsertSACS></div>

<div id=PatientIndicatorDIV>
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
  <tr>
    <td>
      <input type=hidden name=alenc009 value="">
    </td>
  </tr>
</table>
</div>

<div id=BillableUnitsDIV>
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
 <tr>
    <td>
      <input type=hidden name=alenc012 value="0">
      <input type=hidden name=alenc014 value="0">
    </td>
 </tr>
</table>
</div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr valign=top><td class=DataLabel width=15%>Comments</td>
    <td class=DataField colspan=3>
    <textarea rows=3 cols=60 onblur=PackComments() name=comments
     id=comments onkeydown="LimitText(this,3,160);"></textarea>
    </td></tr>
</table>

<div id="HCPcheckbox" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Additional HCP</td>
    <td><input type=checkbox id=addithcp name=addithcp value="1"
         onclick="CheckUpdHCP();"></td></tr>
</table>
</div>

<div id=AdditionalHCP></div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td colspan=4 align=center><br>
    <input type=button name=formactn value="Add" class="button" id="all03sub"
     onclick='tempDisable(this);AddEncounter(UpdateForm);'>
    <input type=button Value="Cancel" class="button"
     onclick="DFrameCloseRefresh();">
    </td></tr>
</table>
</form>
</div>


<!-- start of spans -->
<span id="DisplayVacs" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>

<!--<tr><td class=DataLabel width=15%>Clinic Type</td>
    <td class=DataField><select class="SelectBig Mandatory" name=alenc003
     title="Clinic Type">
    <option></option>
    ALLWEB03.01.120.2
    </select></td></tr>-->

<tr><td class=DataLabel width=15%>Patient Type</td>
    <td><select class="Mandatory SelectBig" name=alenc009 title=" Patient Type"
        id=alenc009 onchange="ShowHideBill();">
        <option></option>
        %ALLWEB03.01.209.2
        </select></td></tr>
</table>
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Direct Units</td>
    <td class=DataField width=40%>
    <input type=text size=12 maxsize=5 name=alenc011 id=alenc011
      title="Direct Units" min=0 class=Mandatory 
      onblur="CalcContactEndDateTime(UpdateForm);"></td>
    <td class=DataLabel width=10%>Indirect Units</td>
    <td class=DataField>
    <input type=text size=12 maxsize=5 name=alenc013 title="Indirect Units" 
           min=0 id=alenc013
           onblur=checkInteger(this,this.title)>
    </td>
</tr>
</table>
</span>

<span id="DisplayActivity" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Direct Units</td>
    <td class=DataField width=40%>
    <input type=text size=12 maxsize=5 name=alenc011 id=alenc011
      title="Direct Units" min=0 class=Mandatory 
      onblur="CalcContactEndDateTime(UpdateForm);"></td>
    <td class=DataLabel width=10%>Indirect Units</td>
    <td class=DataField>
    <input type=text size=12 maxsize=5 name=alenc013 title="Indirect Units"
     min=0 onblur=checkInteger(this,this.title)></td>
    </tr>
</table>
</span>

<span id="DisplayItems" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>MBS Item 1</td>
    <td class=DataField width=40% >
    <input type=text size=10 id=itemn001 name=itemn001 title="MBS Item 1"
     class="Mandatory" onblur="validatePMBS(itemn001,dummy);">
    <input type=text size=20 name=dummy value="" readonly class=Readonly
    id=dummy>
    <img src=../images/SearchIcon.gif class=Icon
     onclick='PriMbsSearchFrame(dummyret,itemn001,dummysit,dummyret,dummy,mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(itemn001,dummy);">
     </td>
    <td class=DataLabel width=10%>MBS Item 2</td>
    <td class=DataField>
    <input type=text size=10 id=itemn002 name=itemn002 title="MBS Item 2"
     onblur="validatePMBS(itemn002,dummy2);">
    <input type=text size=20 name=dummy2 value="" readonly class=Readonly
    id=dummy2>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(dummyret,itemn002,dummysit,dummyret,dummy2,mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(itemn002,dummy2);">
    </td></tr>

<tr><td class=DataLabel width=15%>MBS Item 3</td>
    <td class=DataField>
    <input type=text size=10 id=itemn003 name=itemn003 title="MBS Item 3"
     onblur="validatePMBS(itemn003,dummy3);">
    <input type=text size=20 name=dummy3 value="" readonly class=Readonly
    id=dummy3>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(dummyret,itemn003,dummysit,dummyret,dummy3,mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(itemn003,dummy3);">
    </td>
    <td class=DataLabel width=10%>MBS Item 4</td>
    <td class=DataField>
    <input type=text size=10 id=itemn004 name=itemn004 title="MBS Item 4"
     onblur="validatePMBS(itemn004,dummy4);">
    <input type=text size=20 name=dummy4 value="" readonly class=Readonly
    id=dummy4>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(dummyret,itemn004,dummysit,dummyret,dummy4,mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(itemn004,dummy4);">
    </td></tr>

<tr><td class=DataLabel width=15%>MBS Item 5</td>
    <td class=DataField>
    <input type=text size=10 id=itmen005 name=itemn005 title="MBS Item 5"
     onblur="validatePMBS(itemn005,dummy5);">
    <input type=text size=20 name=dummy5 value="" readonly class=Readonly
    id=dummy5>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(dummyret,itemn005,dummysit,dummyret,dummy5,mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(itemn005,dummy5);">
    </td>
    <td class=DataLabel width=10%>MBS Item 6</td>
    <td class=DataField>
    <input type=text size=10 id=itemn006 name=itemn006 title="MBS Item 6"
     onblur="validatePMBS(itemn006,dummy6);">
    <input type=text size=20 name=dummy6 value="" readonly class=Readonly
    id=dummy6>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(dummyret,itemn006,dummysit,dummyret,dummy6,mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(itemn006,dummy6);">
    </td></tr>


</table>
</span>

<span id="BillableUnits" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Direct Billable Units</td>
    <td class=DataField width=40%>
    <input type=text size=12 name=alenc012 title="Direct Billable Units" min=0
     onblur=checkInteger(this,this.title) id=alenc012></td>
    <td class=DataLabel width=10%>Indirect Billable Units</td>
    <td class=DataLable>
    <input type=text size=12 title="Indirect Billable Units" min=0
    onblur=checkInteger(this,this.title) id=alenc014 name=alenc014>
    </td></tr>
    
<tr><td class=DataLabel width=15%>Bulk Billing Code</td>
    <td DataField>
    <select name=alenc015 class="SelectBig" title="Bulk Billing Code">
    <option></option>
    %ALLWEB03.01.215.2
    </select></td></tr>
</table>
</span>

<span class=DataLable id="DisplayLinkedHeading" style="display:none;">
    Linked Visit
</span>
<span class=DataField id="ReadOnlyLinked" style="display:none;">
    <input type=text size=10 name=alenc008 class="Readonly JustifyRight"
     value="%ALLWEB03.01.305" readonly>
</span>
<span class=DataField id="DisplayLinked" style="display:none;">
    <input type=text size=10 maxlength=8 name=alenc008 value="%ALLWEB03.01.305"
     id=alenc008 class="JustifyRight" onblur="justifyRight(this);
     ValidateVisit(UpdateForm.alenc008,UpdateForm.urnumber,dummy1);">
    <img src=../images/SearchIcon.gif class=Icon
    onclick=VisitSearchFrame(UpdateForm.urnumber,UpdateForm.alenc008)>
</span>

<div id=ShowSACSFields style="display: none">
<table align=center cellspacing=0 cellpadding=2 border=0 width=95%>
<tr><td class=DataLabel width=15%>Program Completion Reason</td>
    <td><select name=alref072  title="Program Completion Reason"
         class=Mandatory>
        <option></option>
         %ALLWEB03.01.140.33.2
        </select></td>
</tr>

<tr><td class=DataLabel>Case End Date</td>
 <td class=DataLabel><input type=text name=alref136 value="%ALLWEB03.01.199.007"
     id=alref136 title="Case End Date" class="Mandatory PastDate">
    <img src=../images/DateLookup.gif class=Icon date=date1
     align=absmiddle onclick="DateLookupFrame(alref136);">
     Time<input type=text size=6 title="Time" value="%ALLWEB03.01.199.008"
        class="Mandatory Time" id=alref137 name=alref137>
    <img src="../images/DateTimeStamp.gif" class=Icon
      onclick="SetCurrentDateTime(alref136,alref137);">
    <img src="../images/TimeLookup.gif" class=Icon time=time1
      onclick="TimeLookupFrame(alref137);">
    </td>
</tr>
</table>
</div>

<span id="ShowServiceDepartmentLabel" style="display:none">
  Service Department
</span>

<span id="ShowServiceDepartmentField" style="display:none">
<select class="Mandatory SelectBig" name=alenc127 title="Service Department"
  id=alenc127 onchange="SelectServiceDept();">
  <option></option>
  %ALLWEB03.01.291.9.6.08.2. 
  </select>
</span>

<span id="ShowOccasionOfServiceLabel" style="display:none">
  Occasion of Service
</span>

<span id="ShowOccasionOfServiceField" style="display:none">
  <select class="Mandatory SelectBig" name=alenc010 title="Occasion of Service">
  </select>
</span>

<span id="ShowEventProgramLabel" style="display:none">
  Event Program
</span>

<span id="ShowEventProgramField" style="display:none">
  <select class="Mandatory SelectBig" name=alenc079 title="Event Program"
   id=alenc079 onchange="filterContactPurpose(UpdateForm);
                         filterNDISContactCL(UpdateForm);">
  <option></option>
  %ALLWEB03.01.199.016.2
  </select>
</span>

<span id="ShowAdditionalHCP" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Additional HCP 1</td>
    <td><input type=text name=alenc025 size=10 maxlength=10
         id=alenc025 title="Additional HCP 1"
         onblur="ValidateHCP(18,0,alenc025,d_alenc025);">
        <input type=text name=d_alenc025 size=20 class=Readonly readonly
         id=d_alenc025 title="Additional HCP 1">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc025,d_alenc025,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(alenc025,d_alenc025);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 2</td>
    <td><input type=text name=alenc026 size=10 maxlength=10
         id=alenc026 title="Additional HCP 2"
         onblur="ValidateHCP(18,0,alenc026,d_alenc026);">
        <input type=text name=d_alenc026 size=20 class=Readonly readonly
         id=d_alenc026 title="Additional HCP 2">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc026,d_alenc026,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(alenc026,d_alenc026);">
    </td></tr>

<tr><td class=DataLabel width=15%>Additional HCP 3</td>
    <td><input type=text name=alenc027 size=10 maxlength=10
         id=alenc027 title="Additional HCP 3"
         onblur="ValidateHCP(18,0,alenc027,d_alenc027);">
        <input type=text name=d_alenc027 size=20 class=Readonly readonly
         id=d_alenc027 title="Additional HCP 3">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc027,d_alenc027,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(alenc027,d_alenc027);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 4</td>
    <td><input type=text name=alenc028 size=10 maxlength=10
         id=alenc028 title="Additional HCP 4"
         onblur="ValidateHCP(18,0,alenc028,d_alenc028);">
        <input type=text name=d_alenc028 size=20 class=Readonly readonly
         id=d_alenc028 title="Additional HCP 4">
        <img src=../images/SearchIcon.gif class=Icon
         onclick=HCPSearchFrame(alenc028,d_alenc028,0) >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(alenc028,d_alenc028);">
    </td></tr>
</table>
</span>

<span id="PatientIndicatorSPAN1" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
  <tr>
    <td>
      <input type=hidden name=alenc009 value="">
    </td>
  </tr>
</table>
</span>

<span id="PatientIndicatorSPAN2" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
  <tr><td class=DataLabel width=15%>Patient Indicator</td>
    <td><select class="Mandatory SelectBig" id=alenc009 name=alenc009
         title="Patient Indicator" onchange="ShowHideBUnits();">
         <option></option>
         %ALLWEB03.01.209.2
         </select></td></tr>
</table>
</span>

<span id="BillableUnitsSPAN1" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
  <tr>
    <td>
      <input type=hidden name=alenc012 value="0">
      <input type=hidden name=alenc014 value="0">
    </td>
  </tr>
</table>
</span>

<span id="BillableUnitsSPAN2" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Direct Billable Units</td>
    <td class=DataField width=40%>
    <input type=text size=12 name=alenc012 title="Direct Billable Units" min=0
     id=alenc012 onblur=checkInteger(this,this.title) ></td>
    <td class=DataLabel width=15%>Indirect Billable Units</td>
    <td class=DataField>
    <input type=text size=12 title="Indirect Billable Units" min=0
    onblur=checkInteger(this,this.title) name=alenc014>
    </td></tr>
</table>
</span>

<script type="text/javascript">
 displayClinicType();
 if(document.UpdateForm.alenc003!=undefined) {
   for (var i =0 ; i < document.UpdateForm.alenc003.length; i++) {
      if (document.UpdateForm.alenc003.options[i].value == 
          document.UpdateForm.lnkoctyp.value) {
         document.UpdateForm.alenc003.selectedIndex=i } 
   }
 }

 if (!isWhitespace(document.UpdateForm.prevcomp.value)) {
   for (var i =0 ; i < document.UpdateForm.alenc115.length; i++) {
    if (document.UpdateForm.alenc115.options[i].value.substr(0,3) ==
        document.UpdateForm.prevcomp.value) {
       document.UpdateForm.alenc115.selectedIndex=i }
   }
 }

 if(%ALLWEB03.01.915.12==1){
   document.getElementById("HCPcheckbox").style.display="block";
 }

</script>
