<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" 
 src="../js/AutoSuggestionPopup/AutoSuggestionPopup.class.js"></script>
<script type="text/javascript" src="../js/patweb9801207.js"></script>
<script type="text/javascript" src="../js/PrinterMapping.js"></script>
<script type="text/javascript" src="../js/CustomPrint.js"></script>
<script type="text/javascript" src="../js/CustomOrderSets.js"></script>

<title>Clinical Order</title>
%START.OF.PAGE
<style type=text/css>
.searchInput {
 width:250px;
}
.showResultIconZZ, .showResultIcon {
  background: url("../images/AlertSprite.png") -0px -0px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconCH, .showResultIconBI {
  background: url("../images/AlertSprite.png") -100px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconRX, .showResultIconCR {
  background: url("../images/AlertSprite.png") -80px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconRA {
  background: url("../images/AlertSprite.png") -80px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconHM, .showResultIconHA {
  background: url("../images/AlertSprite.png") -140px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconIG {
  background: url("../images/AlertSprite.png") -140px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconMB, .showResultIconMC, .showResultIconMI {
  background: url("../images/AlertSprite.png") -0px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconSP, .showResultIconVI {
  background: url("../images/AlertSprite.png") -160px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconEC {
  background: url("../images/AlertSprite.png") -120px -0px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconCP, .showResultIconCY {
  background: url("../images/AlertSprite.png") -20px -94px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconHB, .showResultIconTR {
  background: url("../images/AlertSprite.png") -60px -94px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconOT {
  background: url("../images/AlertSprite.png") -80px -80px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconDD {
  background: url("../images/AlertSprite.png") -60px -160px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconLA {
  background: url("../images/AlertSprite.png") -140px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconME {
  background: url("../images/AlertSprite.png") -140px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconOS {
  background: url("../images/AlertSprite.png") -125px -94px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconSR {
  background: url("../images/AlertSprite.png") -160px -160px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconBL, .showResultIconID {
  background: url("../images/AlertSprite.png") -120px -180px no-repeat;
  width:20px;
  height:20px;
}
.showResultIconIM {
  background: url("../images/AlertSprite.png") -120px -180px no-repeat;
  width:20px;
  height:20px;
}
ul.sectionList {
 padding: 0px;
 margin-left: 10px;
 margin-top: 5px;
 margin-right: 10px;
 margin-bottom: 5px;          /* Set each list 17 pixels from the top of the button bar(or the top of the next list) */
 font-size: 15px;
 font-family: Helvetica, sans-serif;
 font-weight: bold;
 background-color: rgb(255,255,255);    /* Each list has a white background fill */
 color: rgb(0,0,0);
 border-width: 1px;             /* Draw a rectangle around each list */
 border-style: solid ;
 border-color: rgb(217,217,217);
 -webkit-border-radius: 8px;      /* Round each corner of the created rectangle */
 border-radius: 8px;      /* Round each corner of the created rectangle */
 border:0px !important;
}
li.sectionItem {
 font-weight:normal;
 list-style-type: none;
 line-height: 25px;
 border-top-width: 1px;    /* Create lines between cells. Each line is placed above each item */
 border-top-style: solid;
 border-top-color: rgb(217,217,217);
 padding-top: 10px;
 padding-right: 10px;
 padding-bottom: 14px;    /* Indent the cell content 14 pixels from the bottom edge of a cell */
 padding-left: 10px;
}
li.sectionItem:first-child {
 border-top: 0px;     /* Remove border above the first item of the list */
}
.WaitBox {
  display:none;
  border:5px solid #999;
  position:absolute;
  text-align:center;
  vertical-align:middle;
  top:100px;
  left:40%;
  right:40%;
  width:200px;
  height:145px;
  background: #ffffff;
  color:#333;
}
.WaitImage {
  margin-top:20px;
  vertical-align:middle;
}
.labelText {
 width:25%;
 vertical-align:top;
 display:inline-block;
 text-transform:lowercase;
}
.sectionText  {
 padding-left:4px;
 text-align:left;
 font-weight: normal;        /* Regular font is used for secondary text */
 color: rgb(50,79,133);     /* Override the font color */
 width:65%;
 display:inline-block;
}
.RightSearchIcon {
 background: url("../images/AlertSprite.png")  -180px -80px no-repeat;
 width:20px;
 height:20px;
 display:inline-block;
 text-align:center;
}
tr { 
  vertical-align:top;
}
</style>
<script type="text/javascript">
function init() {
  if (DisablePage('%PATWEB98.01.905','%PATWEB98.01.105.1')) {
      alert("Requests are not enabled for patient." + 
                   "[Type:%PATWEB98.01.905 " + "]-" +
                   "[Ward:%PATWEB98.01.105.1" + "]");
      DFrameExit();
  }
  LoadPage();
  SetPrinterByPatient(UpdateForm.selprint,'%PATWEB98.01.905',
                       '%PATWEB98.01.081','%PATWEB98.01.105.1');
  if (!isWhitespace('%PATWEB98.01.931.1')) {
    if ('%PATWEB98.01.931.1'!='%PATWEB98.01.759') {
      AddDoctor('%PATWEB98.01.931.1',
      trim('%PATWEB98.01.931.0')+ '(GP)');
    }
  }
  if (!isWhitespace('%PATWEB98.01.759')) {
    AddDoctor('%PATWEB98.01.759',
    trim('%PATWEB98.01.784.005')+', '+
    trim('%PATWEB98.01.784.003')+' '+
    trim('%PATWEB98.01.784.004')+'(GP)');
  }
  if (isWhitespace(document.UpdateForm.r_userdoct.value)) {
    el=document.getElementById("orderedby");
    el.style.display="";
    if(document.UpdateForm.r_doctcode.value.split("|").length>1) {
      AddDoctor(document.UpdateForm.r_doctcode.value.split("|")[0],
                document.UpdateForm.r_doctname.value.split("|")[0]);
      AddDoctor(document.UpdateForm.r_doctcode.value.split("|")[1],
                document.UpdateForm.r_doctname.value.split("|")[1]);
    } else {
      AddDoctor(document.UpdateForm.r_doctcode.value,
                document.UpdateForm.r_doctname.value);
    }
    document.UpdateForm.orderhcp.className="Mandatory"
    document.UpdateForm.n_orderhcp.className="searchFormInput Mandatory"
  }
  edd=document.UpdateForm.r_exptdisc.value.replace(/\n/,"");
  tdd=document.UpdateForm.currdate.value;
  if(edd.substr(0,13)==tdd.substr(0,13)) {
    alertify.alert("Please Note Patient is Expected to be Discharge Today.\n"+
                   "Order will be Marked as Urgent.")
    document.UpdateForm.clnot006.selectedIndex=0;
    document.UpdateForm.notetext.value="EDD:"+edd;
  }
}
function CheckHCP(el) {
  if (isWhitespace(document.UpdateForm.orderhcp.value)) {
    document.UpdateForm.n_orderhcp.value="";
    alert("Please Search and Select a Valid HCP.")
  }
}
function checkEDD(el) {
  if (el.selectedIndex==0) {
    setDefaultTime(document.UpdateForm.selectOrdertim,document.UpdateForm.currtime.value);
  } else {
    setDefaultTime(document.UpdateForm.selectOrdertim,"06:58");
  }
  edd=document.UpdateForm.r_exptdisc.value.replace(/\n/,"");
  eod=el.options[el.selectedIndex].value;
  if(edd.substr(0,13)==eod.substr(0,13)) {
    alertify.alert("Please Note Patient is Expected to be Discharge on this Date.\n"+
                   "Order will be Marked as Urgent.")
    document.UpdateForm.clnot006.selectedIndex=0;
    document.UpdateForm.notetext.value="EDD:"+edd;
  }
}
</script>
</head>
<body onload="PageLoad(event);">
<form name=UpdateForm method=post action="cliweb06.pbl" >
<input type=hidden name=reportno value="1"> 
<input type=hidden name=template value="1"> 
<input type=hidden name=nextpage value="5"> 
<input type=hidden name=urnumber value="%PATWEB98.01.003"> 
<input type=hidden name=admissno value="%PATWEB98.01.081"> 
<input type=hidden name=formactn value="A2"> 
<input type=hidden name=clnot001 value="   "> 
<input type=hidden name=ordertyp value="1"> 
<input type=hidden name=formtype value=""> 
<input type=hidden name=statncod value="CLIORD"> 
<input type=hidden name=patientSex value="%PATWEB98.01.019"> 
<input type=hidden name=patientAge value="%PATWEB98.01.021"> 
<input type=hidden name=currdate value="%STANDARD.01.015">
<input type=hidden name=currtime value="%STANDARD.01.016">
<input type=hidden name=orderdte value="%STANDARD.01.015">
<input type=hidden name=ordertim value="%STANDARD.01.016">
<input type=hidden name=optfld15 value="">
<input type=hidden name=optnam15 value="">
<input type=hidden name=r_userdoct value="%STANDARD.01.010">
<input type=hidden name=r_doctcode value="%PATWEB98.01.082.003">
<input type=hidden name=r_doctname value="%PATWEB98.01.082.002">
<input type=hidden name=r_exptdisc value="%PATWEB98.01.825.4">

<ul class='sectionList' style="margin-bottom:0px;">
  <li class='sectionItem'
   onclick='location.reload()'>
    <div style='text-align:center;font-family:Arial;'>
      %PATWEB98.01.002
      (%PATWEB98.01.019,  %PATWEB98.01.020,  %PATWEB98.01.021, %PATWEB98.01.003) <br />
    </div>
  </li>
</ul>

<table border="0" cellspacing=0 cellpadding=1 width=100%>
<tr valign=top>
<td>
  <ul class='sectionList'>
    <li class='sectionItem'>
      <span class="labelText">request date/time</span>
      <span class="sectionText">
      <select class="Mandatory" name=selectOrderdte onchange='checkEDD(this);'>
      </select>
      <select class="Mandatory" name=selectOrdertim>
      </select>
      </span>
    </li>

    <li class='sectionItem'>
    <span class=labelText>priority</span>
    <span class=sectionText>
        <select name="clnot006" >
        <option value="urgent">Urgent </option>
<!--        <option value="semi urgent">Semi-Urgent </option>-->
        <option value="routine" selected>Routine </option>
        <option value="Post Discharge">Post Discharge</option>
        </select>
    </span>
    </li>
    <li class='sectionItem' id=orderedby style='display:none'>
    <span class=labelText>ordered for</span>
    <span class=sectionText>
        <input type=hidden name=orderhcp id=orderhcp  title="Ordering Doctor">
        <input type=text   name=n_orderhcp size=35
         searchType="3" returnId="orderhcp"
         onfocus="this.value='';document.UpdateForm.orderhcp.value='';" 
         onkeyup="AutoSuggest();" 
         onblur="setTimeout(CheckHCP,200);">
    </span>
    </li>
    <li class='sectionItem'>
     <span class=labelText>investigations </span>
     <span class=sectionText>
        <div id="services">
        </div>
     </span>
     <span class=RightSearchIcon onclick='displayServiceSearchPanel();'></span>
    </li>

    <li class='sectionItem' id='field01' style='display:none'>
    <span class=labelText>Number of Units</span>
    <span class=sectionText>
    <input type=hidden name=optnam01  value="Number of Units :">
    <select id=optfld01 name=optfld01 onchange='setField01(this);' title="Units">
    <option></option>
    <option value=1>1 Unit</option>
    <option value=2>2 Units</option>
    <option value=3>3 Units</option>
    <option value=4>4 Units</option>
    <option value=5>5 Units</option>
    <option value=6>6 Units</option>
    </select> 
    <span id='field02' style='display:none'>
    <input type=hidden name=optnam02  value="Type of Units :">
    <select id=optfld02 name=optfld02 onchange='setField02(this);' title="Type of Units">
    <option value="">Select Type</option>
    <option value=1>RBC</option>
    </select>
    </span>
    </span>
    </li>

    <li class='sectionItem' id='field03' style='display:none'>
    <span class=labelText>special requirements</span>
    <span class=sectionText>
    <input type=hidden name=optnam03  value="Special Requirements :">
    <select id=optfld03 name=optfld03 onchange='setField03(this);' title="Special Requirements">
    <option></option>
    <option value=1>None </option>
    <option value=2>Irradiated</option>
    <option value=3>CMV Negative</option>
    <option value=4>Filtered</option>
    <option value=5>Washed</option>
    <option value=6>IgA deficient </option>
    <option value=7>Low Haemolysin </option>
    <option value=8>Hyperconcentrated</option>
    </select>
    </span>
    </li>

    <li class='sectionItem' id='field04' style='display:none'>
    <span class=labelText>reason for transfusion</span>
    <span class=sectionText>
    <input type=hidden name=optnam04  value="Reason for Transfusion :">
    <select id=optfld04 name=optfld04 onchange='setField04(this);' title=Reason>
    <option></option>
    <option value=1>Pre-operative</option>
    <option value=2>Anaemia</option>
    <option value=3>Other(See Notes)</option>
    </select>
    </span>
    </li>

    <li class='sectionItem' id='field05' style='display:none'>
    <span class=labelText>operation </span>
    <span class=sectionText>
    <input type=hidden name=optnam05  value="Operation :">
    <input id=optfld05 name=optfld05 type=text size=40 onblur='setField05(this);'>
    </span>
    </li>

    <li class='sectionItem' id='field06' style='display:none'>
    <span class=labelText>operation date/time</span>
    <span class=sectionText>
    <input type=hidden name=optnam06  value="Operation Date :">
    <input id=optfld06 name=optfld06 type=text size=14 class=Date 
     onblur='checkDate(this,"Operation Date");setField06(this);'>
    </span>
    </li>

    <li class='sectionItem' id='field08' style='display:none'>
    <span class=labelText>transfusion in last 3 months</span>
    <span class=sectionText>
    <input type=hidden name=optnam08  value="Transfusion in last 3 Months :">
    <select id=optfld08 name=optfld08 onchange='setField08(this);' title="Transfusion Status">
    <option></option>
    <option value=Yes>Yes</option>
    <option value=No>No</option>
    </select>
    </span>
    </li>

    <li class='sectionItem' id='field09' style='display:none'>
    <span class=labelText>pregnant last 3 months</span>
    <span class=sectionText>
    <input type=hidden name=optnam09  value="Pregnant in last 3 Months :">
    <select id=optfld09 name=optfld09 onchange='setField09(this);' title="Pregnancy Status">
    <option></option>
    <option value=Yes>Yes</option>
    <option value=No>No</option>
    </select>
    </span>
    </span>
    </li>

    <li class='sectionItem' id='field10' style='display:none'>
    <span class=labelText>Haemoglobin</span>
    <span class=sectionText>
    <input type=hidden name=optnam10  value="Haemoglobin :">
    <input id=optfld10 type=text name=optfld10 size=5 class=number onblur='setField10(this);'> g/L
    </span>
    </li>

    <li class='sectionItem' id='field11' style='display:none'>
    <span class=labelText>blood product</span>
    <span class=sectionText>
    <input type=hidden name=optnam11  value="Blood Product :">
    <select id=optfld11 name=optfld11 onchange='setField11(this);' title="Blood Product">
    <option></option>
    <option value=1>FFP </option>
    <option value=2>Platelets</option>
    <option value=3>Cryoprecipitate</option>
    <option value=9>Other(See Notes)</option>
    </select>
    </span>
    </li>

    <li class='sectionItem' id='field12' style='display:none'>
    <span class=labelText>INR</span>
    <span class=sectionText>
    <input type=hidden name=optnam12  value="INR :">
    <input id=optfld12 type=text name=optfld12 size=5 class=number onblur='setField12(this);'>
    </span>
    </li>

    <li class='sectionItem' id='field13' style='display:none'>
    <span class=labelText>platelets</span>
    <span class=sectionText>
    <input type=hidden name=optnam13  value="Platelets :">
    <input id=optfld13 type=text name=optfld13 size=5 class=number onblur='setField13(this);'>
    10<sup>9</sup>/L
    </span>
    </li>

    <li class='sectionItem' id='field14' style='display:none'>
    <span class=labelText>fibrinogen</span>
    <span class=sectionText>
    <input type=hidden name=optnam14  value="Fibrinogen :">
    <input id=optfld14 type=text name=optfld14 size=5 class=number onblur='setField14(this);'> g/L
    </span>
    </li>

    <li class='sectionItem' id='field16' style='display:none'>
    <span class=labelText>component product</span>
    <span class=sectionText>
    <input type=hidden name=optnam16  value="Component Product :">
    <select id=optfld16 name=optfld16 onchange='setField16(this);' title="Component Product">
    <option></option>
    <option value=01>Intragam P</option>
    <option value=02>Octogam 5 percent</option>
    <option value=03>Octogam 10 percent</option>
    <option value=04>Kiovig</option>
    <option value=05>Albumex 4</option>
    <option value=06>Albumex 20</option>
    <option value=07>Biostate</option>
    <option value=08>MonoFix-VF</option>
    <option value=09>ProthrombinX-VF</option>
    <option value=10>Rh (D) Immunoglobulin 250</option>
    <option value=11>Rh (D) Immunoglobulin 625</option>
    <option value=12>Zoster Immunoglobulin</option>
    <option value=13>Tetanus Immunoglobulin-VF 250IU</option>
    <option value=14>Hepatitus B Immunoglobulin</option>
    <option value=99>Other (see Clinical Notes)</option>
    </select>
    </span>
    </li>

    <li class='sectionItem'>
    <span class=labelText>copy to</span>
    <span class=sectionText>
        <div id="doctors">
        </div>
    </span>
    <span class=RightSearchIcon onclick='displayDoctorSearchPanel();'></span>
    </li>

    <li class='sectionItem'>
    <span class=labelText>clinical notes </span>
    <span class=sectionText>
    <textarea title='clinical details' name="notetext" 
     onfocus='listNoteText();'
     onkeyup='notesText(this,300,event);'
     cols=30 rows=3></textarea>
    </span>
    </li>

    <li class="sectionItem" id="RepeatSection" style="display:none">
    <span class="labelText">repeat</span>
    <span class="sectionText">
        <select name="repeatcd" title="Repeat Order">
        </select>
    </span>
    </li>

    <li class='sectionItem'>
    <span class=labelText>Form Printer</span>
    <span class=sectionText>
    <select name=selprint title="Printer" class='Mandatory'>
        <option></option>
        %STANDARD.01.001.PATWEB70.02
        </select></span>
    </li>

    <li class='sectionItem'>
    <span class=labelText>Number of Copies </span>
    <span class=sectionText>
    <select name=nocopies title='Number of Copies' class='Mandatory' >
    </select>
    </span>
    </li>
  </ul>
  <br>
  </td>
  <td width=35%>
    <div id='noteList' style='display:none'>
      <div id=NoteResults></div>
    </div>
    <div id='doctorList' style='display:none'>
       <ul class=sectionList>
         <li class='sectionItem searchBox' style='text-align:center;'>Copy To Doctor
           <div class=searchBoxDiv>
             <input id='searchText' type='text' 
                    class='searchInput' placeHolder='Doctor Search ' 
                    size='30' value='' 
                    onkeyup='checkType(this,doctorSearch,"searchDoctor",event);' />
          </div>
        </li>
      </ul>
      <ul class="sectionList" id="searchDoctor"></ul>
    </div>
    <div id='serviceList'>
    <ul class='sectionList'>
      <li class='sectionItem' style='text-align:center'>
        <select title="Search Type" id="searchType"
                onchange="showOptions(this.value)"
                name=searchType style='width:250px;'>
        </select>
        <select id="serviceFilter" style="width:250px;" 
                title="Diagnostic Service Filter"
                onchange='changeType(this.value)'
                name=serviceFilter >
        </select>
        <select id="groupFilter" style="display:none;width:250px;" 
                title="Order Set Group"
                onchange='ShowOrderSets()'
                name=groupFilter>
        </select>
        <input id='searchOrderText' type='text' style="display:none;width:250px;"
          class='searchInput' placeHolder='Search' 
          size='30' value='' onkeyup='checkType(this,SearchOrderCodes,"searchItems",event);' /> 
      </li>

    </ul>
    <div id=SearchResults></div>
    </div>
  </td>
  </tr>
  </table>
</form>

<span id=DisplaySaving class=WaitBox>
<img class=WaitImage src=../images/waitImage.gif>
<p>Sending Requests</p>
</span>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB98.01.003">
<input type=hidden name=admissno value="%PATWEB98.01.081">
<input type=hidden name=wardcode value="%PATWEB98.01.105.1">
</form>

<div id='-suggestion-panel-wrapper' style='display:none;'>
 <div id='-suggestion-panel-wrapper2' style='width:100%'>
  <ul id='-suggestion-table' style='width:100%'></ul>
 </div>
</div>

