<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName" content="NoContextSet.html">
<script type="text/javascript" src="../js/TableSort.js"></script>
<script type="text/javascript">
function linkPatient(VisitNo,Urnumber,VisitType) {
  if (VisitType=="3") {
      document.PatientLinks.action="patweb71.pbl"
      document.PatientLinks.reportno.value="1"
      document.PatientLinks.template.value="001"
      document.PatientLinks.updttype.value=" "
      document.PatientLinks.admissno.value=VisitNo
      document.PatientLinks.urnumber.value=Urnumber
      document.PatientLinks.showhead.value=document.UpdateForm.showhead.value
      document.PatientLinks.submit()
  }
  if (VisitType=="2") {
      document.PatientLinks.action="outweb07.pbl"
      document.PatientLinks.reportno.value="1"
      document.PatientLinks.template.value="001"
      document.PatientLinks.admissno.value=VisitNo
      document.PatientLinks.urnumber.value=Urnumber
      document.PatientLinks.showhead.value=document.UpdateForm.showhead.value
      document.PatientLinks.submit()
  }
  if (VisitType=="1") {
      document.PatientLinks.action="emrweb04.pbl"
      document.PatientLinks.reportno.value="1"
      document.PatientLinks.template.value="001"
      document.PatientLinks.admissno.value=VisitNo
      document.PatientLinks.urnumber.value=Urnumber
      document.PatientLinks.showhead.value=document.UpdateForm.showhead.value
      document.PatientLinks.submit()
  }
}
function ShowVisits() {
  document.UpdateForm.gosubflg.value="1";
  if ((document.UpdateForm.filtvtyp.value=="1") ||
      (document.UpdateForm.filtvtyp.value=="2")) {
       document.UpdateForm.filtoptn.value="0";
  }
  InvoicePendingFilt=0;
  document.UpdateForm.submit();
}
function ResetSearch() {
  serverURL = "../cgi-bin/patweb71.pbl?reportno=08&template=002" +
              "&filtvtyp=" + UpdateForm.filtvtyp.value +
              "&filthfnd=" + UpdateForm.filthfnd.value +
              "&filtclam=" + UpdateForm.filtclam.value +
              "&filtoptn=" + UpdateForm.filtoptn.value +
              "&filthold=" + UpdateForm.filthold.value +
              "&filtcodd=" + UpdateForm.filtcodd.value +
              "&norecord=" + UpdateForm.norecord.value
    location.href=serverURL
}
function SetInvPndCookies() {
  SetCookie("InvoicePendingVT",document.UpdateForm.filtvtyp.value);
  SetCookie("InvoicePendingCT",document.UpdateForm.filtclam.value);
  SetCookie("InvoicePendingHF",document.UpdateForm.filthfnd.value);
  SetCookie("InvoicePendingOP",document.UpdateForm.filtoptn.value);
  SetCookie("InvoicePendingHOLD",document.UpdateForm.filthold.value);
  SetCookie("InvoicePendingCODD",document.UpdateForm.filtcodd.value);
  SetCookie("InvoicePendingPath",location.href);
}
function RetInvPndCookies() {
  InvoicePendingVT=GetCookieData("InvoicePendingVT");
  InvoicePendingCT=GetCookieData("InvoicePendingCT");
  InvoicePendingHF=GetCookieData("InvoicePendingHF");
  InvoicePendingOP=GetCookieData("InvoicePendingOP");
  InvoicePendingHOLD=GetCookieData("InvoicePendingHOLD");
  InvoicePendingCODD=GetCookieData("InvoicePendingCODD");

  InvoicePendingFilt=0;
  if ((InvoicePendingVT!="" && InvoicePendingVT!="unknown") ||
      (InvoicePendingCT!="" && InvoicePendingCT!="unknown") ||
      (InvoicePendingHF!="" && InvoicePendingHF!="unknown") ||
      (InvoicePendingOP!="" && InvoicePendingOP!="unknown") ||
      (InvoicePendingCODD!="" && InvoicePendingCODD!="unknown") ||
      (InvoicePendingHOLD!="" && InvoicePendingHOLD!="unknown")) {
       InvoicePendingFilt=1;
  }
  if (InvoicePendingVT!="" && InvoicePendingVT!="unknown") {
    for (var i=0; i<document.UpdateForm.filtvtyp.length; i++) {
      if (document.UpdateForm.filtvtyp.options[i].value==InvoicePendingVT) {
        document.UpdateForm.filtvtyp.selectedIndex=i;
      }
    }
  }
  if (InvoicePendingCT!="" && InvoicePendingCT!="unknown") {
    for (var i=0; i<document.UpdateForm.filtclam.length; i++) {
      if (document.UpdateForm.filtclam.options[i].value==InvoicePendingCT) {
        document.UpdateForm.filtclam.selectedIndex=i;
      }
    }
  }
  if (InvoicePendingHF!="" && InvoicePendingHF!="unknown") {
    for (var i=0; i<document.UpdateForm.filthfnd.length; i++) {
      if (document.UpdateForm.filthfnd.options[i].value==InvoicePendingHF) {
        document.UpdateForm.filthfnd.selectedIndex=i;
      }
    }
  }
  if (InvoicePendingOP!="" && InvoicePendingOP!="unknown") {
    for (var i=0; i<document.UpdateForm.filtoptn.length; i++) {
      if (document.UpdateForm.filtoptn.options[i].value==InvoicePendingOP) {
        document.UpdateForm.filtoptn.selectedIndex=i;
      }
    }
  }
  if (InvoicePendingHOLD!="" && InvoicePendingHOLD!="unknown") {
    for (var i=0; i<document.UpdateForm.filthold.length; i++) {
      if (document.UpdateForm.filthold.options[i].value==InvoicePendingHOLD) {
        document.UpdateForm.filthold.selectedIndex=i;
      }
    }
  }
  if (InvoicePendingCODD!="" && InvoicePendingCODD!="unknown") {
    for (var i=0; i<document.UpdateForm.filtcodd.length; i++) {
      if (document.UpdateForm.filtcodd.options[i].value==InvoicePendingCODD) {
        document.UpdateForm.filtcodd.selectedIndex=i;
      }
    }
  }
  document.cookie="InvoicePendingVT=";
  document.cookie="InvoicePendingCT=";
  document.cookie="InvoicePendingHF=";
  document.cookie="InvoicePendingOP=";
  document.cookie="InvoicePendingHOLD=";
  document.cookie="InvoicePendingCODD=";
  document.cookie="InvoicePendingPath=";

//  if (InvoicePendingFilt==1) {
//    ShowVisits();
//  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);initTable(0);RetInvPndCookies();
              CheckHealthFundSelect();">

<form name="PatientLinks" method="get" style="margin:0">
 <input type="hidden" name="reportno" value="8">
 <input type="hidden" name="template" value="004">
 <input type="hidden" name="urnumber" value="%PATWEB71.08.003">
 <input type="hidden" name="admissno" value="%PATWEB71.08.081">
 <input type="hidden" name="updttype" value="">
 <input type="hidden" name="MenuType" value="%PATWEB71.08.088">
 <input type="hidden" name="chngdate" value="%PATWEB71.08.208">
 <input type="hidden" name="showhead" value="%PATWEB71.08.216">
</form>

<form name="UpdateForm" action="patweb71.pbl" method=get style="margin:0">
  <input type="hidden" name="reportno" value="8">
  <input type="hidden" name="template" value="002">
  <input type="hidden" name="updttype" value=" ">
  <input type="hidden" name="catCLdes" id=catCLdes value="%STANDARD.01.017.CL">
  <input type="hidden" name="ptcnhitc" id=ptcnhitc 
                       value="%STANDARD.01.025.112.102.0.1">
  <input type="hidden" name="ptcnhdps" id=ptcnhdps 
                       value="%STANDARD.01.025.080.250.1.1">
  <input type="hidden" name="tscookie" id=tscookie value="patweb7108002">
  <input type="hidden" name="showhead" id=showhead value="%PATWEB71.08.216">
  <input type="hidden" name="gosubflg" id=gosubflg value="%PATWEB71.08.221">

  <table cellpadding="3" bgcolor="#CCCCCC" border="0" width="100%">
  <tr><td>Visit Type&nbsp;
          <select name="filtvtyp" id="filtvtyp" class="PMenuSelectList" title="Visit Type">
            <option value="0">All</option>
            <option value="1">Emergency</option>
            <option value="2">Outpatient</option>
            <option value="3">Inpatient</option>
          </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

          %STANDARD.01.017.CL&nbsp;
          <select name="filtclam" id="filtclam" class="SelectMed" title="%STANDARD.01.017.CL">
            <option>All</option>
            %PATWEB71.08.206.9.1.10.2.X
           </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

          Health Fund Group&nbsp;
          <select name="filthfgp" id="filthfgp" class="SelectMed"
           title="Health Fund Group" onclick="CheckHealthFundSelect();">
            <option>All</option>
            %PATWEB71.08.222
          </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

          Health Fund&nbsp;
          <select name="filthfnd" id="filthfnd" class="SelectMed"
           title="Health Fund" onclick="CheckHealthFundSelect();">
            <option>All</option>
            %PATWEB71.08.205.2
          </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

          Option&nbsp;
          <select name="filtoptn" id="filtoptn" class="PMenuSelectList" title="Option">
            <option value="0">All Patients</option>
            <option value="1">Discharged Only</option>
          </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

          Coded&nbsp;
          <select name="filtcodd" id="filtcodd" class="PMenuSelectList" title="Coded">
            <option value=" ">All</option>
            <option value="1">Coded Only</option>
          </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

          Reason for Hold Invoice&nbsp;
          <select name="filthold" id="filthold" class="SelectMed" title="Reason for Hold Invoice">
            <option value="">All</option>
            %PATWEB71.08.215.2
          </select>&nbsp;&nbsp;

          <input type=button value="Go" class=SlimButton onclick="ShowVisits();CheckHealthFundSelect();">
  </td></tr>
  </table>
</form>

<div id="TableLocation"></div>

<span id=WaitBoxDisplay class=WaitBox style="display:none">
<img class=WaitImage src="../images/wait.gif">
<p>Please Wait ...</p>
</span>

<div id=PageLayer class=DimmedLayer style="display:none"></div>

<script type="text/javascript">
function initTable(TableView) {
 ShowWaitScreen();

 window.setTimeout(function() {
  switch (TableView) {
   case 0: {
    document.title="Invoice Pending List"
    t = new Table(1,0,1,"100%","center",35,35); // Create New Table Object
    template = 2
  // Add Columns in Order Required

  // Heading,Type,Display Column,Sort Column,Align
    t.addColumn("Visit No.","String",1,1,"left","EditIcon.gif","0",70)
    t.addColumn("U/R No","String",2,2,"left","","",35)
    t.addColumn("Visit Type","String",3,3,"left","","",20)
    t.addColumn("Name","String",4,12,"left","","",100)
    t.addColumn("Visit Date","Date",5,5,"left","","",65)
    t.addColumn("Disch. Date","Date",6,6,"left","","",65)
    t.addColumn(document.UpdateForm.catCLdes.value,"String",7,7,"left","","",55)
    t.addColumn("Coding Complete","String",8,8,"left","","",65)
    if (document.UpdateForm.ptcnhitc.value=="1") {
        t.addColumn("Theatre Comp.","String",9,9,"left","","",60)
    }
    if (document.UpdateForm.ptcnhdps.value=="1") {
        t.addColumn("Contract","String",10,10,"left","","",25)
    } else {
        t.addColumn("Health Fund Group","String",15,15,"left","","",50)
        t.addColumn("Health Fund","String",10,10,"left","","",50)
    }
    t.addColumn("Patient Class","String",11,11,"left","","",55)
    t.addColumn("Reason for Hold","String",13,13,"left","","",55)

  // Add Rows to Table (Output from Web Server)
  //
    AddTableRows();
    t.sortTable(1,1);                              // Patient Name
    OrderColumn=5;
    AscDsc=1;
    lastOrderColumn=OrderColumn;
    TableOutput(OrderColumn,AscDsc,template);
    LoadSortCookie();
    HideWaitScreen();
    break; }
  }
 },50);
}

FilterVis="%PATWEB71.08.204";
for (var i =0 ; i < document.UpdateForm.filtvtyp.length; i++) {
 if (document.UpdateForm.filtvtyp.options[i].value==trim(FilterVis)) {
     document.UpdateForm.filtvtyp.selectedIndex=i;
  }
}
FilterOpt="%PATWEB71.08.207";
for (var i =0 ; i < document.UpdateForm.filtoptn.length; i++) {
 if (document.UpdateForm.filtoptn.options[i].value==trim(FilterOpt)) {
     document.UpdateForm.filtoptn.selectedIndex=i;
 }
}
FilterCod="%PATWEB71.08.223";
for (var i =0 ; i < document.UpdateForm.filtcodd.length; i++) {
 if (document.UpdateForm.filtcodd.options[i].value==trim(FilterCod)) {
     document.UpdateForm.filtcodd.selectedIndex=i;
 }
}

function CheckHealthFundSelect() {
 document.getElementById("filthfgp").disabled = false;
 document.getElementById("filthfnd").disabled = false;

 if(document.getElementById("filthfnd") && 
    document.getElementById("filthfgp")){

   if(document.getElementById("filthfnd").selectedIndex!=0){
     document.getElementById("filthfgp").disabled = true;
     document.getElementById("filthfgp").selectedIndex=0;
   }if (document.getElementById("filthfgp").selectedIndex!=0){
     document.getElementById("filthfnd").disabled = true;
     document.getElementById("filthfnd").selectedIndex=0;
   }
 } 
}

function AddTableRows() {
 %PATWEB71.08.211
}
</script>
