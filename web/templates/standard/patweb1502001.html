<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"> </script>
<script type="text/javascript" src="../js/patweb15.js"> </script>
<script type="text/javascript">
function InitTable(TableView) {
 document.title="Admission Request List"
 switch (TableView) {
 case 0: {
  t = new Table(1,0,1,"100%","center",40);    // Create New Table Object
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
 t.addColumn("Patient","ImageText",16,16,"left","PatientFolder","0",130,15)
 t.addColumn("Date of Request","DateTime",4,4,"left","","",80)
 t.addColumn("Type of Request","String",5,5,"left","","",45)
 t.addColumn("Status","String",6,6,"left","","",45)
 t.addColumn("Responsible Clinician","String",7,7,"left","","",65)
 t.addColumn("Unit","String",8,8,"left","","",45)
 t.addColumn("Priority","String",9,9,"left","","",45)
 t.addColumn("Procedure Description Comments","String",18,18,"left","MaintenanceIcon.gif","",85,"","",19)
 t.addColumn("Procedure Can Be Performed By","String",10,10,"left","","",45)
 t.addColumn("Preferred Hospital","String",11,11,"left","","",45)
 t.addColumn("Preferred Admission Date","Date",12,12,"left","","",50)
 if(document.SelectPeriod.d_filtstat.value=="1") {
   t.addColumn("Days Since Referral Date","String",17,17,"center","","",50)
 } else {
   t.addColumn("Proposed Procedure Date","Date",14,14,"left","","",50)
 }
//
 AddTableRows()
 TableOutput(0,1)
 break; }
 }
}
function SelectPeriodSubmit() {
  MandatoryUnit();
  if(validateMandatory(SelectPeriod)) {
    if(!isWhitespace(document.SelectPeriod.filtstat.value)) {
      document.SelectPeriod.showproc.checked=false;
      document.SelectPeriod.showproc.disabled=true;
    } 
    document.SelectPeriod.submit();
  }
}
function MandatoryUnit() {
  if(document.SelectPeriod.alldates.checked==true) {
     document.SelectPeriod.filtunit.className="Mandatory";
     document.SelectPeriod.filtunit.options[0].text="";
     DisableChildElements("DateOptionElements");
  } else {
     document.SelectPeriod.filtunit.className="";
     document.SelectPeriod.filtunit.options[0].text="All";
  }
}
var box1;
var mousex = 0;
var mousey = 0;
var maxx = 0;
var maxy = 0;
function init() {
  box1 = document.getElementById('box1');
  document.onmousemove = getMouseXY;
  maxx = getClientWidth();
  maxy = getClientHeight();
}
function getMouseXY(e) {                      // works on IE6,FF,Moz,Opera7
  if (!e) e = window.event;     // works on IE only
                                // (others rely on browser passing us the event)
  if (e) {
    if (e.pageX || e.pageY) {
                          // this doesn't work on IE6!! (works on FF,Moz,Opera7)
      mousex = e.pageX;
      mousey = e.pageY;
    }
    else if (e.clientX || e.clientY ) {      // works on IE6,FF,Moz,Opera7
      mousex = e.clientX + document.body.scrollLeft;
      mousey = e.clientY + document.body.scrollTop;
    }
  }
}
function HoverData(Text) {
  box1.innerHTML = "<b>" + Text + "</b>";

  var x = mousex;
  var y = mousey;

  // rendered dimensions or estimates;
  var rx = ( box1.sclrollLeft ) ?  box1.scrollLeft : 200;
  var ry = ( box1.scrollHeight ) ? box1.scrollHeight : 300;

  x = (maxx - x - 20  < rx ) ? x - 20  - rx : x + 20;
  y = (maxy - y < ry)         ? y - ry : y ;

  box1.style.top  =  y + 'px';
  box1.style.left =  x + 'px';

  box1.style.visibility = "visible";
}

function hide_HoverData(){
  box1.style.visibility = "hidden";
}
</script>
<style type="text/css">
#box1{
   position: absolute;
   top: 100px;
   left: 100px;
   border-style: outset;
   background-color: #fff8ff;
   padding: 3px;
   visibility: hidden;
   font-size:70%
}
</style>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0);">
<div id=HeadingSection>
<form id=SelectPeriod name=SelectPeriod action=patweb15.pbl method=get style="margin:0">
<input type=hidden id=reportno name=reportno value=2>
<input type=hidden id=template name=template value=1>
<input type=hidden id=viewtype name=viewtype value="%PATWEB15.02.013">
<input type=hidden id=showflag name=showflag value="1">
<input type=hidden id=d_filtstat name=d_filtstat value="%PATWEB15.02.018">

<table cellpadding=3 bgcolor=#CCCCCC border=0 width=100%>
<tr><td>Type of Request
    <select id=filtreqt name=filtreqt title="Type of Request"
     onchange='SelectPeriodSubmit();'>
    <option value=" ">All</option>
    <option value="1">Elective WL</option>
    <option value="2">Elective Non WL (Surgical)</option>
    <option value="3">Elective Non WL (Medical)</option>
    </select>
    </td>
    <td>Unit
    <select id=filtunit name=filtunit title="Unit"
     onchange='SelectPeriodSubmit();'>
    <option value=" ">All</option>
    %PATWEB15.02.014.2
    </select>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Temp U/R Numbers Only
    <input type=checkbox id=filtturn name=filtturn value="1"
     onclick="SelectPeriodSubmit();">
    </td>
    <td>Priority
    <select id=filtprty name=filtprty title="Priority"
     onchange='SelectPeriodSubmit();'>
    <option value=" ">All</option>
    %PATWEB15.02.015.2
    </select>
    </td>
    <td align=right>Intended Hospital
    <select id=filthosp name=filthosp class="Mandatory" title="Intended Hospital"
     onchange='SelectPeriodSubmit();'>
    %PATWEB15.02.012
    </select>
    </td>
    </tr>

<tr><td>Procedure Can Be Performed By
    <select id=filtppby name=filtppby title="Priority"
     onchange='SelectPeriodSubmit();'>
    <option value=" ">All</option>
    %PATWEB15.02.016.2
    </select>
    </td>
    <td>Responsible Clinician
    <input type=text id=filtresc name=filtresc title="HCP" value="%PATWEB15.02.017.003"
         size=10 maxlength=6 onblur="justifyLeft(this);
         validateCode(18,filtresc,d_filtresc,SelectPeriodSubmit);">
        <input type=text tabindex=-1 id=d_filtresc name=d_filtresc
         title="Doctor" value="%PATWEB15.02.017.002"
         size=22 readonly maxlength=30 class=Readonly>
        <img src="../images/SearchIcon.gif" class="Icon"
        onclick="HCPSearchFrame(filtresc,d_filtresc,7);">
        <img src="../images/erase.gif" class="Icon"
         onclick="clrDoc(filtresc,d_filtresc);SelectPeriod.submit();">
    </td>
    <td>Status
    <select id=filtstat name=filtstat title="Status"
     onchange='SelectPeriodSubmit();'>
    <option value=" ">All</option>
    <option value="1">Draft</option>
    <option value="2">Submitted</option>
    <option value="3">Returned to Clinician</option>
    <option value="4">Processed</option>
    <option value="5">Removed</option>
    <option value="6">Review</option>
    <option value="7">Approval Required</option>
    <option value="8">Approval Denied</option>
    </select>
    </td>
    <td align=right>
     Show Processed and Removed
    <input type=checkbox id=showproc name=showproc value="1"
     onclick="SelectPeriodSubmit();">
     All Dates 
    <input type=checkbox id=alldates name=alldates value="1"
     onclick="SelectPeriodSubmit();">
    <span id="DateOptionElements">
    <input type=button value="<<" class=SmallButton
    onclick='location.href="%PATWEB15.02.009"'>
    %PATWEB15.02.007
    <input type=button value=">>" class=SmallButton
    onclick='location.href="%PATWEB15.02.008"'>
  <a href='javascript:SelectDateFrame();'>
  <img src="../images/DateLookup.gif" border=0
   alt="Select Date" class="Icon"></a>
  <a href='javascript:SelectView("0");'>
  <img src=../images/DayIcon.gif border=0
   alt="View Today" class="Icon"></a>
  <a href='javascript:SelectView("1");'>
  <img src=../images/WeekIcon.gif border=0
   alt="View This Week" class="Icon"></a>
  <a href='javascript:SelectView("2");'>
  <img src=../images/MonthIcon.gif border=0
   alt="View This Month" class="Icon"></a>
   </span>

</td></tr>
</table>
</form>
</div>

<div id="TableLocation"></div>

<div id="box1"></div>

<script type="text/javascript">
function AddTableRows() {
%PATWEB15.02.011
}
var Req_Type="%PATWEB15.02.010"
for (var i =0 ; i < document.SelectPeriod.filtreqt.length; i++) {
if (document.SelectPeriod.filtreqt.options[i].value==Req_Type.substr(0,1)) {
     document.SelectPeriod.filtreqt.selectedIndex=i } };
for (var i =0 ; i < document.SelectPeriod.filtstat.length; i++) {
if (document.SelectPeriod.filtstat.options[i].value==
   document.SelectPeriod.d_filtstat.value.substr(0,1)) {
     document.SelectPeriod.filtstat.selectedIndex=i } };
var TempUR="%PATWEB15.02.030";
if(TempUR=="1") {
  document.SelectPeriod.filtturn.checked=true;
}
var AllDates="%PATWEB15.02.031";
if(AllDates=="1") {
  document.SelectPeriod.alldates.checked=true;
}
if(!isWhitespace(document.SelectPeriod.d_filtstat.value)) {
    document.SelectPeriod.showproc.checked=false;
    document.SelectPeriod.showproc.disabled=true;
} else {
  var ShowProcessed="%PATWEB15.02.032";
  if(ShowProcessed=="1") {
    document.SelectPeriod.showproc.checked=true;
  }
}
MandatoryUnit();
EBSClinicalView="%PATWEB15.02.004.1"; // Set on page load from menu
if(EBSClinicalView=="0") {
  SetCookie("EBSClinicalView","0");
} else if(EBSClinicalView=="1") {
  SetCookie("EBSClinicalView","1");
}
</script>

