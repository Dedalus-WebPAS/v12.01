<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName"    content="NoContextSet.html">
<script type="text/javascript" src=../js/patweb7709.js></script>
<script type="text/javascript">
function init() {
  if (document.UpdateForm.showrevn.value=="1") {
   document.UpdateForm.showrevn.value="0"
    if (document.RevenueForm.brkdtype.value=="R") {
      UpdateRevBreakdown2();
    } else {
      UpdateInvBreakdown2();
    }
  }
  ShowHosp();
  MaxFunder(UpdateForm);
  ShowBreakdown();
  Layer();
}
  
function SubmitForm() {
  if(document.UpdateForm.d_nzpfe007.checked==true) {
    document.UpdateForm.nzpfe007.value="1";
  } else {
   document.UpdateForm.nzpfe007.value="0";

   var totalfix = document.UpdateForm.nzpfe008;
       copayment= document.UpdateForm.nzpfe009;
  
   if (parseFloat(totalfix.value) < parseFloat(copayment.value)) {
     alert('Patient Co-Payment must be Less than or Equal to Total Fixed Cost');
     return;
   }

  }
  UpdateForm.nextpage.value="1"
  UpdateForm.updttype.value="U"
  document.UpdateForm.redirect.value="patweb77.pbl?reportno=09&template=003"+
           "&fileflag=" + document.UpdateForm.fileflag.value.replace(/ /g,"+") +
           "&nzpfe001=" + document.UpdateForm.nzpfe001.value.replace(/ /g,"+") +
           "&nzpfe002=" + document.UpdateForm.nzpfe002.value.replace(/ /g,"+") +
           "&nzpfe003=" + document.UpdateForm.nzpfe003.value.replace(/ /g,"+") +
           "&nzpfe004=" + document.UpdateForm.nzpfe004.value.replace(/ /g,"+") +
           "&nzpfe005=" + document.UpdateForm.nzpfe005.value.replace(/ /g,"+") +
           "&nzpfe006=" + document.UpdateForm.nzpfe006.value.replace(/ /g,"+") 
  if(validateMandatory(UpdateForm)) {
    UpdateForm.submit();
  }
}
function DeleteRec() {
  UpdateForm.nextpage.value="1"
  UpdateForm.updttype.value="D"
  document.UpdateForm.redirect.value="patweb77.pbl?reportno=09&template=001"+
           "&fileflag=" + document.UpdateForm.fileflag.value.replace(/ /g,"+") +
           "&nzpfe001=" + document.UpdateForm.nzpfe001.value.replace(/ /g,"+") +
           "&nzpfe002=" + document.UpdateForm.nzpfe002.value.replace(/ /g,"+") +
           "&nzpfe003=" + document.UpdateForm.nzpfe003.value.replace(/ /g,"+") +
           "&nzpfe004=" + document.UpdateForm.nzpfe004.value.replace(/ /g,"+") +
           "&nzpfe005=" + document.UpdateForm.nzpfe005.value.replace(/ /g,"+") +
           "&nzpfe006=" + document.UpdateForm.nzpfe006.value.replace(/ /g,"+") 
  if(validateMandatory(UpdateForm)) {
    UpdateForm.submit();
  }
}
function ShowHosp() {
  if(document.UpdateForm.ibcnmhos.value=="1") {
    InsertHospital.innerHTML=ShowHospital.innerHTML;
  }
}
function ShowBreakdown() {
  if(UpdateForm.d_nzpfe007.checked==false &&
    (UpdateForm.nzpfe012.selectedIndex==1 || 
     UpdateForm.nzpfe013.selectedIndex==1)) {
    breakdown.innerHTML=showbreakdown.innerHTML;
    if(UpdateForm.nzpfe012.selectedIndex!=1) {
      UpdateForm.revbuttn.disabled=true;
    }
    if(UpdateForm.nzpfe013.selectedIndex!=1) {
      UpdateForm.invbuttn.disabled=true;
    }
  } else {
    breakdown.innerHTML="";
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<form name=UpdateForm action=patweb77.pbl method=get style="margin:0">
<input type=hidden name=reportno value=09>
<input type=hidden name=template value=003>
<input type=hidden name=norecord value=10>
<input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
<input type=hidden name=fileflag value="%PATWEB77.09.023">
<input type=hidden name=nzpfe001 value="%PATWEB77.09.001.1">
<input type=hidden name=nzpfe002 value="%PATWEB77.09.002.1">
<input type=hidden name=nzpfe007 value="">
<input type=hidden name=showrevn value="%PATWEB77.09.030">
<input type=hidden name=updttype value="">
<input type=hidden name=redirect value="">
<input type=hidden name=nextpage>

<table width=100% cellpadding=0 cellspacing=0 border=0 >
  <tr><td align=left class=HeadingCell width=25%>
      <img src='../images/ListIcon.gif' class=Icon
       onclick="GoCookiePath('NZProcFeeList');">
      <td colspan=2 align=center width=50% class=HeadingCell>
  <script type="text/javascript">
  if ("%PATWEB77.09.023" == "C") {
    document.write("Current File - NZ Private Procedure Fee Maintenance"); }
  else {
    document.write("New File - NZ Private Procedure Fee Maintenance"); }
  </script>
    <td colspan=2 class=HeadingCell width=25%>&nbsp;</td></tr>
</table>

<div id=InsertHospital></div>

<table width=100% cellpadding=0 cellspacing=0 border=0 >
  <tr><td class=DataLabel width=25%>%STANDARD.01.017.CL</td>
      <td><input type=text name=d_nzpfe002 size=30 class=Readonly readonly
           value="%PATWEB77.09.002.0">
      </td>
  <tr><td class=DataLabel>Contract</td>
      <td><input type=text size=6 name=nzpfe003 maxlength=6 class=Readonly
           value="%PATWEB77.09.003.0" title="Contract" readonly
           onblur="valHfund(nzpfe003,funddesc,nzpfe004,tabldesc);">
          <input type=text size=20 name=funddesc title="Contract" readonly
           class=Readonly notab tabindex=-1 value="%PATWEB77.09.003.1">
     </td>
  </tr>
  <tr><td class=DataLabel>Table Type</td>
      <td><input type=text name=nzpfe004 value="%PATWEB77.09.004.0"
           size=8 maxlength=8 title="Contract Table" class=Readonly readonly
           onblur="valHfundTab(nzpfe003,nzpfe004,funddesc,tabldesc);">
          <input type=text size=20 name=tabldesc title="Contract Table"
           readonly notab class=Readonly tabindex=-1
           value="%PATWEB77.09.004.1">
     </td></tr>

  <tr><td class=DataLabel>Contract Procedure</td>
      <td><input type=text name=nzpfe005 size=9 maxlength=9
           title="Contract Procedure"
           value="%PATWEB77.09.005.0" class=Readonly readonly
           onblur="validateCode(35,nzpfe005,cmixdesc);">
          <input type=text size=40 name=cmixdesc
           title="Contact Procedure Description"
           readonly notab class=Readonly value="%PATWEB77.09.005.1">
     </td></tr>

  <tr><td class=DataLabel>Effective Date</td>
      <td class=DataField><input type=text size=12 name=nzpfe006
                           value="%PATWEB77.09.006" readonly
                           class="Readonly Date" title="Effective Date">
    </td></tr>
  </table>

<table width=100% cellpadding=0 cellspacing=0 border=0>
  <tr><td colspan=2 align=center><hr width=100%></td></tr>
</table>

<table width=80% cellpadding=0 cellspacing=0 border=0 align=center>

<tr><td class=DataLabel>Funder Contribution</td>
    <td class=DataField>
    <input type=checkbox name=d_nzpfe007 value="1"
     onclick="MaxFunder(UpdateForm);">
    </td>
    <td class=DataLabel>Description Line 1</td>
    <td class=DataField>
    <input type=text name=nzpfe010 size=51 maxlength=50
     title="Description Line 1" value="%PATWEB77.09.010">
    </td>
    </tr>

<tr><td><div id=ContributionHeading></div></td>
    <td class=DataField>
    <input type=text name=nzpfe009 size=19 maxlength=17
     title="Co-Payment/Funder Contr." class=Number value="%PATWEB77.09.009"
     min=0 max=99999999999999.99>
    </td>
    <td class=DataLabel>Description Line 2</td>
    <td class=DataField>
    <input type=text name=nzpfe011 size=51 maxlength=50
     title="Description Line 2" value="%PATWEB77.09.011">
    </td>
    </tr>

<tr><td class=DataLabel>Total Fixed Cost</td>
    <td class=DataField>
    <input type=text name=nzpfe008 size=19 maxlength=17
     title="Total Fixed Cost" class=Number value="%PATWEB77.09.008"
     min=0 max=99999999999999.99>
    </td>
    </tr>

<tr><td class=DataLabel>Revenue Breakdown</td>
    <td class=DataField>
    <select name=nzpfe012 title="Revenue Breakdown">
    <option value="0"></option>
    <option value="1">Use Detail</option>
    <option value="2">FFS with Win/Loss</option>
    </select>
    </td>
    </tr>

<tr><td class=DataLabel>Invoice Breakdown</td>
    <td class=DataField>
    <select name=nzpfe013 title="Invoice Breakdown">
    <option value="0"></option>
    <option value="1">Use Detail</option>
    </select>
    </td>
    </tr>

  </table>
  
  <span id=layerdis></span>

  <span id=breakdown></span>

</form>

<form name=RevenueForm method=get action=patweb77.pbl style="margin:0">
<input type=hidden name=reportno value=9>
<input type=hidden name=template value=4>
<input type=hidden name=fileflag value="%PATWEB77.09.023">
<input type=hidden name=brkdtype value="%PATWEB77.09.029">
<input type=hidden name=updatefl value="1">
</form>

<div id=ShowHospital style="display: none">
<table width="100%" cellpadding=1 cellspacing=1 border=0 align=center>
<tr><td class=DataLabel width=25%>Hospital</td>
    <td class=DataField>
    <input type=text name=d_nzpfe001 class="Readonly" readonly
     value="%PATWEB77.09.001.0">
    </tr>
</table>
</div>

<span id=current style="display:none">
<table width=100%>
<tr><td align=center colspan=6>
    <input type="button" class="button" id=updbtn value=Update 
     onclick="tempDisable(this);SubmitForm();">
    <input type="button" class="button" value=Cancel
         onclick="GoCookiePath('NZProcFeeList');">
    </td></tr>
<tr><td colspan=6 align=center><hr width=100%></td></tr>
</table>
</span>

<span id=newfile style="display:none">
<table width=100%>
<tr><td align=center colspan=6>
    <input type="button" class="button" value=Update onclick=SubmitForm();>
    <input type="button" class="button" value=Delete onclick=DeleteRec();>
    <input type="button" class="button" value=Cancel
         onclick="GoCookiePath('NZProcFeeList');">
    </td></tr>
<tr><td colspan=6 align=center><hr width=100%></td></tr>
</table>
</span>

<span id=showbreakdown style="display:none">
  <table width=100% cellpadding=0 cellspacing=0 border=0>
  <tr><td align=center class=HeadingCell width=50%>Revenue Breakdown </td>
  <td align=right><input type="button" class="button" value=Modify
                   name=revbuttn onclick=UpdateRevBreakdown();></td>
  <td align=center class=HeadingCell width=50%>Invoice Breakdown </td>
  <td align=right><input type=button class="button" value=Modify
                   name= invbuttn onclick="UpdateInvBreakdown();"></td></tr>
  <tr><td class=HeadingCell>Type</td>
      <td class=HeadingCell>Amount</td>
      <td class=HeadingCell>Type</td>
       <td class=HeadingCell>Amount</td>
      %PATWEB77.09.031
</table>
</span>

<script type="text/javascript">
 MaxFund="%PATWEB77.09.007"
 if(MaxFund=="1") {
   document.UpdateForm.d_nzpfe007.checked=true;
 }

 Rev="%PATWEB77.09.012"
 for (var i =0 ; i < document.UpdateForm.nzpfe012.length; i++) {
  if (document.UpdateForm.nzpfe012.options[i].value==Rev.substr(0,1)) {
       document.UpdateForm.nzpfe012.selectedIndex=i } };

 Inv="%PATWEB77.09.013"
 for (var i =0 ; i < document.UpdateForm.nzpfe013.length; i++) {
  if (document.UpdateForm.nzpfe013.options[i].value==Inv.substr(0,1)) {
       document.UpdateForm.nzpfe013.selectedIndex=i } };
</script>
<span id=maxfunderhd style="display:none">
                        Maximum Funder Contribution
</span>
<span id=copaymenthd style="display:none">
                        Patient Co-Payment
</span>
