<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/AutoPostCode.js"> </script>
<script type="text/javascript" src="../js/Comp_OC.js"> </script>
<!-- Other Compensable -->
<script type="text/javascript">
function SetCancel() {
  if (!confirm("Warning: Other Compensable data will not be updated!\n" +
               "Ok to Continue ?")) {
   return;
  } 

  if(document.UpdateForm.seriflag.value=="1"){  // Single HCP Series
    var link="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+")   +
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+")
  } else if (document.UpdateForm.seriflag.value=="2"){ // Multiple HCP Series
    var linkurl="outweb08.pbl?reportno=01&template=003" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&firstadm=" + document.UpdateForm.firstadm.value.replace(/ /g,"+")  + 
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+")
    var link=GetOutCookie(linkurl," ","MultipleHCP");
  } else {
    var link ="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&waitflag=" + document.UpdateForm.waitflag.value.replace(/ /g,"+") +
    "&shwprint=1"
  }
  location.href= link;
}

function SubmitClaim() {
  if(document.UpdateForm.seriflag.value=="1"){  // Single HCP Series
    document.UpdateForm.redirect.value="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") 
    document.UpdateForm.redirec1.value="&firstadm=" + 
    document.UpdateForm.firstadm.value.replace(/ /g,"+") +
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+") +
    "&shwprint=1"
  } else if (document.UpdateForm.seriflag.value=="2"){ // Multiple HCP Series
    document.UpdateForm.redirect.value="outweb08.pbl?reportno=01&template=003" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") 
    document.UpdateForm.redirec1.value="&firstadm=" + 
    document.UpdateForm.firstadm.value.replace(/ /g,"+") +
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+")
  } else {
    document.UpdateForm.redirect.value="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&shwprint=1" 
    if(document.UpdateForm.waitflag.value=="1" ||
       document.UpdateForm.waitflag.value=="2") {
        document.UpdateForm.redirec1.value="&waitflag=" +
        document.UpdateForm.waitflag.value + "&shwprint=1";
    }
  }

 if (document.UpdateForm.d_Policeaddr.checked==true) {
   document.UpdateForm.pmext141.value="1";
 } else {
   document.UpdateForm.pmext141.value="";
 }

  if(document.UpdateForm.scrname.value=="OCR"){
    document.UpdateForm.redirect.value += "&showfoll=1";
  }

 if(validateMandatory(UpdateForm)){
  document.UpdateForm.pmext065.value=document.UpdateForm.d_pmext065.value;
  UpdateForm.updatety.value="5";
  document.UpdateForm.submit();
 }
}
function GetIns(ReturnCode,ReturnAdd1,ReturnAdd2,ReturnAdd3,ReturnAdd4,
                ReturnPost)
{
  if (isWhitespace(ReturnCode.value)) {
    ReturnAdd1.value="";
    ReturnAdd2.value="";
    ReturnAdd3.value="";
    ReturnAdd4.value="";
    ReturnPost.value="";
    return;;
  }
  var serverURL = "../cgi-bin/patweb80.pbl?reportno=36" +
        "&valdcode=" + ReturnCode.value.replace(/ /g,"+") +
        "&valdtype=1"

  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|");
    ReturnAdd1.value=ReturnValue[1];
    ReturnAdd2.value=ReturnValue[2];
    ReturnAdd3.value=ReturnValue[3];
    ReturnAdd4.value=ReturnValue[4];
    ReturnPost.value=ReturnValue[5];
  }
}

function GetDefaultIns(ReturnOrg) {
  var serverURL = "../cgi-bin/patweb80.pbl?reportno=99" +
                  "&valdcode=" +
              document.UpdateForm.finanelc.value.substr(0,3).replace(/ /g,"+") +
                  "&valdtype=1"
    var returnValue = RSExecute(serverURL);
    if (returnValue.status==0) {
      ReturnValue=returnValue.return_value.split("|");
      ReturnOrg.value=ReturnValue[0];
      DisplayIns();
    }
}
function DisplayIns() {
  if (!isWhitespace(document.UpdateForm.pmext012.value)) {
    GetIns(document.UpdateForm.pmext012,
           document.UpdateForm.orgadd1,
           document.UpdateForm.orgadd2,
           document.UpdateForm.orgadd3,
           document.UpdateForm.orgadd4,
           document.UpdateForm.orgpcode);
  } else {
    document.UpdateForm.orgadd1.value="";
    document.UpdateForm.orgadd2.value="";
    document.UpdateForm.orgadd3.value="";
    document.UpdateForm.orgadd4.value="";
    document.UpdateForm.orgpcode.value="";
  }
}

</script>
%START.OF.PAGE
<body onLoad="PageLoad(event);InitPostCodes();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<form name=UpdateForm action="patweb89.pbl" method=post
onsubmit='return validateMandatory(this);'>
<input type=hidden name=reportno value="02">
<input type=hidden name=template value="241">
<input type=hidden name=updatety value="5">
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=pmext017 value="%PATWEB89.01.003">
<input type=hidden name=pmext018 value="%PATWEB89.01.987">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=pmext001 value="%PATWEB89.01.101">
<input type=hidden name=pmext002 value="%PATWEB89.01.988.1">
<input type=hidden name=pmext065 value="">
<input type=hidden name=pmext080 value="%PATWEB89.01.384.080">
<input type=hidden name=refrlvis value="%PATWEB89.01.957">
<input type=hidden name=bookflag value="%PATWEB89.01.958">
<input type=hidden name=nextpage value=2>
<input type=hidden name=mvmedrec value="%PATWEB89.01.902">
<input type=hidden name=redirect value="">
<input type=hidden name=redirec1 value="">
<input type=hidden name=casekeys value="%PATWEB89.01.907">
<input type=hidden name=claimtyp value="O">
<input type=hidden name=seriflag value="%PATWEB89.01.927">
<input type=hidden name=waitflag value="%PATWEB89.01.931">
<input type=hidden name=firstadm value="%PATWEB89.01.928">
<input type=hidden name=pmext141 value="%PATWEB89.01.384.099.043">
<input type=hidden name=finanelc value="%PATWEB89.01.988.1">
<input type=hidden name=scrname  value="%PATWEB89.01.999.137">
<input type=hidden name=dummy>
<table border=1 width=100% cellspacing=0 cellpadding=1>
<tr><td class=HeadingCell align=center>
    Other Compensable Details</td></tr>
<tr><td>
</table>

    <table width=100% border=0>
<tr><td class=DataLabel>Medicare Number</td>
    <td class="DataField">%PATWEB89.01.027 %PATWEB89.01.649</td>
    <td class=DataLabel>Solicitor Address Details</td>
    <td><input type="text" size="35" maxlength="35" name=d_pmext065 tabindex=11
      value="%PATWEB89.01.384.065" title="Solicitor Address 1">
    </td>
</tr>

<tr><td class=DataLabel>Alternate Election</td>
    <td><select name="pmext140" title="Alternate Election" tabindex=1
         class=Mandatory>
        <option> </option>
         %PATWEB89.01.384.099.042.9.1.12.1.A
        </select></td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=pmext066 tabindex=12
      value="%PATWEB89.01.384.066" title="Solicitor Address 2">
    </td>
</tr>

<tr><td class=DataLabel>Date of Accident</td>
    <td><input type=text name=pmext010 tabindex=3 class="PastDate Mandatory"
     title="Date of Accident" Size=12 value="%PATWEB89.01.384.010">
    <img src=../images/DateLookup.gif class=Icon date=UpdateForm.pmext010></td>
    <td class=DataLabel>Suburb<br></td>
    <td><input type="text" size="35" maxlength="35" name=pmext067 tabindex=13
      value="%PATWEB89.01.384.067" title="Solicitor Address 3"
      onblur="valSolicitorPostCode();">
    </td>
</tr>

<tr><td class=DataLabel>Acc.Location</td>
    <td><input type="text" size="60" maxlength="50" tabindex=4
         title="Accident Location" name="pmext095"
         value="%PATWEB89.01.384.087"></td>
    <td class=DataLabel>State<br></td>
    <td><input type="text" size="35" maxlength="35" name=pmext068 tabindex=14
      value="%PATWEB89.01.384.068" title="Solicitor Address 4">
    </td>
</tr>

<tr><td class=DataLabel>
      <table cellspacing=0 cellpadding=0 width=100%>
        <tr>
          <td>
            Police Officer
          </td>
          <td align=right>
            <input type=checkbox name=d_Policeaddr tabindex=5
             onclick="if(UpdateForm.d_Policeaddr.checked==true) {
                        insDIV.innerHTML=polinsSPAN.innerHTML;
                        GetDefaultPolice(UpdateForm.pmext143);
                      }
                      else
                      {
                        insDIV.innerHTML=othinsSPAN.innerHTML;
                        GetDefaultIns(UpdateForm.pmext012);
                      }"
             title="Police Officer">
          </td>
        </tr>
      </table>
    </td>
    <td class=DataItem>
      <div id=insDIV></div>
    </td>
    <td class=DataLabel>Post Code</td>
    <td><input type="text" size="8" maxlength="8" name=pmext069 tabindex=15
      value="%PATWEB89.01.384.069" title="Solicitor Postcode"
      onchange="LookupSuburb(UpdateForm.pmext069.value);">
    </td>
</tr>

<tr><td class=DataLabel>Billing Address</td>
    <td><input type="text" size="35" maxlength="35" name=orgadd1
        class=ReadOnly readonly title="Billing Address line 1"></td>
    <td class=DataLabel>Solicitor Contact Name</td>
    <td><input type="text" size="55" maxlength="50" name="pmext071" tabindex=16
        value="%PATWEB89.01.384.071" title="Solicitor Contact Name"></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=orgadd2
        class=ReadOnly readonly title="Billing Address line 2"></td>
    <td class=DataLabel>Solicitor Contact Phone</td>
    <td><input type="text" size="25" maxlength="20" name="pmext070" tabindex=17
        value="%PATWEB89.01.384.070" title="Solicitor Contact Phone"></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=orgadd3
        class=ReadOnly readonly title="Billing Address line 3"></td>
    <td class=DataLabel>Comments</td>
    <td><input type="text" size="55" maxlength="50" name=pmext059 tabindex=18
        value="%PATWEB89.01.384.059" title="Comments"></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="40" maxlength="35" name=orgadd4
        class=ReadOnly readonly title="Billing Address line 4"></td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmext060 tabindex=19
        value="%PATWEB89.01.384.060" title="Comments"></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="8" maxlength="8" name=orgpcode
        class=ReadOnly readonly title="Billing Postcode"></td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmext061 tabindex=20
         value="%PATWEB89.01.384.061" title="Comments"></td>
</tr>

</table>

<table cellspacing=0 cellpadding=1 border=0 align=center width=100%>
<tr><td colspan=4 align=center>
    <input type=button value="Update" tabindex=25 class="button" 
     id="pat89sub" onclick="tempDisable(this);SubmitClaim();">
    <input type=button value="Cancel" tabindex=26 
     onclick="SetCancel();" class="button"></td></tr>

</form>

</table>
<div id=SelectHeading></div>
<div id=SelectLocation></div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=regexstm value=102>
<input type=hidden name=newstand value=1>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>

<span id="polinsSPAN" style="display:none">
    <select name="pmext143" title="Organisation Code"
  onchange="GetOrg(UpdateForm.pmext143,UpdateForm.orgadd1,UpdateForm.orgadd2,
                   UpdateForm.orgadd3,UpdateForm.orgadd4,UpdateForm.orgpcode);">
     <option> </option>
      %PATWEB89.01.384.099.045.2
     </select>
</span>

<span id="othinsSPAN" style="display:none">
    <select name="pmext012" title="Organisation Code"
  onchange="GetIns(UpdateForm.pmext012,UpdateForm.orgadd1,UpdateForm.orgadd2,
                   UpdateForm.orgadd3,UpdateForm.orgadd4,UpdateForm.orgpcode);">
     <option> </option>
      %PATWEB89.01.999.011.0
     </select>
</span>

<script type="text/javascript">
  if (document.UpdateForm.pmext141.value=="1") {
    document.UpdateForm.d_Policeaddr.checked=true;
    insDIV.innerHTML=polinsSPAN.innerHTML;
    GetOrg(UpdateForm.pmext143,UpdateForm.orgadd1,UpdateForm.orgadd2,
           UpdateForm.orgadd3,UpdateForm.orgadd4,UpdateForm.orgpcode);
  } else {
    document.UpdateForm.d_Policeaddr.checked=false;
    insDIV.innerHTML=othinsSPAN.innerHTML;
    GetIns(UpdateForm.pmext012,UpdateForm.orgadd1,UpdateForm.orgadd2,
           UpdateForm.orgadd3,UpdateForm.orgadd4,UpdateForm.orgpcode);
  }
</script>
