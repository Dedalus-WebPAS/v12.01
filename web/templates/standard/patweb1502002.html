<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"> </script>
<script type="text/javascript" src="../js/patweb15.js"> </script>
<script type="text/javascript">
function InitTable(TableView) {
 document.title="Admission Request List"
 switch (TableView) {
 case 0: {
  t = new Table(1,0,1,"100%","center",40);    // Create New Table Object
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
 t.addColumn("Patient","ImageText",16,16,"left","PatientFolder","0",130,15)
 t.addColumn("Date of Request","DateTime",4,4,"left","","",70)
 t.addColumn("Type of Request","String",5,5,"left","","",45)
 t.addColumn("Status","String",6,6,"left","","",45)
 t.addColumn("Responsible Clinician","String",7,7,"left","","",65)
 t.addColumn("Unit","String",8,8,"left","","",45)
 t.addColumn("Priority","String",9,9,"left","","",45)
 t.addColumn("Procedure Description Comments","String",18,18,"left","","",85)
 t.addColumn("Procedure Can Be Performed By","String",10,10,"left","","",45)
 t.addColumn("Preferred Hospital","String",11,11,"left","","",45)
 t.addColumn("Preferred Admission Date","Date",12,12,"left","","",50)
 t.addColumn("Proposed Procedure Date","Date",14,14,"left","","",50)
//
 AddTableRows()
 TableOutput(0,1)
 break; }
 }
}
function CheckSubmit() {
  p=document.SelectPeriod;
  if(p.filtstat.value!="99" ) {
    if(p.returnfl.value=="1") {
      linkurl = "../cgi-bin/watweb01.pbl?reportno=1&template=001" +
                "&doctcode=" + p.filtresc.value.replace(/ /g,"+") +
                "&statcode=" + p.d_filtstat.value.replace(/ /g,"+")
      if(!isWhitespace(p.filtprty.value)) {
        linkurl += "&catecode=" + 
                   p.filtprty.value.substr(14,3).replace(/ /g,"+");
      }
    } else if(p.returnfl.value=="2") {
      linkurl = "../cgi-bin/watweb01.pbl?reportno=1&template=002" +
                "&unitcode=" + p.filtunit.value.replace(/ /g,"+") +
                "&filtdoct=" + p.filtresc.value.replace(/ /g,"+") +
                "&intdhosp=" + p.filthosp.value.replace(/ /g,"+") +
                "&deftview=" + p.deftview.value.replace(/ /g,"+") +
                "&statcode=" + p.d_filtstat.value.replace(/ /g,"+")
      if(!isWhitespace(p.filtprty.value)) {
        linkurl += "&catecode=" + 
                   p.filtprty.value.substr(14,3).replace(/ /g,"+");
      }
    } else {
      linkurl = "../cgi-bin/watweb01.pbl?reportno=1&template=001";
    }
    location.href=linkurl;
  } else {
    p.submit();
  }
}
function SelectPeriodSubmit() {
  document.SelectPeriod.submit();
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0);">
<div id=HeadingSection>
<form name=SelectPeriod action=patweb15.pbl method=get style="margin:0">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=2>
<input type=hidden name=viewtype value="%PATWEB15.02.013">
<input type=hidden name=showflag value="1">
<input type=hidden name=filtreqt value="1">
<input type=hidden name=filtstat value="2">
<input type=hidden name=deftview value="%PATWEB15.02.020">
<input type=hidden name=returnfl value="%PATWEB15.02.021">
<table cellpadding=3 bgcolor=#CCCCCC border=0 width=100%>
<tr><td>Status
    <select name=d_filtstat title="Status" class="SelectMed"
     onchange='CheckSubmit();'>
    <option value=1>Unscheduled         </option>
    <option value=2>Scheduled           </option>
    <option value=3>Pre-Admitted        </option>
    <option value=4>Admitted            </option>
    <option value=5>Discharged          </option>
    <option value=6>Removed             </option>
    <option value="99" selected>Submitted - Elective Wait List Requests</option>
    </select>
    </td>
    <td>Unit
    <select name=filtunit title="Unit"
     onchange='SelectPeriod.submit();'>
    <option value=" ">All</option>
    %PATWEB15.02.014.2
    </select>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Temp U/R Numbers Only
    <input type=checkbox name=filtturn value="1"
     onclick="SelectPeriod.submit();">
    </td>
    <td>Priority
    <select name=filtprty title="Priority"
     onchange='SelectPeriod.submit();'>
    <option value=" ">All</option>
    %PATWEB15.02.015.2
    </select>
    </td>
    </tr>

<tr><td>Procedure Can Be Performed By
    <select name=filtppby title="Priority"
     onchange='SelectPeriod.submit();'>
    <option value=" ">All</option>
    %PATWEB15.02.016.2
    </select>
    </td>
    <td>Resp. Clinician
    <input type=text name=filtresc title="HCP" value="%PATWEB15.02.017.003"
         size=10 maxlength=6 onblur="justifyLeft(this);
         validateCode(18,SelectPeriod.filtresc,SelectPeriod.d_filtresc,
         SelectPeriodSubmit);">
        <input type=text tabindex=-1 name=d_filtresc
         title="Doctor" value="%PATWEB15.02.017.002"
         size=22 readonly maxlength=30 class=Readonly>
        <img src="../images/SearchIcon.gif" class="Icon"
        onClick="HCPSearchFrame(SelectPeriod.filtresc,
                 SelectPeriod.d_filtresc,7);">
        <img src="../images/erase.gif" class="Icon"
         onclick="clrDoc(SelectPeriod.filtresc,SelectPeriod.d_filtresc);
                  SelectPeriod.submit();">
    </td>
    <td>Intended Hospital
    <select name=filthosp class="Mandatory" title="Intended Hospital"
     onchange='SelectPeriod.submit();'>
    %PATWEB15.02.012
    </select>
    </td>
</tr>
</table>
</form>
</div>
<div id="TableLocation" >
</div>

<script type="text/javascript">
function AddTableRows() {
%PATWEB15.02.019
}
var TempUR="%PATWEB15.02.030";
if(TempUR=="1") {
  document.SelectPeriod.filtturn.checked=true;
}
</script>
