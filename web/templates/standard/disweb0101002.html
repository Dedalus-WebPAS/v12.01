<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function valStartDate() {
  if (document.AddForm.disma005.value=="2") {
    document.AddForm.disma003.className="Mandatory PastDate"
    document.AddForm.disma007.className="Mandatory";
    document.AddForm.disma004.className="PastDate"
    document.AddForm.disma008.className="";
  } else {
    if (document.AddForm.disma005.value=="3") {
      document.AddForm.disma003.className="Mandatory PastDate"
      document.AddForm.disma007.className="Mandatory"
      document.AddForm.disma004.className="Mandatory PastDate"
      document.AddForm.disma008.className="Mandatory"
    } else {
      document.AddForm.disma003.className="PastDate"
      document.AddForm.disma007.className=""
      document.AddForm.disma004.className="PastDate"
      document.AddForm.disma008.className="" 
    }
  }
}
function AddTransfer() {
  if(!validateMandatory(AddForm)){
    return;
  }
  if(!isWhitespace(AddForm.disma004.value)) {
    if(!CheckDateRange(AddForm.disma003,AddForm.disma004)) {
      return;
    }
  }
  if(!isWhitespace(AddForm.disma003.value) &&
     !isWhitespace(AddForm.disma007.value)) {
     SetCurrentDateTimeNoFocus(null,AddForm.currtime);// UNIX time
     if (SetDateYYYYMMDD(AddForm.disma003.value)==
        (AddForm.currdate.value)) {
       var newttime=trim(AddForm.disma007.value.replace(/:/g,"")) - 0
       var currentt=trim(AddForm.currtime.value.replace(/:/g,"")) - 0
       if(newttime>currentt){
         alert("Disaster start time is in the future");
         AddForm.disma007.focus();
         return;
       }
     }
  }
  if(!isWhitespace(AddForm.disma004.value) &&
     !isWhitespace(AddForm.disma008.value)) {
     SetCurrentDateTimeNoFocus(null,AddForm.currtime);// UNIX time
     if (SetDateYYYYMMDD(AddForm.disma004.value)==
        (AddForm.currdate.value)) {
       var newttime=trim(AddForm.disma008.value.replace(/:/g,"")) - 0
       var currentt=trim(AddForm.currtime.value.replace(/:/g,"")) - 0
       if(newttime>currentt){
         alert("Disaster end time is in the future");
         AddForm.disma008.focus();
         return;
       }
     }
  }
  document.AddForm.submit();
}
function CheckDateRange(FromInput,ToInput) {
  if (SetDateYYYYMMDD(FromInput.value) > SetDateYYYYMMDD(ToInput.value)) {
    alert("Invalid Range Entered " + FromInput.title + " " + ToInput.title);
    return false }
  else {
    return true }
}
</script>
</head>
%START.OF.PAGE
<body onLoad=PageLoad(event);>
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
<script type="text/javascript">document.write(self.document.title);</script>
</span>

   <form name=AddForm method=post action=disweb01.pbl>
   <input type=hidden name=reportno value="1">
   <input type=hidden name=template value="002">
   <input type=hidden name=updttype value="A">
   <input type=hidden name=currdate value="%STANDARD.01.013">
   <input type=hidden name=currtime value="%STANDARD.01.016">

<table align=center cellspacing=0 cellpadding=2 border=0 width=90%>
<tr><td>
<table cellspacing=0 align=center cellpadding=0 border=0 width=100%>

<tr><td class=DataLabel>Disaster Code</td>
    <td><input type=text name=disma001 class=Mandatory title="Disaster Code"
         size=9 maxlength=9></td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    </tr>

<tr><td class=DataLabel>Disaster Description</td>
    <td><input type=text name=disma002 class=Mandatory 
         title="Disaster Description" size=50 maxlength=60></td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    </tr>

<tr><td class=DataLabel>Disaster Start Date</td>
    <td><input type=text size=12 name=disma003 title="Disaster Start Date"
         onblur="checkDate(this,'Effective Date');" class="PastDate">
    <img src=../images/DateLookup.gif class=Icon date=AddForm.disma003>

    Time
    <input type="text" name="disma007" size="8" title="Disaster Start Time">
        <img notab src="../images/DateTimeStamp.gif" class=Icon
         onclick="SetCurrentDateTime(AddForm.disma003,AddForm.disma007);" />
        <img notab src="../images/TimeLookup.gif" class=Icon
         onclick="TimeLookupFrame(AddForm.disma007);" />

    </td>
    </tr>



<tr><td class=DataLabel>Disaster End Date</td>
    <td><input type=text size=12 name=disma004 class="PastDate"
         title="Disaster End Date"
         onblur="checkDate(this,'Effective Date');">
    <img src=../images/DateLookup.gif class=Icon date=AddForm.disma004>

    Time
    <input type="text" name="disma008" size="8" title="Disaster End Time">
        <img notab src="../images/DateTimeStamp.gif" class=Icon
         onclick="SetCurrentDateTime(AddForm.disma004,AddForm.disma008);" />
        <img notab src="../images/TimeLookup.gif" class=Icon
         onclick="TimeLookupFrame(AddForm.disma008);" />

    </td>
    </tr>

<tr><td class=DataLabel>Disaster Status</td>
    <td>
        <select name=disma005 title="Disaster Status" 
         onchange="valStartDate();" class=Mandatory>
        <option></option>
        <option value="1">Pending</option>
        <option value="2">Active</option>
        <option value="3">Inactive</option>
        </select>
    </td>
    </tr>

<tr><td class=DataLabel>Alternate ID Code for this Disaster</td>
    <td>
        <select name=disma006 title="Alternate ID Code for this Disaster"
         class=Mandatory>
        <option></option>
          %DISWEB01.01.011.2
        </select>
    </td>
    </tr>

</table>
</td></tr>
<tr><td colspan=2 align=center><br>
    <input type=button value="Add" class="button" onclick="AddTransfer()">
    <input type=button value=Close class="button" onclick="DFrameCloseRefresh()">
</td></tr>
</table>
</form>
