<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function search_click() {
  f=document.search;
  if (f.ibcnmhos.value == "1") {
    hospid=f.filthosp.value;
  }
  else {
   hospid="";
  }
  location.href="patweb77.pbl?reportno=19&template=03&norecord=" +
                 document.search.norecord.value + 
                "&filthosp=" + hospid +
                "&filtoccg=" + f.filtoccg.value +
                "&filtusid=" + f.filtusid.value +
                "&filtfavg=" + f.filtfavg.value +
                "&showflag=1"
}
function AddFavGroupLink() {
  linkurl = "../cgi-bin/patweb77.pbl?reportno=19&template=001"
  Left=(document.body.clientWidth-750)/2;
  DFrameLink(linkurl,100,Left,850,400);
}
function UpdateFavGroupLink(linkurl) {
  Left=(document.body.clientWidth-800)/2
  DFrameLink(linkurl,0,Left,850,400)
}
function checkUser(userId,userName) {
  if (isWhitespace(userId.value)) {
    userName.value = "";
    return;
  }
  var serverURL = "../cgi-bin/patweb80.pbl?reportno=61" +
                  "&valdcode=" + userId.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|")
    userName.value=trim(ReturnValue[0])
  }
}
function SetHospital() {
  f = document.search;
  if (f.ibcnmhos.value == "1") {
    HospHead.innerHTML = hosphead.innerHTML;
    HospOptn.innerHTML = hospoptn.innerHTML;
  }
  else {
    HospHead.innerHTML = "";
    HospOptn.innerHTML = hospblank.innerHTML;
  }
}
function DisabledPrevNextButton() {
  f=document.search;
  if (f.showflag.value==1) {
    document.getElementById('btnPrev').disabled = false;
    document.getElementById('btnNext').disabled = false;
  }
  else {
    document.getElementById('btnPrev').disabled = true;
    document.getElementById('btnNext').disabled = true;
  }
}
function UserIdSearchFrame(ReturnCode,ReturnName) {
  var PopUpFrameDoc = DFrameStart();
  window.ReturnCode=ReturnCode;
  window.ReturnName=ReturnName;
  PopUpFrameDoc.location.href = "../cgi-bin/websec01.pbl?reportno=03" +
                                "&template=011"
  SearchFrameShow();
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);
              SetHospital();
              checkUser(document.search.filtusid,
                        document.search.d_filtusid);
              DisabledPrevNextButton();">
<form name=search method=get action=patweb77.pbl style="margin:0">
<input type=hidden name=reportno value=19>
<input type=hidden name=template value=3>
<input type=hidden name=norecord value="%PATWEB77.19.014">
<input type=hidden name=updatety value="">
<input type=hidden name=showflag value="%PATWEB77.19.013">
<input type=hidden name=lasthosp value="%PATWEB77.19.015">
<input type=hidden name=lastoccg value="%PATWEB77.19.016">
<input type=hidden name=lastusid value="%PATWEB77.19.017">
<input type=hidden name=lastfavg value="%PATWEB77.19.018">
<input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">

<table align="center" width=100% border=1 cellspacing=1 cellpadding=0 >
<tr><td>

<table width=100% border=0 cellpadding=2 cellspacing=1 bgcolor=#CCCCCC>
<tr>
  <td align=center colspan=9 class=HeadingCell>
Favourite Items Groups Maintenance
  </td>
</tr>
<tr>
  <td><div id=HospHead></div></td>
  <td><div id=HospOptn></div></td>
  <td class=DataLabel>Occupational Group</td>
  <td class=DataField>
    <select name=filtoccg class=Mandatory title="Occupational Group">
      <option value="   ">All</option>
        %PATWEB77.19.020.9.2 
    </select>
  </td>
  <td class=DataLabel>User ID</td>
  <td class=DataField>
    <input type=text name=filtusid size=12 maxlength=10
      value="%PATWEB77.19.021"
      onblur="checkUser(document.search.filtusid,document.search.d_filtusid);">
    <input type=text name=d_filtusid size=40 readonly class="Readonly"
      value="">
    <img src="../images/SearchIcon.gif" class=Icon
      onclick="UserIdSearchFrame(document.search.filtusid,document.search.d_filtusid);">
    <img src="../images/erase.gif" class=Icon
      onclick="clrFields(search.filtusid,search.d_filtusid);">
  </td>
  <td class=DataLabel>Favourite Group</td>
  <td class=DataField>
    <select name=filtfavg class=Mandatory title="Favourite Group">
      <option value="   ">All</option>
        %PATWEB77.19.022.9.2 
    </select>
  </td>
  <td align=right class=DataField>&nbsp;
    <input type=button class="button" value=Search 
      onblur="filtoccg.focus();"
      onclick="search_click();">
  </td>
</tr>
</table>

%PATWEB77.19.010.patweb77.19.002.20
</table>
<table width=100% border=1 cellspacing=1 cellpadding=1 bgcolor=#CCCCCC>
<tr>
  <td>
    <table width=100% bgcolor=#CCCCCC>
    <tr>
      <td align=center>
        <input type=button name=btnPrev id=btnPrev value="<< Previous" class="button"
          onclick='location.href="%PATWEB77.19.012.003"'>
      </td>
      <td align=center>
        <input type=button name=btnAdd id=btnAdd value="Add" class="button"
         onclick="tempDisable(this);AddFavGroupLink();">
      </td>
      <td align=center>
        <input type=button name=btnNext id=btnNext value="Next >>" class="button"
          onclick='location.href="%PATWEB77.19.011.003"'>
      </td>
    </tr>
    </table>
  </td>
</tr>
</table>

</td></tr>
</table>
</form>

<span id=hosphead style="display:none">
                      Hospital
</span>
<span id=hospoptn style="display:none">
      <select name=filthosp class="Mandatory" title="Hospital">
        %PATWEB77.19.019
      </select>
</span>
<span id=hospblank style="display:none">
    <input type=hidden name=filthosp value="">
</span>

