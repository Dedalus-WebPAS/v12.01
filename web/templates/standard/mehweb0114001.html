<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"></script>
<script type="text/javascript">
function ReferralLink(ReferralKey) {
  var uno=PatientLinks.urnumber.value.replace(/ /g,"+");
  var rno=ReferralKey.replace(/ /g,"+");
  Location="../cgi-bin/allweb02.pbl?reportno=02&template=002" + 
           "&urnumber=" + uno + "&admissno=" + rno;
  location.href=Location
}
function LegalStatusLink(LSKey) {
  var uno=PatientLinks.urnumber.value.replace(/ /g,"+");
  var unq=LSKey.replace(/ /g,"+");
  linkUrl="../cgi-bin/mehweb01.pbl?reportno=09&template=003" +
          "&urnumber=" + uno + "&uniqnumb=" + unq;
  location.href=linkUrl
}
function FilterReferral() {
  document.PatientLinks.filttype.value=document.ListPrimhd.d_filttype.value
  document.PatientLinks.filtstat.value=document.ListPrimhd.d_filtstat.value
  PatientLinkTo('mehweb01.pbl',14,1,0,0,0);
}
function ViewErrors(key,vis,rec) {
  linkUrl="../cgi-bin/mehweb02.pbl?reportno=02&template=003" +
          "&pmflidno=" + key.replace(/ /g,"+") +
          "&admissno=" + vis.replace(/ /g,"+") +
          "&pmflrect=" + rec;
  location.href=linkUrl
}
//----------------------------------------------------------------------------
// Create New Table Object
// Border, Cellspacing, Cellpadding, Width, Align, Heading Height, Row Height
//----------------------------------------------------------------------------
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column, Align, Icon, Link Column
// Columns Available
// 0. Referral/Legal_Status Link
// 1. Extract Date            
// 2. Record Type (Referral or Legal Status)
// 3. Status Description
// 4. Errors/Warnings
// 5. Referral From
// 6. Referral To
// 7. Start Date
// 8. End Date
// 9. Document Status
//10. Errors/Warning HTML Link
//11. Icon Indicator for HTML Link (1=Show Icon, 0=Noshow)
//---------------------------------------------------------------------------
function InitTable(TableView) {
document.title="PRIMHD Referral Submission List"
switch (TableView) {
case 0: {
 t = new Table(1,0,2,"100%","center",35,35);
 t.addColumn("Extract_Date","Date",1,1,"left","EditIcon.gif","0",90)
 t.addColumn("Record_Type","String",2,2,"left","","",90)
 t.addColumn("Status","String",3,3,"left","","",80)
 t.addColumn("Error/Warnings","ImageText",4,4,"center","CommentIcon","10",80,11)
 t.addColumn("Referral From","String",5,5,"left","","",50)
 t.addColumn("Referral To","String",6,6,"left","","",50)
 t.addColumn("Start_Date","Date",7,7,"left","","",70)
 t.addColumn("End_Date","Date",8,8,"left","","",70)
 t.addColumn("Document Status","String",9,9,"left","","",50)
 AddTableRows()
// t.sortTable(1,1);    // By Department
 TableOutput(0,2);    // By Date Order Column,Asc Dsc
 break; }
 }
}
</script>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0);SetCookiePath('PRIMHDPat');">
<div id="HeadingSection"> 
<div id="PageHeadingSection">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%MEHWEB01.14.003";
PatientVIS="%MEHWEB01.14.081";
PatientNAM="%MEHWEB01.14.002";
PatientSTA="%MEHWEB01.14.086.078";
PatientALT="%MEHWEB01.14.084";
PatientSEX="%MEHWEB01.14.019";
PatientDOB="%MEHWEB01.14.020";
PatientAGE="%MEHWEB01.14.021";
PatientLOC="%MEHWEB01.14.083";
PatientPRI="%MEHWEB01.14.086.066.1";
PatientUNT="%MEHWEB01.14.066.0";
DoctorCOD="%MEHWEB01.14.082.003";
DoctorNAM="%MEHWEB01.14.082.002";
PatientAID="%MEHWEB01.14.086.090";
PatientIND="%MEHWEB01.14.086.091";
PatientCUR="%MEHWEB01.14.086.092";
PatientCLC="%MEHWEB01.14.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%MEHWEB01.14.086.094";
PatientCDM="%MEHWEB01.14.086.095";
PatientVDH="%MEHWEB01.14.086.099.015";
InsertPatientHeader()
</script>
<div id="PatientMenu"></div> 
</div>
<form name=ListPrimhd method=get action=mehweb02.pbl style="margin:0">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=3>
<input type=hidden name=urnumber value="%MEHWEB01.14.003">

<table cellspacing=0 cellpadding=0 border=1 width=100% class=HeadingCell>
<tr><td>
    <table cellspacing=0 cellpadding=0 border=0 width=100% >

    <tr><td align=left class=HeadingCell>Types Sent
        <select name=d_filttype onchange="FilterReferral();">
        <option value=" ">All</option>
        <option value="1">This Referral</option>
        <option value="2">Legal Status</option>
        </select>
        </td>
        <td align=left class=HeadingCell>Status
        <select name=d_filtstat onchange="FilterReferral();">
        <option value=" ">All</option>
        <option value="1">Sent</option>
        <option value="2">Rejected</option>
        <option value="3">Accepted</option>
        </select>
        </td>
        <td></td></tr>
    </table>
</td></tr>
</table>
</form>
</div>
<div id=TableLocation></div>
<script language="Javascript">
function AddTableRows() {
%MEHWEB01.14.201
}
</script>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value="1">
<input type=hidden name=template value="004">
<input type=hidden name=urnumber value="%MEHWEB01.14.003">
<input type=hidden name=admissno value="%MEHWEB01.14.081">
<input type=hidden name=MenuType value="%MEHWEB01.14.088">
<input type=hidden name=wbsedall value="%STANDARD.01.028">
<input type=hidden name=filtstat value="">
<input type=hidden name=filttype value="">
<input type=hidden name=claimcode value="%STANDARD.01.017.CL">
<input type=hidden name=bookflag value="">
</form>

<script type="text/javascript">
 type="%MEHWEB01.14.202";
 for (var i =0 ; i < document.ListPrimhd.d_filttype.length; i++) {
  if (document.ListPrimhd.d_filttype.options[i].value==type.substr(0,3)) {
       document.ListPrimhd.d_filttype.selectedIndex=i } };
 stat="%MEHWEB01.14.203";
 for (var i =0 ; i < document.ListPrimhd.d_filtstat.length; i++) {
  if (document.ListPrimhd.d_filtstat.options[i].value==stat.substr(0,3)) {
       document.ListPrimhd.d_filtstat.selectedIndex=i } };
</script>
