<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/rcpweb03.js"></script>
<script type="text/javascript">
function getClaim(thisForm) {
//
// if different invoice number entered, submit form to get invoice items.
//
  if (trim(thisForm.oldclaim.value)!=trim(thisForm.claimnum.value)) {
    justifyRight(thisForm.claimnum);
    thisForm.printflg.value=parent.AddForm.printflg.value;
    thisForm.selprint.value=parent.AddForm.selprint.value;
    thisForm.nocopies.value=parent.AddForm.nocopies.value;
    thisForm.updttype.value="";
    thisForm.submit();
  }
}
function chkARAmount() {
  AddForm.checkfnd.value=0;
  AddForm.invtotal.value=0;

  // search for invoice item payment amount
  for (var i=0; i<AddForm.length; i++) {
    if (AddForm.elements[i].name.match(/invamt/)) {
      var amtsuffx=AddForm.elements[i].name.substr(6,2);
      var itemamnt=parseFloat(AddForm.elements[i].value);

      // search for invoice item payment flag
      for (var j=i; j<AddForm.length; j++) {
        if (AddForm.elements[j].name.match(/invpay/)) {
          var paysuffx=AddForm.elements[j].name.substr(6,2);

          // If amount & flag pair found and payment flag check,
          // Add amount to payment total
          if ((amtsuffx==paysuffx) && (AddForm.elements[j].checked==true)){
            AddForm.invtotal.value=parseFloat(AddForm.invtotal.value)
                                    + itemamnt;
            AddForm.checkfnd.value=1;
          }
        }
      }
    }
  }
  RoundNumber(AddForm.invtotal,2)
}
function checkPayFlg(invflag,invamt) {
  if (invflag.checked==true) {
    invamt.className="";
    invamt.readOnly=false;
    invamt.tabIndex="";
  }
  else {
    invamt.className="readonly";
    invamt.readOnly=true;
    invamt.tabIndex="-1";
  }
  chkARAmount();
}
function SubmitClaim(thisForm) {
  if (thisForm.invtotal!=undefined) {
    if (thisForm.invtotal.value==0) {
      alert('Total invoice amount cannot be zero');
      return;
    }
    justifyRight(thisForm.claimnum);
    thisForm.submit();
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="parent.AddForm.incmpflg.value=1;DFrameExitRefresh();">
<script type="text/javascript">
  document.write("Private Practice Bulk Billing");
</script>
</span>

<div id=PageBodySection>
 <form name=AddForm method=get action=rcpweb03.pbl>
 <input type=hidden name=reportno value="7">
 <input type=hidden name=template value="004">
 <input type=hidden name=updttype value="B">
 <input type=hidden name=nextpage value=4>
 <input type=hidden name=complflg value=0>  <!-- complete flag -->
 <input type=hidden name=redirect value="rcpweb03.pbl?reportno=7&template=1">
 <input type=hidden name=allctotl value="%RCPWEB03.07.308">
 <input type=hidden name=rcpbk001 value="%RCPWEB03.07.001"> <!-- receipt no -->
 <input type=hidden name=rcpbk004 value="%RCPWEB03.07.004.0">   <!-- Cashier -->
 <input type=hidden name=rcpbk014 value="%RCPWEB03.07.014">   <!-- Chq acct -->
 <input type=hidden name=dummy>
 <input type=hidden name=printflg>
 <input type=hidden name=selprint>
 <input type=hidden name=nocopies>
 <input type=hidden name=ibcnmhos value="%RCPWEB03.07.348">
 <input type=hidden name=oldclaim value="%RCPWEB03.07.352">

<table align=center width=90% border=0 cellspacing=2 cellpadding=1>
<tr><td class=DataLabel width=20%>Claim Number</td>
    <td><input type=text name=claimnum title="Claim Number" size=8 
         maxlength=8 value='%RCPWEB03.07.352' class='Mandatory Integer'
         onblur='getClaim(AddForm);'>
    </td></tr>
</table>

<table width=90% align=center border=0 cellspacing=2 cellpadding=1>
%RCPWEB03.07.351
</table>

<table align=center width=90% border=0 cellspacing=2 cellpadding=1>
<tr><td colspan=2 align=center><br>
    <input type=button value="Add" class="button" 
     onclick="AddForm.complflg.value=0;SubmitClaim(AddForm)">
    <input type=button value=Close class="button" 
     onclick="parent.AddForm.incmpflg.value=1;DFrameCloseRefresh()">
</td></tr>
<tr><td colspan=2 align=center>&nbsp;</td></tr>
</table>
</form>
</div>

