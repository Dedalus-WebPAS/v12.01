<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/IBA_Category_C_.js"></script>
<script type="text/javascript" src="../js/AutoPostCode.js"> </script>
<script type="text/javascript" src="../js/Comp_SH.js"> </script>

<!-- Shipping -->

<style type=text/css>

#SelectHeading{
position: absolute;
visibility: hidden;
top: 120px;
left: 320px;
height: 20px;
width: 350px;
overflow: none;
}

#SelectLocation{
position: absolute;
visibility: hidden;
top: 140px;
left: 320px;
height: 150px;
width: 350px;
overflow: auto;
}

</style>

<script type="text/javascript">

function SubmitClaim() {
  ReturnPath=GetCookieData('InvoiceReturn');
  if (!isWhitespace(ReturnPath) && ReturnPath!='unknown') {
     document.cookie="InvoiceReturn=;"            // clear cookie
     document.UpdateForm.redirect.value=ReturnPath; // return to invoice scr
 } else if(document.UpdateForm.mvmedrec.value == "1") {
     document.UpdateForm.redirect.value="mrtweb01.pbl?reportno=09&template=004"
     + "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")
     + "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+")
 } else if (document.UpdateForm.mhadmflg.value == "1") {
     document.UpdateForm.redirect.value="patweb89.pbl?reportno=07&template=001"
     + "&urnumber=" + document.PatientLinks.urnumber.value.replace(/ /g,"+")
     + "&admissno=" + document.PatientLinks.admissno.value.replace(/ /g,"+")
 } else {
     document.UpdateForm.redirect.value="patweb98.pbl?reportno=01&template=043"
     + "&urnumber=" + document.PatientLinks.urnumber.value.replace(/ /g,"+")
     + "&admissno=" + document.PatientLinks.admissno.value.replace(/ /g,"+")
 }

 if(validateMandatory(UpdateForm)){
  UpdateForm.updatety.value="5";
  document.UpdateForm.submit();
 }
}

function setAddrLine4(theForm) {
  var savpcode="";
  if (theForm.oldpcode!=undefined) {
      if (trim(theForm.oldpcode.value)!="8888") {
          savpcode = theForm.oldpcode.value;
      }
  }
  if (theForm.oseasflg.checked==1) {
     AddressLine4H.innerHTML=document.getElementById('OseasCountryH').innerHTML
     AddressLine4.innerHTML=document.getElementById('OseasCountry').innerHTML
     if (trim(theForm.pmext084.value)!="8888") {
         theForm.pmext083.value="";
         theForm.pmext084.value="8888";
         LookupSuburb("8888");
     }
  } else {
     AddressLine4H.innerHTML=document.getElementById('AustStateH').innerHTML
     AddressLine4.innerHTML=document.getElementById('AustState').innerHTML
     if (trim(theForm.pmext084.value)=="8888") {
         theForm.pmext083.value="";
         theForm.pmext084.value=savpcode;
         LookupPostCode(theForm.pmext084.value);
     }
  }
  state = theForm.pmext083;
}
function checkOverseas() {
  if (trim(document.UpdateForm.pmext084.value)=="8888") {
    document.UpdateForm.oseasflg.checked=true;
  } else {
    document.UpdateForm.oseasflg.checked=false;
  }
  setAddrLine4(UpdateForm);
}
function SetPostCode01() {
 suburb   = document.UpdateForm.pmext082;
 state    = document.UpdateForm.pmext083;
 postcode = document.UpdateForm.pmext084;
 if (document.UpdateForm.oseasflg!=undefined) {
    if (trim(postcode.value)=="8888") {
       document.UpdateForm.oseasflg.checked=true;
    } else {
       document.UpdateForm.oseasflg.checked=false;
    }
    setAddrLine4(UpdateForm)
 }
}

</script>
%START.OF.PAGE
<body onLoad="PageLoad(event);SetPostCode01();">
<div id=PageHeadingSection>
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
</div>
<div id=PageBodySection>
<form name=UpdateForm action="patweb89.pbl" method=post
 onsubmit='return validateMandatory(this); '>
  <input type=hidden name=reportno value="02">
  <input type=hidden name=template value="080">
  <input type=hidden name=updatety value="5">
  <input type=hidden name=urnumber value="%PATWEB89.01.003">
  <input type=hidden name=pmext017 value="%PATWEB89.01.003">
  <input type=hidden name=pmext018 value="%PATWEB89.01.102">
  <input type=hidden name=admissno value="%PATWEB89.01.101">
  <input type=hidden name=pmext001 value="%PATWEB89.01.101">
  <input type=hidden name=pmext002 value="%PATWEB89.01.126.1">
  <input type=hidden name=claimcod value="%PATWEB89.01.126.3">
  <input type=hidden name=statncod value="%PATWEB89.01.999.004.0">
  <input type=hidden name=statndes value="%PATWEB89.01.999.004.1">
  <input type=hidden name=addeflag value="%PATWEB89.01.999.005">
  <input type=hidden name=finanelc value="%PATWEB89.01.126.1">
  <input type=hidden name=faxnumbr value=" ">
  <input type=hidden name=nextpage value=2>
  <input type=hidden name=mvmedrec value="%PATWEB89.01.902">
  <input type=hidden name=mhadmflg value="%PATWEB89.01.999.008">
  <input type=hidden name=claimtyp value="S">
  <input type=hidden name=returncd value="%PATWEB89.01.933">
  <input type=hidden name=redirect value="%PATWEB89.01.001.patweb98.01.001">
  <input type=hidden name=oldpcode value="%PATWEB89.01.384.084">

<table align=center width=100% border=1 cellspacing=0 cellpadding=2>
<tr><td class=HeadingCell align=center>
    Shipping Details</td></tr>
<tr><td>
    <table width=100% border=0>

<tr><td class=DataLabel>Ship's Name</td>
    <td><input type="text" size="35" maxlength="35" name=pmext036 tabindex=1
      class=Mandatory value="%PATWEB89.01.384.036" title="Ship's Name">
    </td>
    <td class=DataLabel>Comments</td>
    <td><input type="text" size="55" maxlength="50" name=pmext059 tabindex=10
        value="%PATWEB89.01.384.059" title="Comments"></td>
</tr>

<tr><td class=DataLabel>Shipping Agent Name</td>
    <td><input type="text" size="35" maxlength="35" name=pmext037 tabindex=2
      value="%PATWEB89.01.384.037" title="Shipping Agent Name">
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmext060 tabindex=11
        value="%PATWEB89.01.384.060" title="Comments"></td>
</tr>

<tr><td class=DataLabel>Overseas Address</td>
    <td><input type=checkbox name=oseasflg
           onclick='setAddrLine4(UpdateForm);'>
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmext061 tabindex=12
         value="%PATWEB89.01.384.061" title="Comments"></td>
</tr>

<tr><td class=DataLabel>Shipping Agent Address</td>
    <td><input type="text" size="35" maxlength="35" name=pmext080 tabindex=3
      value="%PATWEB89.01.384.080" 
      title="Shipping Agent Address 1">
    </td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=pmext081 tabindex=4
      value="%PATWEB89.01.384.081" title="Shipping Address 2">
    </td>
    <td class=DataLabel>Contact Name</td>
    <td><input type="text" size="55" maxlength="50" name=pmext085 tabindex=13
        value="%PATWEB89.01.384.085" title="Contact Name"></td>
</tr>

<tr><td class=DataLabel>Suburb<br></td>
    <td><input type="text" size="35" maxlength="35" name=pmext082 tabindex=5
      value="%PATWEB89.01.384.082" title="Shipping Suburb"
      onchange="valPostCode();">
    </td>
    <td class=DataLabel>Contact Telephone</td>
    <td><input type="text" size="22" maxlength="20" name=pmext086 tabindex=14
        value="%PATWEB89.01.384.086" title="Contact Telephone"></td>
</tr>

<!-- <tr><td class=DataLabel>State</td>
        <td><input type="text" size="35" maxlength="35" name=pmext083 tabindex=6
          value="PATWEB89.01.384.083" title="Shipping Address 4">
        </td>                                      -->
<tr>
    <td><div id=AddressLine4H></div></td>
    <td><div id=AddressLine4></div></td>
</tr>

<tr><td class=DataLabel>Post Code</td>
    <td><input type="text" size="8" maxlength="8" name=pmext084 tabindex=7
      value="%PATWEB89.01.384.084" title="Shipping Postcode"
      onchange="state=UpdateForm.pmext083;suburb=UpdateForm.pmext082;
                postcode=this;checkOverseas();
                LookupSuburb(UpdateForm.pmext084.value);">
</td></tr>

</table>
</td></tr>
</table>

<table cellspacing=0 cellpadding=1 border=0 align=center width=100%>
<tr><td class=DataLabel width=15%>Print %STANDARD.01.017.CL Form</td>
    <td><input type=checkbox name=prntform value="1" tabindex=31
         onclick="SetPrinter();">
    </td>
    <td class=DataLabel>Stationery Code</td>
    <td><input type=text name=d_statncod size=30
     class=ReadOnly readonly></td>
    <td class=DataLabel>Printer</td>
    <td><select name=schdprnt title="Printer" tabindex=32 disabled>
        <option></option>
         %STANDARD.01.001.ELECTFRM.0S
        </select>
    </td>
</tr>
</table>

<table cellspacing=0 cellpadding=1 border=0 align=center width=100%>
<tr><td colspan=4 align=center>
    <input type=button value="Update" tabindex=15 class="button" 
    id="pat89sub" onclick="tempDisable(this);SubmitClaim();">
    <input type=button value="Cancel" tabindex=16 
     onclick="SetCancel();" class="button">
</td></tr>
</table>
</form>
<div id=SelectHeading></div>
<div id=SelectLocation></div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=regexstm value=102>
<input type=hidden name=newstand value=1>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>
 
<span id=AustStateH style="display:none">
&nbsp;
</span>
<span id=AustState style="display:none">
    <input type=text size=35 maxlength=35
       name=pmext083 title="Address Line 4" tabindex=10
       value="%PATWEB89.01.384.083"
       onchange="UpCase(this);">
</span>

<span id=OseasCountryH style="display:none">
Country
</span>
<span id=OseasCountry style="display:none">
        <select name="pmext083" tabindex=10 class="select120 Mandatory"
                 title="Country Address">
        <option></option>
        %PATWEB89.01.384.099.047
        </select>
</span>

<script type="text/javascript">
 mandfield=document.UpdateForm.claimcod.value.substr(34,1);
  if (mandfield!="B") {
      document.UpdateForm.pmext080.className="Mandatory";
  }

function SetCancel() {
 if(!confirm("Warning: Shipping data will not be updated!\n" + 
             "Ok to Continue ?")){
   return;
 } 
 ReturnPath=GetCookieData('InvoiceReturn');
 if (!isWhitespace(ReturnPath) && ReturnPath!='unknown') {
   document.cookie="InvoiceReturn=;" // clear cookie
   var link=ReturnPath;              // return to invoice scr
 }
 else {
   var urnumber ="%PATWEB89.01.003";
   var admissno ="%PATWEB89.01.101";
   var link = "patweb98.pbl?reportno=01&template=001&urnumber="+urnumber
             +"&admissno="+admissno;
 }
 location.href= link;
}
</script>
