<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"      content="true">
<script type="text/javascript" src=../js/TableSort.js></script>
<script type="text/javascript" src="../js/priweb0406001.js"> </script>
<script type="text/javascript">

function selectView(viewTypeValue) {
  document.SelectPeriod.viewtype.value=viewTypeValue
  document.SelectPeriod.submit();
}
function linkPatient(Invoicen) {
     Left=(document.body.clientWidth-650)/2
     ProcReceipt="priweb04.pbl?reportno=6&template=002&invoicen="+Invoicen +
                 "&updatety=1";
     DFrameLink(ProcReceipt,100,Left,650,400);
}

function PostFilter() {
  document.SelectPeriod.submit();
  document.SelectPeriod.showflag.value= "1";
}

function InitialSetup() {
  f = document.SelectPeriod;
  if(f.showflag.value != "1") {
    InitialSetupFstTime();
  }

  selectOptionsDoctUserId(f.pridc002.value,
                          f.webuseri.value,
                          f.pridc001,
                          f.praccode.value)
}

function InitialSetupFstTime() {
  f = document.SelectPeriod;

 if(f.showflag.value != "1") {
  if(!isWhitespace(f.webdoctc.value)) {
    for (var i =0 ; i < f.pridc002.length; i++) {
      var doctcode = f.pridc002.options[i].value.substr(0,10);
      if (trim(doctcode)==trim(f.webdoctc.value)) {
        f.pridc002.selectedIndex=i
      }
    }
    document.SelectPeriod.showflag.value= "1";
    if(isWhitespace(f.prseprac.value)) {
      return;
    }
  }
 }

  selectOptionsDoctUserId(f.pridc002.value,
                          f.webuseri.value,
                          f.pridc001,
                          f.praccode.value)

  if(!isWhitespace(f.prseprac.value)) {
    for (var i =0 ; i < f.pridc001.length; i++) {
      var practice = f.pridc001.options[i].value.substr(0,10);
      if (trim(practice)==trim(f.prseprac.value)) {
        f.pridc001.selectedIndex=i
      }
    }
  }
}
function ResetPracCode(PracCode) {
  f = document.SelectPeriod;
  if(!isWhitespace(PracCode)) {
    for (var i =0 ; i < f.pridc001.length; i++) {
      var prac = f.pridc001.options[i].value.substr(0,6);
      if (prac==PracCode) {
        f.pridc001.selectedIndex=i
      }
    }
  }
}
//----------------------------------------------------------------------
// Get Private practice list for doctor code, user id and defaulted
// practice code
//----------------------------------------------------------------------
function selectOptionsDoctUserId(DoctCode,UserId,ReturnSelect,PracCode) {
  var serverURL   = "../cgi-bin/comweb81.pbl?reportno=35" +
                    "&valdcode=" + DoctCode.replace(/ /g,"+") +
                    "&valdcod2=" + UserId.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnSelect.options.length=0

    ReturnSelect.options[ReturnSelect.options.length]=new Option("All","");
    ReturnValue=returnValue.return_value.split("|");
    for (var j=0; j < ReturnValue.length; j++) {
      if (!isWhitespace(ReturnValue[j])) {
        SelectValue=ReturnValue[j].split(",");
        ReturnSelect.options[ReturnSelect.options.length]=
        new Option(SelectValue[1],SelectValue[0]);
      }
    }
    ResetPracCode(PracCode);
   if (typeof(ReturnFunction) == 'function') {
       ReturnFunction() } 
  }

}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable();">
<div id=HeadingSection>
<form name=SelectPeriod action=priweb04.pbl style="margin:0">
<table cellpadding=3 bgcolor=#CCCCCC border=0 width=100%>
<input type=hidden name=reportno value="6">
<input type=hidden name=template value="001">
<input type=hidden name=viewtype value="%PRIWEB04.06.211">
<input type=hidden name=updatety value="0">
<input type=hidden name=dummy value="">
<input type=hidden name=dummy1 value="">
<input type=hidden name=admissno value="%PRIWEB04.06.081">
<input type=hidden name=urnumber value="%PRIWEB04.06.003">
<input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
<input type=hidden name=hospname value="%STANDARD.01.038">
<input type=hidden name=catCLdes id=catCLdes value="%STANDARD.01.017.CL">
<input type=hidden name=webuseri value="%STANDARD.01.008">
<input type=hidden name=webdoctc value="%STANDARD.01.010">
<input type=hidden name=showflag id=showflag value="%PRIWEB04.06.203">
<input type=hidden name=praccode id=praccode value="%PRIWEB04.06.204">
<input type=hidden name=prseprac id=prseprac value="%PRIWEB04.06.205">

<tr><td class=DataLabel>Medical Practice</td>
    <td class=DataField>
      <select name=pridc001 id=pridc001 class="SelectBig"
       title="Medical Practice" onchange='PostFilter();'>
      </select></td>
    <td class=DataLabel>Service HCP</td>
    <td class=DataField>
      <select name=pridc002 id=pridc002 class="SelectBig"
       title="Service HCP"
       onchange="selectOptionsDoctUserId(SelectPeriod.pridc002.value,
                                       SelectPeriod.webuseri.value,
                                       SelectPeriod.pridc001,
                                    SelectPeriod.pridc001.value);PostFilter();">
       <option value=""></option>
        %PRIWEB04.06.102.2
      </select></td>


    <td class=DataLabel>Status</td>
        <td class=DataField>
     <select class=PMenuSelectList name=filtstat onchange='PostFilter();'>
     <option value=" ">All</option>
     <option value="0">New</option>
     <option value="1">Processed</option>
     </select></td>

    <td align=right>Receipt Date
    <input type=button value="<<" class=SmallButton
     onclick='location.href="%PRIWEB04.06.208"'>
     %PRIWEB04.06.210
    <input type=button value=">>" class=SmallButton
     onclick='location.href="%PRIWEB04.06.209"'>
    <a href='javascript:SelectDateFrame();'>
    <img src="../images/DateLookup.gif" border=0
     alt="Select Date" align=absmiddle></a>
    <a href='javascript:SelectView("0");'>
    <img src=../images/DayIcon.gif border=0
     alt="View Today" align=absmiddle></a>
    <a href='javascript:SelectView("1");'>
    <img src=../images/WeekIcon.gif border=0
     alt="View This Week" align=absmiddle></a>
    <a href='javascript:SelectView("2");'>
    <img src=../images/MonthIcon.gif border=0
     alt="View This Month" align=absmiddle></a>
  </td>
 </tr>

<tr><td class=DataLabel>%STANDARD.01.017.CL</td>
        <td class=DataField>
        <select name=filtclam class=SelectMed Title="%STANDARD.01.017.CL"
         onchange="PostFilter();">
        <option value="">All</option>
        %PRIWEB04.06.202.9.1.10.2.X
        </select></td>

    <td class=DataLabel>
    <script type="text/javascript">HFDescription()</script>
    <td><input type=text size=6 maxlength=6 name=filthfnd
       title="" value="%PRIWEB04.06.206.0"
       onchange="validateCode(16,SelectPeriod.filthfnd,SelectPeriod.d_filthfnd,
                              PostFilter);">
        <input type=text size=25 maxlength=30 name=d_filthfnd class=Readonly
         readonly notab value="%PRIWEB04.06.206.1">
     <img src=../images/SearchIcon.gif border=0 hspace=0 align=absmiddle
      class=Icon
 onclick="HealthFundSearchFrame(SelectPeriod.filthfnd,
                                SelectPeriod.d_filthfnd,
                                SelectPeriod.dummy,
                                SelectPeriod.dummy1,PostFilter);">
        <img src="../images/erase.gif" align=absmiddle
         class=Icon
         onclick="clrDoc(SelectPeriod.filthfnd,
                         SelectPeriod.d_filthfnd);PostFilter();">
    </td>
  </tr>
</table>

	<table cellpadding=3 bgcolor=#CCCCCC border=0 width=100%>
	<tr><td class=DataLabel width=15%>Automatic Processing Option</td>
		<td width=15% class=DataField>
		<select name=filtauto class=SelectBig 
		 Title="Automatic Processing Option"
		 onchange="DebtMovement();PostFilter();">
		<option value="0"></option>
		<option value="1">Reprocess All Previous</option>
		<option value="2">Bulk New Movement</option>
		</select></td>

	    <td>&nbsp;</td>
    <td class=DataLabel>Select all to Reassign Debt
        <input type=checkbox name=reasgall value="0" 
         onclick="TickAssignAll();"></td>
    <td width=15%><div id=DebtReason1></div></td>
    <td width=15%><div id=DebtReason2></div></td>
    <td><div id=AgentCollect></div></td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Select all to Reprint Invoice
        <input type=checkbox name=rprntall value="0"
         onclick="TickPrtAll();"></td>
    <td>Printer
        <select name="selprint" title="Printer">
        %STANDARD.01.001.PRIWEB04.06
        </select></td>
    <td><input type=submit value="Go" class=SmallButton
     name=gobutton id=gobutton
     onclick="tempDisable(this);GoProcess();"></td>
</tr>

</table>
</form>
</div>
<div id="TableLocation"> </div>

<span id=Reason1 style="display:none">
    <b>Reason for Debt Movement</b>
</span>

<span id=Reason2 style="display:none">
     <select name=reasmove
     title="Debt Collection Agency" onchange="ChkCollectAgent();">
    <option value=""></option>
     %PRIWEB04.06.213.2
     </select>
</span>

<span id=Agent style="display:none">
    <b>Collection Agency</b>
    <select name=debtagnt class=Mandatory
     title="Debt Collection Agency">
    <option value=""></option>
     %PRIWEB04.06.214.2
    </select>
</span>

<span id=NoAgent style="display:none">
    &nbsp;&nbsp;
</span>

<script type="text/javascript">
</script>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=4>
<input type=hidden name=template value=002>
<input type=hidden name=updttype value="">
<input type=hidden name=invoicen value="%PRIWEB04.06.212">
<input type=hidden name=admissno value="%PRIWEB04.06.081">
<input type=hidden name=urnumber value="%PRIWEB04.06.003">
</form>

<script type="text/javascript">

function InitTable() {
 document.title="Receipts Processing " + document.SelectPeriod.hospname.value
 t = new Table(1,0,1,"100%","center",35,35);    // Create New Table Object
 template = 6
// Add Columns in Order Required

// Heading,Type,Display Column,Sort Column,Align
 t.addColumn("Medical Practice","String",1,1,"left","EditIcon.gif","0",70)
 t.addColumn("Service HCP","String",2,2,"left","","",70)
 t.addColumn(document.SelectPeriod.catCLdes.value,"String",3,3,"left","","",70)
 t.addColumn("Health Fund","String",4,4,"left","","",70)
 t.addColumn("Name","ImageText",5,5,"left","PatientFolder","13",180,15)
 t.addColumn("Invoice Date","Date",6,6,"left","","",70)
 t.addColumn("Invoice ##","String",7,7,"right","","",50)
 t.addColumn("Invoice Total","Number",8,8,"right","","",50)
 t.addColumn("Paid","Number",9,9,"right","","",50)
 t.addColumn("Journal","Number",10,10,"right","","",50)
 t.addColumn("Outstanding","Number",11,11,"right","","",80)
 t.addColumn("Receipt Date","Date",12,12,"left","","",70)
 t.addColumn("Patient Portion","Number",14,14,"right","","",50)
 t.addColumn("Reassign Debt","String",16,16,"left","","",50)
 t.addColumn("Reprint Invoice","String",17,17,"left","","",50)

 AddTableRows()
 OrderColumn=5;
 AscDsc=1;
 lastOrderColumn=OrderColumn;
 TableOutput(OrderColumn,AscDsc);
}

function AddTableRows() {
%PRIWEB04.06.201.patweb98.01.001
}

  InitialSetup();
//
 FilterStat="%PRIWEB04.06.207";
 for (var i =0 ; i < document.SelectPeriod.filtstat.length; i++) {
  if (document.SelectPeriod.filtstat.options[i].value==trim(FilterStat)) {
       document.SelectPeriod.filtstat.selectedIndex=i } };

 FilterAuto="%PRIWEB04.06.215";
 for (var i =0 ; i < document.SelectPeriod.filtauto.length; i++) {
  if (document.SelectPeriod.filtauto.options[i].value==trim(FilterAuto)) {
       document.SelectPeriod.filtauto.selectedIndex=i } };

  DebtMovement();
//
</script>

<form name=ProcessForm id=ProcessForm method=post action=priweb04.pbl>
  <input type=hidden name=reportno value=6>
  <input type=hidden name=template value=001>
  <input type=hidden name=nextpage value="0">
  <input type=hidden name=admissno value="">
  <input type=hidden name=filtauto value="">
  <input type=hidden name=reasmove value="">
  <input type=hidden name=debtagnt value="">
  <input type=hidden name=selprint value="">
  <input type=hidden name=updatety value="4">
</form>

