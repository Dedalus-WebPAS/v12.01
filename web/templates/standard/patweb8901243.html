<meta name="TemplateVersion" content="V12.01.01">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/AutoPostCode.js"> </script>
<script type="text/javascript" src="../js/Comp_FD.js"> </script>
<!-- Foreign Defence -->
<script type="text/javascript">
function SetCancel() {
  if (!confirm("Warning: Foreign Defence data will not be updated!\n" +
               "Ok to Continue ?")) {
   return;
  } 

  if(document.UpdateForm.seriflag.value=="1"){  // Single HCP Series
    var link="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+")   +
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+")
  } else if (document.UpdateForm.seriflag.value=="2"){ // Multiple HCP Series
    var linkurl="outweb08.pbl?reportno=01&template=003" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&firstadm=" + document.UpdateForm.firstadm.value.replace(/ /g,"+")  + 
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+")
    var link=GetOutCookie(linkurl," ","MultipleHCP");
  } else {
    var link ="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&waitflag=" + document.UpdateForm.waitflag.value.replace(/ /g,"+") +
    "&shwprint=1"
  }
  location.href= link;
}

function checkReferralProcess() {
  if (!isWhitespace(UpdateForm.referadm.value) && 
      !isWhitespace(UpdateForm.referdep.value)) {
    document.UpdateForm.redirect.value="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&referadm=" + document.UpdateForm.referadm.value.replace(/ /g,"+") +
    "&referdep=" + document.UpdateForm.referdep.value.replace(/ /g,"+"); 
  }
}


function SubmitClaim() {
  if(document.UpdateForm.seriflag.value=="1"){  // Single HCP Series
    document.UpdateForm.redirect.value="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") 
    document.UpdateForm.redirec1.value="&firstadm=" + 
    document.UpdateForm.firstadm.value.replace(/ /g,"+") +
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+") +
    "&shwprint=1"
  } else if (document.UpdateForm.seriflag.value=="2"){ // Multiple HCP Series
    document.UpdateForm.redirect.value="outweb08.pbl?reportno=01&template=003" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") 
    document.UpdateForm.redirec1.value="&firstadm=" + 
    document.UpdateForm.firstadm.value.replace(/ /g,"+") +
    "&bookflag=" + document.UpdateForm.bookflag.value.replace(/ /g,"+") +
    "&refrlvis=" + document.UpdateForm.refrlvis.value.replace(/ /g,"+")
  } else {
    document.UpdateForm.redirect.value="outweb02.pbl?reportno=03&template=001" +
    "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
    "&casekeys=" + document.UpdateForm.casekeys.value.replace(/ /g,"+") +
    "&shwprint=1" 
    if(document.UpdateForm.waitflag.value=="1" ||
       document.UpdateForm.waitflag.value=="2") {
        document.UpdateForm.redirec1.value="&waitflag=" +
        document.UpdateForm.waitflag.value + "&shwprint=1";
    }
  }

  if(document.UpdateForm.scrname.value=="OCR"){
    document.UpdateForm.redirect.value += "&showfoll=1";
  }

  checkReferralProcess();

 if(validateMandatory(UpdateForm)){
  if(document.UpdateForm.d_ffaddr.checked==true) {
   document.UpdateForm.pmext080.value=document.UpdateForm.d_pmext080.value;
  } else {
   document.UpdateForm.pmext080.value="";
  }

  UpdateForm.updatety.value="5";
  document.UpdateForm.submit();
 }
}

function setAddrLine4(theForm) {
  var savpcode="";
  if (theForm.oldpcode!=undefined) {
      if (trim(theForm.oldpcode.value)!="8888") {
          savpcode = theForm.oldpcode.value;
      }
  }
  if (theForm.oseasflg.checked==1) {
     AddressLine4H.innerHTML=document.getElementById('OseasCountryH').innerHTML
     AddressLine4.innerHTML=document.getElementById('OseasCountry').innerHTML
     if (trim(theForm.pmext008.value)!="8888") {
         theForm.pmext007.value="";
         theForm.pmext008.value="8888";
         LookupSuburb("8888");
     }
  } else {
     AddressLine4H.innerHTML=document.getElementById('AustStateH').innerHTML
     AddressLine4.innerHTML=document.getElementById('AustState').innerHTML
     if (trim(theForm.pmext008.value)=="8888") {
         theForm.pmext007.value="";
         theForm.pmext008.value=savpcode;
         LookupPostCode(theForm.pmext008.value);
     }
  }
  state = theForm.pmext007;
}
function checkOverseas() {
  if (trim(document.UpdateForm.pmext008.value)=="8888") {
    document.UpdateForm.oseasflg.checked=true;
  } else {
    document.UpdateForm.oseasflg.checked=false;
  }
  setAddrLine4(UpdateForm);
}
function SetPostCode01() {
 suburb   = document.UpdateForm.pmext006;
 state    = document.UpdateForm.pmext007;
 postcode = document.UpdateForm.pmext008;
 if (document.UpdateForm.oseasflg!=undefined) {
    if (trim(postcode.value)=="8888") {
       document.UpdateForm.oseasflg.checked=true;
    } else {
       document.UpdateForm.oseasflg.checked=false;
    }
    setAddrLine4(UpdateForm)
 }
}

</script>
%START.OF.PAGE
<body onLoad="PageLoad(event);GetDefaultIns();SetPostCode01();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<form name=UpdateForm action="patweb89.pbl" method=post
onsubmit='return validateMandatory(this);'>
<input type=hidden name=reportno value="02">
<input type=hidden name=template value="243">
<input type=hidden name=updatety value="5">
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=pmext017 value="%PATWEB89.01.003">
<input type=hidden name=pmext018 value="%PATWEB89.01.987">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=pmext001 value="%PATWEB89.01.101">
<input type=hidden name=pmext002 value="%PATWEB89.01.988.1">
<input type=hidden name=claimcod value="%PATWEB89.01.126.3">
<input type=hidden name=pmext080 value="%PATWEB89.01.384.080">
<input type=hidden name=addeflag value="%PATWEB89.01.999.005">
<input type=hidden name=finanelc value="%PATWEB89.01.988.1">
<input type=hidden name=refrlvis value="%PATWEB89.01.957">
<input type=hidden name=bookflag value="%PATWEB89.01.958">
<input type=hidden name=nextpage value=2>
<input type=hidden name=mvmedrec value="%PATWEB89.01.902">
<input type=hidden name=redirect value="">
<input type=hidden name=redirec1 value="">
<input type=hidden name=casekeys value="%PATWEB89.01.907">
<input type=hidden name=claimtyp value="F">
<input type=hidden name=seriflag value="%PATWEB89.01.927">
<input type=hidden name=waitflag value="%PATWEB89.01.931">
<input type=hidden name=firstadm value="%PATWEB89.01.928">
<input type=hidden name=faxnumbr value=" ">
<input type=hidden name=oldpcode value="%PATWEB89.01.384.008">
<input type=hidden name=scrname  value="%PATWEB89.01.999.137">
<input type=hidden name=referdep value="%PATWEB89.01.999.140">
<input type=hidden name=referadm value="%PATWEB89.01.999.141">
<table border=1 width=100% cellspacing=0 cellpadding=1>
<tr><td class=HeadingCell align=center>
    Foreign Defence Details</td></tr>
<tr><td>

    <table width=100% border=0>

<tr><td>ID Number</td>
    <td><input type="text" size="25" maxlength="20" name=pmext142 tabindex=1
        value="%PATWEB89.01.384.099.044" title="ID Number"></td>

    <td class=DataLabel>Social Security Number</td>
        <td><input type="text" size="22" maxlength="20" tabindex=11
             title="Service Number" name="pmext027"
             value="%PATWEB89.01.384.027"></td>
</tr>

<tr><td class=DataLabel>Duty Station Name</td>
    <td><input type="text" size="30" maxlength="30" name=pmext003 tabindex=2
      class=Mandatory value="%PATWEB89.01.384.003" title="Duty Station Name">
    </td>
    <td class=DataLabel>Branch of Service</td>
    <td><select name="pmext020" title="Branch of Service" tabindex=12
         class=Mandatory value="%PATWEB89.01.384.020.1">
        <option> </option>
          %PATWEB89.01.384.020.9.1.03.1.F.2
        </select></td>
</tr>

<tr><td class=DataLabel>Overseas Address</td>
    <td><input type=checkbox name=oseasflg
           onClick='setAddrLine4(UpdateForm);'>
    </td>
    <td class=DataLabel>Country</td>
    <td><select name="pmext028" title="Country" tabindex=13
         value="%PATWEB89.01.384.028.0">
        <option> </option>
         %PATWEB89.01.384.028.2
        </select></td>
</tr>

<tr><td class=DataLabel>Duty Station Address</td>
    <td><input type="text" size="35" maxlength="35" name=pmext004 tabindex=3
      value="%PATWEB89.01.384.004" title="Duty Station Address 1">
    </td>
    <td class=DataLabel>Rank</td>
        <td><select name="pmext054" title="Rank" tabindex=14 class=Mandatory>
        <option> </option>
         %PATWEB89.01.384.054.2
        </select></td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=pmext005 tabindex=4
      value="%PATWEB89.01.384.005" title="Duty Station Address 2">
    </td>
    <td class=DataLabel>Comments</td>
    <td><input type="text" size="55" maxlength="50" name=pmext059 tabindex=15
        value="%PATWEB89.01.384.059" title="Comments"></td>
</tr>

<tr><td class=DataLabel>Suburb<br></td>
    <td><input type="text" size="35" maxlength="35" name=pmext006 tabindex=5
      value="%PATWEB89.01.384.006" title="Duty Station Address 3"
      onblur="valStationPostCode();">
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmext060 tabindex=16
        value="%PATWEB89.01.384.060" title="Comments"></td>
</tr>

<!-- <tr><td class=DataLabel>State</td>
        <td><input type="text" size="35" maxlength="35" name=pmext007 tabindex=6
          value="PATWEB89.01.384.007" title="Duty Station Address 4">
        </td>                            -->
<tr>
    <td><div id=AddressLine4H></div></td>
    <td><div id=AddressLine4></div></td>

    <td class=DataLabel>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmext061 tabindex=17
         value="%PATWEB89.01.384.061" title="Comments"></td>
</tr>

<tr><td class=DataLabel>Post Code</td>
    <td><input type="text" size="8" maxlength="8" name=pmext008 tabindex=7
      value="%PATWEB89.01.384.008" title="Duty Station Postcode"
      onchange="checkOverseas();LookupSuburb(UpdateForm.pmext008.value);">
    </td>
    <td class=DataLabel>Other Address</td>
    <td><input type=checkbox name=d_ffaddr tabindex=18
     title="Other Address"
     onclick="DispFFAddr();BillMand();">
</td></tr>


<tr><td class=DataLabel>Billing Address<br>(Insurance Company)</td>
    <td><select name="pmext012" tabindex=8 id="pmext012"
         value="%PATWEB89.01.384.012.0"
         title="Billing Address (Insurance Company)"
         onchange="DisplayIns();">
        <option> </option>
         %PATWEB89.01.999.011.0 
        </select></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=insadd1
        class=ReadOnly readonly title="Insurance Address"></td>
    <td><div id=LContactAdd1></div></td>
    <td><div id=FContactAdd1></div></td></tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=insadd2
        class=ReadOnly readonly title="Insurance Address"></td>
    <td><div id=LContactAdd2></div></td>
    <td><div id=FContactAdd2></div></td></tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=insadd3
        class=ReadOnly readonly title="Insurance Address"></td>
    <td><div id=LContactAdd3></div></td>
    <td><div id=FContactAdd3></div></td></tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=insadd4
        class=ReadOnly readonly title="Insurance Suburb"></td>
    <td><div id=LContactAdd4></div></td>
    <td><div id=FContactAdd4></div></td></tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="8" maxlength="8" name=inspcode
        class=ReadOnly readonly title="Insurance Postcode"></td>
    <td><div id=LContactPCode></div></td>
    <td><div id=FContactPCode></div></td></tr>

<tr><td>Contact Name</td>
    <td><input type="text" size="50" maxlength="50" name=inscname
        class=ReadOnly readonly title="Insurance Contact Name"></td>
    <td><div id=LContactPName></div></td>
    <td><div id=FContactPName></div></td></tr>

<tr><td>Contact Phone</td>
    <td><input type="text" size="20" maxlength="20" name=insctelp
        class=ReadOnly readonly title="Insurance Contact Phone"></td>
    <td><div id=LContactPhone></div></td>
    <td><div id=FContactPhone></div></td></tr>

</table>
</td></tr>
</table>

<table cellspacing=0 cellpadding=1 border=0 align=center width=100%>
<tr><td colspan=4 align=center>
    <input type=button value="Update" tabindex=35 class="button" 
     id="pat89sub" onclick="tempDisable(this);SubmitClaim();">
    <input type=button value="Cancel" tabindex=36 
     onclick="SetCancel();" class="button"></td></tr>

</table>
</form>

<div id=SelectHeading></div>
<div id=SelectLocation></div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=regexstm value=102>
<input type=hidden name=newstand value=1>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>

<span id=LFAdd1 style="display:none">
     Address
</span>
<span id=LFAdd3 style="display:none">
     Suburb
</span>
<span id=LFAdd4 style="display:none">
     State
</span>
<span id=LFPostCode style="display:none">
     Post Code
</span>
<span id=LFCName style="display:none">
     Contact Name
</span>
<span id=LFCPhone style="display:none">
     Contact Phone
</span>

<span id=FFAdd1 style="display:none">
       <input type="text" size="35" maxlength="35" name=d_pmext080 tabindex=20
      class=Mandatory value="%PATWEB89.01.384.080" title="Free format Address">
</span>

<span id=FFAdd2 style="display:none">
      <input type="text" size="35" maxlength="35" name=pmext081 tabindex=21
      value="%PATWEB89.01.384.081" title="Free format Address">
</span>

<span id=FFAdd3 style="display:none">
      <input type="text" size="35" maxlength="35" name=pmext082 tabindex=22
      value="%PATWEB89.01.384.082"
      onblur="valPostCode();">
</span>

<span id=FFAdd4 style="display:none">
      <input type="text" size="35" maxlength="35" name=pmext083 tabindex=23
      value="%PATWEB89.01.384.083" title="Free format Address">
</span>

<span id=FFPCode style="display:none">
      <input type="text" size="8" maxlength="8" name=pmext084 tabindex=24
      value="%PATWEB89.01.384.084" title="Free format Address"
      onchange="LookupSuburb(UpdateForm.pmext084.value)">
</span>

<span id=FFCName style="display:none">
      <input type="text" size="50" maxlength="50" name=pmext085 tabindex=25
      value="%PATWEB89.01.384.085" title="Free format Contact Name">
</span>

<span id=FFCPhone style="display:none">
      <input type="text" size="20" maxlength="20" name=pmext086 tabindex=26
      value="%PATWEB89.01.384.086" title="Free format Contact Phone">
</span>

<span id=AustStateH style="display:none">
&nbsp;
</span>
<span id=AustState style="display:none">
        <input type=text size=35 maxlength=35
       name=pmext007 title="Address Line 4" tabindex=10
       value="%PATWEB89.01.384.007"
       onChange="checkAdd01();UpCase(this);">
</span>

<span id=OseasCountryH style="display:none">
Country
</span>
<span id=OseasCountry style="display:none">
        <select name="pmext007" tabindex=10 class="select120 Mandatory"
                 title="Country Address">
        <option></option>
        %PATWEB89.01.384.099.046
        </select>
</span>

<script type="text/javascript">
 address="%PATWEB89.01.384.080";
 if(!isWhitespace(address)) {
   document.UpdateForm.d_ffaddr.checked=true;
 } else {
   document.UpdateForm.d_ffaddr.checked=false;
 }

 ffadd="%PATWEB89.01.384.080";
  if (!isWhitespace(ffadd)) {
    DispFFAddr();
  }
 mandfield=document.UpdateForm.claimcod.value.substr(34,1);
  if (mandfield!="B") {
     if(isWhitespace(address)) {
       document.UpdateForm.pmext012.className="Mandatory";
     }
  }
</script>
