<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome"    content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/priweb02.js"></script>
<script type="text/javascript" src="../js/AddressSearch.js"></script>

<script type="text/javascript">
function setRedirect() {
  checkInd=UpdateForm.claimcod.value.substr(3,5)
  checkCVT=UpdateForm.claimcod.value.substr(8,1)
  if (checkInd.search(/M/g) >= 0) {
     UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=007"
         + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
         + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
         + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
         + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
         + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
   } else if (checkInd.search(/V/g) >= 0) {
      UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=008"
         + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
         + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
         + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
         + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
         + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
   } else if (checkInd.search(/W/g) >= 0) {
      UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=006"
         + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
         + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
         + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
         + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
         + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
   } else if (checkCVT.search(/C/g) >= 0) {
      UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=017"
         + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
         + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
         + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
         + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
         + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
   } else {
      UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=001"
         + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
         + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
         + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
         + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
         + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
   }
}
function FormSubmit(type) {

  if (document.getElementById("ptcnuimc").value == "1" &&
      type == "U") {
    if (document.getElementById("prhre028").value.substr(3,1) == "7" ||
        document.getElementById("prhre028").value.substr(3,1) == "6") {
      if (document.getElementById("prhre032").value != "1") {
        alert("Benefit Assigned Authorised must be Yes if Type of IMC is MO or MB.");
        return;
      }
    }

    if (document.getElementById("prhre028").value.substr(3,1) == "2") {
      if (document.getElementById("prhre033").value.substr(3,1) != "W" &&
          document.getElementById("prhre033").value.substr(3,1) != "X") {
        alert("IFC Issue Code must be set to W or X if Type of IMC is SC.");
        return;
      }
    }

    if (document.getElementById("prhre028").value.substr(3,1) == "1") {
      if (document.getElementById("prhre033").value.substr(3,1) != "W" &&
          document.getElementById("prhre033").value.substr(3,1) != "X" &&
          document.getElementById("prhre033").value.substr(3,1) != "V") {
        alert("IFC Issue Code must be set to W,X or V if Type of IMC is AG.");
        return;
      }
    }

    if (document.UpdateForm.prhre004 != undefined &&
        !isWhitespace(document.UpdateForm.prhre002.value) &&
        !isWhitespace(document.UpdateForm.prhre004.value)) {

      if (trim(document.UpdateForm.prhre002.value.substr(0,6)) ==
          trim(document.UpdateForm.prhre004.value.substr(0,6))) {

        alert("The Referring HCP cannot be the same as the Service HCP. Please change.");
        return;

      }

    }

    if (document.getElementById("prhre028").value.substr(3,1) == "2") {
      if (document.getElementById("prhre037").value != "1") {
        alert("Financial Int Disclosure Ind must be set to Yes if Type of IMC is SC.");
        return;
      }
    }

  }

  //T0867807-Start
  //Benefit Assigned Authorised must be Yes if bulk billing
  if (document.getElementById('ptcnuebb').value=="1" && type=="U" &&
      document.getElementById('prhre028').value.substr(3,1)=="3" &&
      document.getElementById('prhre032').value!="1"){
      alert("Benefit Assigned Authorised must be Yes");
      return;
  }
  //T0867807-End

    document.UpdateForm.updttype.value=type;
    if (validateMandatory(UpdateForm)) {
       setRedirect();
       document.UpdateForm.submit();
    }
}
function prfa1() {
    if (ReturnValue[1]=="C") {
      document.UpdateForm.prhre015.value="Medicare";
      document.UpdateForm.prhre016.value="";
      document.UpdateForm.prhre017.value="";
      document.UpdateForm.prhre018.value="";
      document.UpdateForm.prhre019.value="";
      document.UpdateForm.prhre020.value="";
      document.UpdateForm.prhre021.value="";
      document.UpdateForm.prhre022.selectedIndex = 0; }
}
function SetFields() {
 state = UpdateForm.prhre026;
 suburb = UpdateForm.prhre018;
 postcode = UpdateForm.prhre019;
}
function CheckSuburb(Address) {
  if(Address!="") {
    LookupPostCode(Address);
  }
}
function showAccDate() {
  checkInd=document.UpdateForm.claimcod.value.substr(3,5)
  if ((checkInd.search(/M/g) >= 0) ||
      (checkInd.search(/W/g) >= 0)) {
     AccDateOption.style.display="";
     AccDateOption.innerHTML=AccidentDate.innerHTML; }
  else {
     AccDateOption.innerHTML=" ";
     AccDateOption.style.display="none"; }
}
function linkNxtInv(type) {
  document.UpdateForm.updttype.value=type;
  if (validateMandatory(UpdateForm)) {
     checkInd=UpdateForm.claimcod.value.substr(3,5)
     checkCVT=UpdateForm.claimcod.value.substr(8,1)
     if (checkInd.search(/M/g) >= 0) {
        UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=007"
           + "&progflag=9"
           + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
           + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
           + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
           + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
           + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
     } else if (checkInd.search(/V/g) >= 0) {
        UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=008"
           + "&progflag=9"
           + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
           + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
           + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
           + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
           + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
     } else if (checkInd.search(/W/g) >= 0) {
        UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=006"
           + "&progflag=9"
           + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
           + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
           + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
           + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
           + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
     } else if (checkCVT.search(/C/g) >= 0) {
        UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=017"
           + "&progflag=9"
           + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
           + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
           + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
           + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+")
           + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
     } else {
        UpdateForm.redirect.value="priweb02.pbl?reportno=01&template=013"
           + "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+")
           + "&uniqnumb=" + UpdateForm.uniqnumb.value.replace(/ /g,"+")
           + "&prhre001=" + UpdateForm.prhre001.value.replace(/ /g,"+")
           + "&prhre002=" + UpdateForm.prhre002.value.replace(/ /g,"+")
           + "&prhre003=" + UpdateForm.prhre003.value.replace(/ /g,"+");
     }

  if (document.getElementById("ptcnuimc").value == "1" &&
      type == "U") {
    if (document.getElementById("prhre028").value.substr(3,1) == "7" ||
        document.getElementById("prhre028").value.substr(3,1) == "6") {
      if (document.getElementById("prhre032").value != "1") {
        alert("Benefit Assigned Authorised must be Yes if Type of IMC is MO or MB.");
        return;
      }
    }

    if (document.getElementById("prhre028").value.substr(3,1) == "2") {
      if (document.getElementById("prhre033").value.substr(3,1) != "W" &&
          document.getElementById("prhre033").value.substr(3,1) != "X") {
        alert("IFC Issue Code must be set to W or X if Type of IMC is SC.");
        return;
      }
    }

    if (document.getElementById("prhre028").value.substr(3,1) == "1") {
      if (document.getElementById("prhre033").value.substr(3,1) != "W" &&
          document.getElementById("prhre033").value.substr(3,1) != "X" &&
          document.getElementById("prhre033").value.substr(3,1) != "V") {
        alert("IFC Issue Code must be set to W,X or V if Type of IMC is AG.");
        return;
      }
    }

    if (document.UpdateForm.prhre004 != undefined &&
        !isWhitespace(document.UpdateForm.prhre002.value) &&
        !isWhitespace(document.UpdateForm.prhre004.value)) {

      if (trim(document.UpdateForm.prhre002.value.substr(0,6)) ==
          trim(document.UpdateForm.prhre004.value.substr(0,6))) {
        alert("The Referring HCP cannot be the same as the Service HCP. Please change.");
        return;

      }

    }

  }

  //T0867807-Start
  //Benefit Assigned Authorised must be Yes if bulk billing
  if (document.getElementById('ptcnuebb').value=="1" && type=="U" &&
      document.getElementById('prhre028').value.substr(3,1)=="3" &&
      document.getElementById('prhre032').value!="1"){
      alert("Benefit Assigned Authorised must be Yes");
      return;
  }
  //T0867807-End

  document.UpdateForm.submit();
  }
}
// Default Postal address to patient details
function defaultAddr() {
  document.UpdateForm.prhre016.value=document.UpdateForm.postadd1.value;
  document.UpdateForm.prhre017.value=document.UpdateForm.postadd2.value;
  document.UpdateForm.prhre018.value=document.UpdateForm.postadd3.value;
  document.UpdateForm.prhre019.value=document.UpdateForm.postpost.value;
  document.UpdateForm.prhre026.value=document.UpdateForm.postadd4.value;
  document.UpdateForm.defaultButton.disabled=true;
}
// Check if default postal address is allowed
function setDefaultButton() {
  document.UpdateForm.defaultButton.disabled=false;
  if(document.UpdateForm.ptcnnewc.value=="1") {
    document.UpdateForm.postadd1.value=document.UpdateForm.x_padd1.value;
    document.UpdateForm.postadd2.value=document.UpdateForm.x_padd2.value;
    document.UpdateForm.postadd3.value=document.UpdateForm.x_psubrb.value;
    document.UpdateForm.postpost.value=document.UpdateForm.x_ppost.value;
    document.UpdateForm.postadd4.value=document.UpdateForm.x_padd4.value;
  }
  if (isWhitespace(document.UpdateForm.postadd1.value)) {
     document.UpdateForm.defaultButton.disabled=true;
  }
  var strchk=document.UpdateForm.claimcod.value.substr(3,5);
  if ((strchk.search(/M/g) >= 0) ||
      (strchk.search(/W/g) >= 0) ||
      (strchk.search(/V/g) >= 0)) {
        document.UpdateForm.defaultButton.disabled=true;
  }
}
function RefComments() {
  LinkURL="priweb02.pbl?reportno=13&template=001&urnumber=" +
           document.UpdateForm.urnumber.value.replace(/ /g,"+")
         + "&uniqnumb=" + document.UpdateForm.uniqnumb.value.replace(/ /g,"+")
         + "&prhre001=" + document.UpdateForm.prhre001.value.replace(/ /g,"+")
         + "&prhre002=" + document.UpdateForm.prhre002.value.replace(/ /g,"+")
         + "&prhre003=" + document.UpdateForm.prhre003.value.replace(/ /g,"+")

  Left=(document.body.clientWidth-880)/2
  DFrameLink(LinkURL,0,Left,880,400);
}
function assignrefEclipseDIV() {
  refEclipseDIV1.innerHTML="";
  refEclipseDIV2.innerHTML="";
  refEclipseDIV3.innerHTML="";
  refEclipseDIV4.innerHTML="";
  refEclipseDIV5.innerHTML="";

  if (isWhitespace(document.getElementById('prhre028').value)) {return;}

  if (document.getElementById('prhre028').value.substr(4,1)=="R") {
    refEclipseDIV1.innerHTML=refEclipseSPAN1.innerHTML;
    if (document.UpdateForm.prcndocm.value == 1) {
//    document.UpdateForm.prhre004.className="Mandatory"; //T0872823
      document.UpdateForm.doctnam2.className="Mandatory"; //T0872823
      document.UpdateForm.prhre005.className="Mandatory";
      document.UpdateForm.prhre025.className="Mandatory"; //T0867807
    }
  }

  if (document.getElementById('prhre028').value.substr(3,1)=="1" ||
      document.getElementById('prhre028').value.substr(3,1)=="2" ||
      document.getElementById('prhre028').value.substr(3,1)=="6" ||
      document.getElementById('prhre028').value.substr(3,1)=="7") {
    refEclipseDIV2.innerHTML=refEclipseSPAN2.innerHTML;
    for (var i =0 ; i < document.getElementById('prhre030').length; i++) {
     if (document.getElementById('prhre030').options[i].value==
         document.UpdateForm.d_prhre030.value) {
         document.getElementById('prhre030').selectedIndex=i } };
    refEclipseDIV3.innerHTML=refEclipseSPAN3.innerHTML;

    if (document.getElementById('prhre028').value.substr(3,1)=="2") {
      document.getElementById('prhre037').className="Mandatory";
      document.getElementById('prhre037').selectedIndex=2;
    }

  if (document.UpdateForm.doctnam2 != undefined) {
    document.UpdateForm.doctnam2.className="";
    validateRefDoctor();
  }

  }

  //T0859743-start
  //Show Benefit Assigned Authorised if bulk billing
  if (document.getElementById('ptcnuebb').value=="1" &&
      document.getElementById('prhre028').value.substr(3,1)=="3") {
     refEclipseDIV4.innerHTML=refEclipseSPAN4.innerHTML;
  }

  if (document.getElementById('ptcndvaw').value=="1" &&
      document.getElementById('prhre028').value.substr(3,1)=="8") {
     refEclipseDIV4.innerHTML=refEclipseSPAN4.innerHTML;
  }

  if (document.UpdateForm.prhre032 != undefined) {
    for (var i =0 ; i < document.getElementById('prhre032').length; i++) {
       if (document.getElementById('prhre032').options[i].value==
           document.UpdateForm.d_prhre032.value) {
           document.getElementById('prhre032').selectedIndex=i } };
  }

  //Show Referral Override when either the Using Eclipse IMC,
  //Using Eclipse Patient Store and Forward or Using Eclipse Bulk Billing
  //parameters are enabled
  if ((document.getElementById('ptcnuimc').value=="1") ||
      (document.getElementById('ptcnuesf').value=="1") ||
      (document.getElementById('ptcndvaw').value=="1") ||
      (document.getElementById('ptcnuebb').value=="1")) {
     refEclipseDIV5.innerHTML=refEclipseSPAN5.innerHTML;
  }
  //T0859743-end


}
/*************************************************************
*  tableId   - table with all divs for Claim Type selection
*  index  - the number to start the tabindex
*  setTabIndexsByElement() - Recursive function to set tab indexes for
*                            hidden DIV
**************************************************************/
var tabIndex;
var txt=""
function setTabIndexs(){
  tabIndex=1;  // starting tabindex counter for DIV(s)
  var tableElement = document.getElementById("tblClaimType");
  setTabIndexsByElement(tableElement);
}

function setTabIndexsByElement(Node){ //Recursive function to set tab index
  if (Node) {
    if (Node.childNodes) {
      for (var i = 0; i < Node.childNodes.length; i++) {
        el = Node.childNodes[i];
        if (el.nodeType != 3 && (el.nodeName == "INPUT"  || el.nodeName == "SELECT"))
        {
          if (el.type != "hidden" && !el.readOnly) {
            tabIndex++;
            el.tabIndex = tabIndex;
          }
        }
        if (el.nodeType != 3 && el.childNodes) {
          setTabIndexsByElement(el);
        }
      }
    }
  }
}

//
// Functions called from AddressSearch.js
//
function InitAddressSearch() {
  // line1 - 'prhre016'
  // line2 - 'prhre017'
  // suburb - 'prhre018'
  // state - 'prhre026'
  // postcode - 'prhre019'

  InitAddressSearchFields('trAddrSrch','prhre016','prhre017','prhre018','prhre026','prhre019');
}
function ShowAddressSearch() {
  OpenAddressSearch('1',PopulateAddress,ClearSearchAddress);
}
function PopulateAddress(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('prhre016', true);
  ToggleFieldReadOnly('prhre017', false);
  ToggleFieldReadOnly('prhre018', true);
  ToggleFieldReadOnly('prhre026', true);
  ToggleFieldReadOnly('prhre019', true);

  SetFieldValue('prhre016',StreetLine);
  SetFieldValue('prhre017','');
  SetFieldValue('prhre018',Suburb);
  SetFieldValue('prhre026',State);
  SetFieldValue('prhre019',Postcode);
}
function ClearSearchAddress() {
  ToggleFieldReadOnly('prhre016', false);
  ToggleFieldReadOnly('prhre017', false);
  ToggleFieldReadOnly('prhre018', false);
  ToggleFieldReadOnly('prhre026', false);
  ToggleFieldReadOnly('prhre019', false);

  SetFieldValue('prhre016','');
  SetFieldValue('prhre017','');
  SetFieldValue('prhre018','');
  SetFieldValue('prhre026','');
  SetFieldValue('prhre019','');
}
function validateRefDoctor() {
  if (document.UpdateForm.prhre034.value.substr(3,1)=="S") {
    document.UpdateForm.doctnam2.className="Mandatory";
  } else {
    document.UpdateForm.doctnam2.className="";
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitPostCodes();SetFields();showAccDate();
              setDefaultButton();validateIMC();displayReferralPeriodMonths();
              InitAddressSearch();">
<div id="PatientHeading"></div>
<script type="text/javascript">
PatientURN="%PRIWEB02.01.003";
PatientVIS="%PRIWEB02.01.081";
PatientNAM="%PRIWEB02.01.002";
PatientSTA="%PRIWEB02.01.086.078";
PatientALT="%PRIWEB02.01.084";
PatientSEX="%PRIWEB02.01.019";
PatientDOB="%PRIWEB02.01.020";
PatientAGE="%PRIWEB02.01.021";
PatientLOC="%PRIWEB02.01.083";
PatientPRI="%PRIWEB02.01.086.066.1";
PatientUNT="%PRIWEB02.01.066.0";
DoctorCOD="%PRIWEB02.01.082.003";
DoctorNAM="%PRIWEB02.01.082.002";
PatientAID="%PRIWEB02.01.086.090";
PatientIND="%PRIWEB02.01.086.091";
PatientCUR="%PRIWEB02.01.086.092";
PatientCLC="%PRIWEB02.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PRIWEB02.01.086.094";
PatientCDM="%PRIWEB02.01.086.095";
PatientVDH="%PRIWEB02.01.086.099.015";
InsertPatientHeader()
</script>
<div id="PatientMenu"></div>

<div id="PageBodySection">
<form name="UpdateForm" method="post" action="priweb02.pbl" style="margin:0">
<input type=hidden name="urnumber" value="%PRIWEB02.01.003" />
<input type=hidden name="admissno" value="%PRIWEB02.01.081" />
<input type=hidden name="uniqnumb" value="%PRIWEB02.01.207" />
<input type=hidden name="prhre001" value="%PRIWEB02.01.101.0" />
<input type=hidden name="prhre002" value="%PRIWEB02.01.102.001" />
<input type=hidden name="prhre003" value="%PRIWEB02.01.103.1" />
<input type=hidden name="claimcod" value="%PRIWEB02.01.204.3" />
<input type=hidden name="accidate" value="%PRIWEB02.01.205" />
<input type=hidden name="medicare" value="%PRIWEB02.01.027" />
<input type=hidden name="fundcode" value="%PRIWEB02.01.040.0" />
<input type=hidden name="reportno" value=1 />
<input type=hidden name="template" value="001" />
<input type=hidden name="updttype" value=" " />
<input type=hidden name="nextpage" value="1" />
<input type=hidden name="redirect" />
<input type=hidden name="prcndocm" value="%PRIWEB02.01.227" />
<input type=hidden name="postadd1" value="%PRIWEB02.01.944" />
<input type=hidden name="postadd2" value="%PRIWEB02.01.945" />
<input type=hidden name="postadd3" value="%PRIWEB02.01.946" />
<input type=hidden name="postadd4" value="%PRIWEB02.01.947" />
<input type=hidden name="postpost" value="%PRIWEB02.01.948" />
<input type=hidden name="healthfd" id="healthfd"
       value="%PRIWEB02.01.236.0" />
<input type=hidden name="dummy" value="">
<input type=hidden name="ptcnuimc" id="ptcnuimc"
       value="%STANDARD.01.025.124.111.0.1">
<input type=hidden name="ptcnuesf" id="ptcnuesf"
       value="%STANDARD.01.025.124.222.0.1">
<input type=hidden name=ptcnnewc value="%STANDARD.01.025.118.138.0.1">
<input type=hidden name=x_padd1 value="%PRIWEB02.01.244.007">
<input type=hidden name=x_padd2 value="%PRIWEB02.01.244.008">
<input type=hidden name=x_psubrb value="%PRIWEB02.01.244.009">
<input type=hidden name=x_padd4 value="%PRIWEB02.01.244.010">
<input type=hidden name=x_ppost value="%PRIWEB02.01.244.011">
<input type=hidden name=d_prhre032 value="%PRIWEB02.01.132">
<input type=hidden name="ptcnuebb" id="ptcnuebb"
       value="%STANDARD.01.025.127.122.0.1">
<input type=hidden name=prhre031 value="%PRIWEB02.01.131">
<input type=hidden name=ptcnuadv id=ptcnuadv
       value="%STANDARD.01.025.123.247.0.1">
<input type=hidden name=ptcnhdps id=ptcnhdps 
       value="%STANDARD.01.025.080.250.1.1">
<input type=hidden name=d_prhre030 value="%PRIWEB02.01.130">
<input type=hidden name="ptcndvaw" id="ptcndvaw"
       value="%STANDARD.01.025.129.249.0.1">


<table cellspacing="0" cellpadding="1" border="0" width="100%">
<tr><td class="HeadingCell" align="center">Input Billing Details</td></tr>
</table>

<table cellspacing="0" cellpadding="1" border="0" width="100%"
 bgcolor="#CCCCCC">
    <tr><td width="25%" class="DataLabel">Medical Practice</td>
        <td class="DataField">%PRIWEB02.01.101.1</td>
        <td class="DataLabel">Patient Indicator</td>
        <td class="DataField">%PRIWEB02.01.103.0</td>
    </tr>

    <tr><td class="DataLabel">Service HCP</td>
        <td class="DataField">%PRIWEB02.01.102.081</td>
        <td class="DataLabel">%STANDARD.01.017.CL</td>
        <td class="DataField">%PRIWEB02.01.204.0</td>
    </tr>
    
    <tr><td class="DataLabel"><div id=hftitleDIV>Health Fund</div></td>
        <td class="DataField"><div id=hffieldDIV>%PRIWEB02.01.236.1</div></td>
        <td class="DataLabel"></td>
        <td class="DataField"></td>
    </tr>
</table>

<div id="AccDateOption"></div>

<table cellspacing="0" cellpadding="1" border="0" width="100%">
    <tr><td width=13%><div id="imcdeftitleDIV">
        %STANDARD.01.017.ta</div></td>
        <td>
            <div id="imcdeffieldDIV">
            <select name="prhre028" id="prhre028" class="Mandatory"
             title="%STANDARD.01.017.ta" tabindex="1"
             onchange="assignrefEclipseDIV();setTabIndexs();">
              <option> </option>
              %PRIWEB02.01.128.2 
            </select>
            </div>
        </td>


        <td colspan="2"><b>Person Responsible for Account</b></td>
    </tr>

    <tr><td id="tblClaimType" rowspan=11 colspan=2 valign=top width=54%>
        <table cellspacing="0" cellpadding="0" border="0" width="100%">
        <tr><td>
          <div id=refEclipseDIV1></div>
        </td></tr>
        <tr><td>
          <div id=refEclipseDIV2></div>
        </td></tr>
        <tr><td>
          <div id=refEclipseDIV3></div>
        </td></tr>
        <tr><td>
          <div id=refEclipseDIV4></div>
        </td></tr>
        <tr><td>
          <div id=refEclipseDIV5></div>
        </td></tr>
        </table>
        </td>
        <td class="DataLabel">Name</td>
        <td><input type="text" size="47" name="prhre015" id="prhre015"
             title="Person Responsible for Account"
             tabindex="30" maxlength="45" value="%PRIWEB02.01.115" /></td>
    </tr>

    <tr id=trAddrSrch style="display:none">
        <td class=DataLabel nowrap>Search Address</td>
        <td><input type=text readonly size=35 tabindex="-1"
             style="cursor:pointer;text-align:center;"
             value="Click here to search for an address"
             title="Click here to search for an address"
             onclick="ShowAddressSearch();">
        </td>
    </tr>

    <tr>
        <td class="DataLabel">Address Line 1</td>
        <td><input type="text" size="35" maxlength="35" tabindex="31"
             name="prhre016" id="prhre016" title="Address Line 1"
             value="%PRIWEB02.01.116" onchange="UpCase(this);"/></td>
    </tr>

    <tr>
        <td class="DataLabel">Address Line 2</td>
        <td><input type="text" size="35" maxlength="35" tabindex="32"
             name="prhre017" id="prhre017" title="Address Line 2"
             value="%PRIWEB02.01.117" onchange="UpCase(this);"/></td>
    </tr>

    <tr>
        <td class="DataLabel">Suburb</td>
        <td><input type="text" size="35" maxlength="35" tabindex="33"
             name="prhre018" id="prhre018" title="Suburb"
             value="%PRIWEB02.01.118"
             onchange="CheckSuburb(this.value);" /></td>
    </tr>

    <tr>
        <td class="DataLabel">State</td>
        <td><input type="text" size="35" maxlength="35" tabindex="34"
             name="prhre026" id="prhre026" title="State"
             value="%PRIWEB02.01.126" /></td>
    </tr>

    <tr>
        <td class="DataLabel">Postcode</td>
        <td><input type="text" size="10" maxlength="8" tabindex="35"
             name="prhre019" id="prhre019" title="Postcode"
             value="%PRIWEB02.01.119" onchange="LookupSuburb(this.value);" />
            <input type="button" value="Default Postal Address" tabindex=-1
             name="defaultButton" id="defaultButton"
             title="Default the Postal Address"
             onclick="defaultAddr();" /></td>
    </tr>

    <tr>
        <td class="DataLabel">Business Phone</td>
        <td><input type="text" size="20" maxlength="20" tabindex="36"
             name="prhre021" id="prhre021" title="Business Phone"
             value="%PRIWEB02.01.121" /></td>
    </tr>

    <tr>
        <td class="DataLabel">Private Phone</td>
        <td><input type="text" size="20" maxlength="20" tabindex="37"
             name="prhre020" id="prhre020" title="Private Phone"
             value="%PRIWEB02.01.120" /></td>
    </tr>

    <tr>
        <td class="DataLabel">Mobile Phone</td>
        <td><input type="text" size="20" maxlength="20" tabindex="38"
             name="prhre027" id="prhre027" title="Mobile Phone" 
             class="MobilePhone" value="%PRIWEB02.01.127" /></td>
    </tr>

    <tr>
        <td class="DataLabel">Relationship</td>
        <td><select name="prhre022" id="prhre022" tabindex="39"
             title="Relationship">
              <option value="          "></option>
                %STANDARD.01.030
            </select></td>
    </tr>

    <tr><td align="center" colspan="4"><br>
            <input tabindex="61" type="button" value="Invoice" class="button"
                   id="invbtn" onclick='tempDisable(this);linkNxtInv("U");' />
            <input tabindex="62" type="button" value="Ok" class="button"
                   id="okbtn" onclick='tempDisable(this);FormSubmit("U");' />
            <input tabindex="63" type="button" value="Comments" class="button"
                   name="comntbut" id="comntbut"
                   onclick='tempDisable(this);RefComments();' />
            <input tabindex="64" type="button" value="Delete" class="button"
                   onclick='if (confirm("Are you sure you want to Delete?")) {
                              FormSubmit("D"); }'>
            <input tabindex="65" type="button" value="Cancel" class="button"
                   onclick="PatientLinkTo('priweb02.pbl',1,1,0);" /></td>
    </tr>
</table>
</form>

 <span id="AccidentDate" style="display:none">
  <table border="0" width="100%" cellspacing="0" cellpadding="1" bgcolor="#CCCCCC">
    <tr><td width="25%" class="DataLabel">Accident Date</td>
        <td class="DataField">%PRIWEB02.01.205</td>
        <td colspan="2">&nbsp;</td>
    </tr>
  </table>
 </span>

 <span id="refEclipseSPAN1" style="display:none">
   <table cellspacing="0" cellpadding="0" border="0" width="100%">
    <tr><td class="DataLabel" width=24%>Referring HCP</td>
       <td><input type=hidden name=prhre004 id=prhre004
            value="%PRIWEB02.01.104.001">
           <input type="text" readonly size="30" maxlength="30"
                  name="doctnam2" id=doctnam2 value="%PRIWEB02.01.104.081"
                  title="Referring Doctor" tabindex=-1>
           <img src="../images/SearchIcon.gif" class=Icon
             onclick="GPHCPSearchFrame(prhre004,doctnam2,genpprov,
                      prhre039,genpprac,prhre040)">
           <img src="../images/erase.gif" class=Icon
             onclick="clrFields(prhre004,doctnam2,prhre039,genpprac,
                      prhre040,genpprov);"></td></tr>
    <tr><td class=DataLabel>Practice</td>
        <td><input type=hidden name=prhre039 id=prhre039
             value="%PRIWEB02.01.139.0">
            <input type=hidden name=prhre040 id=prhre040
             value="%PRIWEB02.01.140">
            <input type=hidden name=genpprov id=genpprov
             value="">
            <input type=text readonly name=genpprac id=genpprac
             size=30 maxlength=30 value="%PRIWEB02.01.139.1">
            <img src="../images/SearchIcon.gif" class=Icon
             onclick="GPHCGSearchFrame(prhre004,doctnam2,genpprov,
                      prhre039,genpprac,prhre040)">
            <img src="../images/erase.gif" class=Icon
             onclick="clrFields(prhre004,doctnam2,prhre039,genpprac,
                      prhre040,genpprov);"></td></tr>

    <tr><td class="DataLabel">Referring Date</td>
        <td><input type="text" size="12" tabindex="-1" class="PastDate"
             name="prhre005" id="prhre005" title="Referring Date"
             value="%PRIWEB02.01.105" />
         <img notab src="../images/DateLookup.gif" border="0" hspace="4"
              class=Icon
              align="absmiddle" onclick="DateLookupFrame(prhre005);" /></td>
    </tr>
    <tr><td class="DataLabel">Referring Details</td>
        <td><input type="text" size="52" maxlength="50" tabindex="-1"
             name="prhre006" id="prhre006" title="Referring Details"
             value="%PRIWEB02.01.106" /></td>
    </tr>
    <tr><td class="DataLabel">Referral Period</td>
        <td><select name="prhre025" id="prhre025" tabindex="-1"
             title="Referral Period" onchange="displayReferralPeriodMonths();
              setTabIndexs();" >
              <option> </option>
                %PRIWEB02.01.125.2
            </select></td>
    </tr>

    <tr><td class="DataLabel"><div id="referralperiodtitleDIV"></div></td>
        <td><div id="referralperiodfieldDIV"></div></td>
    </tr>

    <tr><td class="DataLabel">Message Code</td>
        <td><select name="prhre007" id="prhre007" tabindex="-1"
             title="Message Code">
              <option> </option>
                %PRIWEB02.01.107.2
            </select></td>
    </tr>
    <tr><td class="DataLabel">Bulk Billing Code</td>
        <td><select name="prhre008" id="prhre008" tabindex="-1"
             title="Bulk Billing Code"
            onchange="validateBulk(medicare,fundcode,claimcod,prhre008,prfa1);">
              <option> </option>
                %PRIWEB02.01.108.2
            </select></td>
    </tr>
    <tr><td class="DataLabel">Operation Code(s)</td>
        <td><input type="text" size="22" maxlength="20" tabindex="-1"
             name="prhre010" id="prhre010" title="Operation Code"
             value="%PRIWEB02.01.110" /></td>
    </tr>
   </table>
 </span>

 <span id="refEclipseSPAN2" style="display:none">
   <table cellspacing="0" cellpadding="0" border="0" width="100%">
     <tr>
      <td width=24%>Accident Indicator</td>
      <td>
        <select name=prhre030 id=prhre030 tabindex=-1 class=Mandatory
         title="Accident Indicator">
        <option value=" ">   </option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
      </td>
     </tr>
     <tr>
      <td>Account Paid</td>
      <td>
        <b>
          %PRIWEB02.01.254
        </b>
      </td>
     </tr>
     <tr>
      <td>Benefit Assigned Authorised</td>
      <td>
        <select name=prhre032 id=prhre032 tabindex=-1 class=Mandatory
         title="Benefit Assigned Authorised">
        <option value=" ">   </option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
      </td>
     </tr>
     <tr>
        <td>%STANDARD.01.017.ic</td>
        <td>
            <select name="prhre033" id="prhre033" class="Mandatory"
             title="%STANDARD.01.017.ic" tabindex="-1">
              <option> </option>
              %PRIWEB02.01.133.2
            </select>
        </td>
     </tr>
     <tr>
        <td width=12%>%STANDARD.01.017.st</td>
        <td>
            <select name="prhre034" id="prhre034" class="Mandatory"
             title="%STANDARD.01.017.st" tabindex="-1"
             onchange="validateRefDoctor();">
              <option> </option>
              %PRIWEB02.01.134.2
            </select>
        </td>
     </tr>
   </table>
 </span>

 <span id="refEclipseSPAN3" style="display:none">
   <table cellspacing="0" cellpadding="0" border="0" width="100%">
     <tr>
      <td width=24%>Financial Int Disclosure Ind</td>
      <td>
        <select name=prhre037 id=prhre037 tabindex=-1
         title="Financial Interest Disclosure Ind">
        <option value=" ">   </option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
      </td>
     </tr>
   </table>
 </span>

 <span id="refEclipseSPAN4" style="display:none">
   <table cellspacing="0" cellpadding="0" border="0" width="100%">
     <tr>
      <td width=24%>Benefit Assigned Authorised</td>
      <td>
        <select name=prhre032 id=prhre032 tabindex=-1 class=Mandatory
         title="Benefit Assigned Authorised">
        <option value=" ">   </option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
      </td>
     </tr>
     <tr>
        <td width=12%>%STANDARD.01.017.st</td>
        <td>
            <select name="prhre034" id="prhre034" class="Mandatory"
             title="%STANDARD.01.017.st" tabindex="-1">
              <option> </option>
              %PRIWEB02.01.134.2
            </select>
        </td>
     </tr>
   </table>
 </span>

 <span id="refEclipseSPAN5" style="display:none">
   <table cellspacing="0" cellpadding="0" border="0" width="100%">
     <tr>
      <td width=24%>%STANDARD.01.017.ro</td>
      <td>
        <select name=prhre038 id=prhre038 tabindex=-1 
         title="%STANDARD.01.017.ro">
         <option> </option>
          %PRIWEB02.01.138.2
        </select>
      </td>
     </tr>
   </table>
 </span>

 <form name="PatientLinks" method="get">
  <input type=hidden name="reportno" value="1" />
  <input type=hidden name="template" value="004" />
  <input type=hidden name="urnumber" value="%PRIWEB02.01.003" />
  <input type=hidden name="admissno" value="%PRIWEB02.01.081" />
  <input type=hidden name="uniqnumb" value="%PRIWEB02.01.207" />
  <input type=hidden name="prhre001" value="%PRIWEB02.01.101.0" />
  <input type=hidden name="prhre002" value="%PRIWEB02.01.102.001" />
  <input type=hidden name="prhre003" value="%PRIWEB02.01.103.1" />
  <input type=hidden name="MenuType" value="%PRIWEB02.01.088" />
 </form>
</div>

<script type="text/javascript">
  var CmntIndic = "%PRIWEB02.01.235";
  if ( CmntIndic =="1" ) {
     document.UpdateForm.comntbut.className="RedButton";
  }

for (var i =0 ; i < document.UpdateForm.prhre022.length; i++) {
  if (document.UpdateForm.prhre022.options[i].value=="%PRIWEB02.01.122") {
      document.UpdateForm.prhre022.selectedIndex=i } };

for (var i =0 ; i < document.getElementById('prhre037').length; i++) {
  if (document.getElementById('prhre037').options[i].value==
      "%PRIWEB02.01.137") {
      document.getElementById('prhre037').selectedIndex=i } };

function validateIMC() {
  if (document.getElementById("ptcnuimc").value!="1" &&
      document.getElementById("ptcnuesf").value!="1" &&
      document.getElementById("ptcndvaw").value!="1" &&
      document.getElementById("ptcnuebb").value!="1") {
    hftitleDIV.innerHTML="";
    hffieldDIV.innerHTML="";
    imcdeftitleDIV.innerHTML="";
    imcdeffieldDIV.innerHTML="";
    refEclipseDIV1.innerHTML=refEclipseSPAN1.innerHTML;
    if (document.UpdateForm.prcndocm.value == 1) {
//    document.UpdateForm.prhre004.className="Mandatory"; //T0872823
      document.UpdateForm.doctnam2.className="Mandatory"; //T0872823
      document.UpdateForm.prhre005.className="Mandatory";
      document.UpdateForm.prhre025.className="Mandatory"; //T0867807
    }
  } else {
    assignrefEclipseDIV();
  }
}
function displayReferralPeriodMonths() {

  if (document.getElementById('prhre025') != null && 
      document.getElementById('prhre025').value.substr(3,1)=="N") {
    document.getElementById('referralperiodtitleDIV').innerHTML=
    referralperiodtitleSPAN.innerHTML;
    document.getElementById('referralperiodfieldDIV').innerHTML=
    referralperiodfieldSPAN.innerHTML;
    justifyRight(document.getElementById('prhre036'));
  } else {
    document.getElementById('referralperiodtitleDIV').innerHTML="";
    document.getElementById('referralperiodfieldDIV').innerHTML="";
  }
}
</script>

<span id="referralperiodtitleSPAN" style="display:none">
Referral Period (Months)
</span>

<span id="referralperiodfieldSPAN" style="display:none">
<input type="text" size="10" maxlength="2" name="prhre036" id="prhre036"
 title="Referral Period (Months)" tabindex="-1" 
 class="Number Mandatory JustifyRight"
 min="1" max="98" value="%PRIWEB02.01.136">
</span>
