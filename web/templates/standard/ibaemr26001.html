<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/ReportStandard.js"></script>
<script type="text/javascript">
function ProcessReport() {

 if(document.ReportForm.daterang.value=="1") {       // By Invoice Date
    if(document.ReportForm.d_keystr01.value=="1") {
       document.ReportForm.keystr01.value=3;
    }
    if(document.ReportForm.d_keystr01.value=="2") {
       document.ReportForm.keystr01.value=4;
    }
 } else if(document.ReportForm.daterang.value=="2"){ // By Visit Date
     document.ReportForm.keystr01.value=document.ReportForm.d_keystr01.value
 } else {                                   // By Visit and Transaction Date
    if(document.ReportForm.d_keystr01.value=="1") {
       document.ReportForm.keystr01.value=5;
    }
    if(document.ReportForm.d_keystr01.value=="2") {
       document.ReportForm.keystr01.value=6;
    }
 }
 
 if (document.ReportForm.schdrdat.value=="") {
     document.ReportForm.keystr02.title="From Date"
     document.ReportForm.keystr03.title="To Date"
     document.ReportForm.keystr02.value=
              document.getElementById('datran01').value;
     document.ReportForm.keystr03.value=
              document.getElementById('datran02').value;
     if(!CheckDateRange(document.ReportForm.keystr02,
                        document.ReportForm.keystr03)) {
        return;
     }
 } else {
     document.ReportForm.keystr02.title="From Schedule"
     document.ReportForm.keystr03.title="To Schedule" 
 }
//
 if(!CheckRange(document.ReportForm.keystr04,document.ReportForm.keystr05)) {
    return;
 }
//
 if(document.ReportForm.d_keystr01.value=="1") {
   if(!TriageKeyStroke()) {
     return;
   }
   document.ReportForm.keystr07.value="Y";
 } else {
   document.ReportForm.keystr06.value="Y";
 }
//
 SubmitReport(document.ReportForm)
}
function TriageKeyStroke() {
  if(document.getElementById('tricat00').checked==true) {
    document.ReportForm.keystr06.value="1234569";     // All
    return true;
  }
  if(document.getElementById('tricat00').checked==false &&
     document.getElementById('tricat01').checked==false &&
     document.getElementById('tricat02').checked==false &&
     document.getElementById('tricat03').checked==false &&
     document.getElementById('tricat04').checked==false &&
     document.getElementById('tricat05').checked==false &&
     document.getElementById('tricat06').checked==false &&
     document.getElementById('tricat09').checked==false) {
     alert("Triage Category is a required field.\nPlease enter it now." )
     return false;
  }
  document.ReportForm.keystr06.value="";
  if(document.getElementById('tricat01').checked==true) {
    document.ReportForm.keystr06.value+="1";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  if(document.getElementById('tricat02').checked==true) {
    document.ReportForm.keystr06.value+="2";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  if(document.getElementById('tricat03').checked==true) {
    document.ReportForm.keystr06.value+="3";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  if(document.getElementById('tricat04').checked==true) {
    document.ReportForm.keystr06.value+="4";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  if(document.getElementById('tricat05').checked==true) {
    document.ReportForm.keystr06.value+="5";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  if(document.getElementById('tricat06').checked==true) {
    document.ReportForm.keystr06.value+="6";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  if(document.ReportForm.emcntcat.value=="1" &&
     document.getElementById('tricat09').checked==true) {
      document.ReportForm.keystr06.value+="9";
  } else {
    document.ReportForm.keystr06.value+="0";
  }
  return true;
}
function ShowTriage() {
 var Triage = document.getElementById('Triage');
 if(document.ReportForm.d_keystr01.value!="1") {
   Triage.innerHTML = "";
   return;
 }
 if(document.ReportForm.emcntcat.value == "1" ) {
    var ShowTriage9 = document.getElementById('ShowTriageCat9');
    Triage.innerHTML = ShowTriage9.innerHTML;
 } else {
    var ShowTriage = document.getElementById('ShowTriageCat');
    Triage.innerHTML = ShowTriage.innerHTML;
 }
}
function SetAllTriage() {
  if(document.getElementById('tricat01').checked==true &&
     document.getElementById('tricat02').checked==true &&
     document.getElementById('tricat03').checked==true &&
     document.getElementById('tricat04').checked==true &&
     document.getElementById('tricat05').checked==true &&
     document.getElementById('tricat06').checked==true) {
     if(document.ReportForm.emcntcat.value == "1" ) {
       if(document.getElementById('tricat09').checked==true) {
         document.getElementById('tricat00').checked=true;
       } else {
         document.getElementById('tricat00').checked=false;
       }
     } else {
       document.getElementById('tricat00').checked=true;
     }
  } else {
     document.getElementById('tricat00').checked=false;
  }
}
function AllTriage() {
  if(document.getElementById('tricat00').checked==true) {
    document.getElementById('tricat01').checked=true;
    document.getElementById('tricat02').checked=true;
    document.getElementById('tricat03').checked=true;
    document.getElementById('tricat04').checked=true;
    document.getElementById('tricat05').checked=true;
    document.getElementById('tricat06').checked=true;
    if(document.ReportForm.emcntcat.value == "1" ) {
      document.getElementById('tricat09').checked=true;
    }
  } else {
    document.getElementById('tricat01').checked=false;
    document.getElementById('tricat02').checked=false;
    document.getElementById('tricat03').checked=false;
    document.getElementById('tricat04').checked=false;
    document.getElementById('tricat05').checked=false;
    document.getElementById('tricat06').checked=false;
    if(document.ReportForm.emcntcat.value == "1" ) {
      document.getElementById('tricat09').checked=false;
    }
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);ReportLoad();ReportForm.schddate.focus();">
<form name=ReportForm method=post action=rshweb02.pbl style="margin:0">
  <input type=hidden name=reportno value=4>
  <input type=hidden name=template value=001>
  <input type=hidden name=updttype value="A">
  <input type=hidden name=setdfprg value="IBAEMR26">
  <input type=hidden name=setdfrep value="01">
  <input type=hidden name=schdpgid value="IBAEMR26">
  <input type=hidden name=schddesc value="EMR Revenue By Doctor">    
  <input type=hidden name=nextpage value="1">
  <input type=hidden name=redirect value="rshweb02.pbl?reportno=1&template=1">
  <input type=hidden name=emcntcat value="%STANDARD.01.025.089.233.0.1">

<table width=100% align=center border=0 cellspacing=0>
<tr><td class=HeadingCell align=center colspan=2>Detailed EMR Revenue By Doctor</td></tr>
<tr><td>
<table width=80% align=center border=0 cellspacing=2 cellpadding=1>

<tr><td class=DataLabel width=25%>Schedule Date</td>
    <td class=DataLabel>
    <input type=text name=schddate id=schddate size=12 title="Schedule Date"
    value="%STANDARD.01.015"
    onblur="checkDate(this,'Schedule Date');">
    <img notab src="../images/DateLookup.gif" class="Icon" 
     alt="Show Calendar" date="document.ReportForm.schddate">
    Time
    <input type=text name=schdtime id=schdtime size=12 title="Schedule Time"
    value="%STANDARD.01.016">
    <img notab src="../images/DateTimeStamp.gif" class="Icon"
     alt="Current" date="document.ReportForm.schddate"
          time="document.ReportForm.schdtime">
    <img notab src="../images/TimeLookup.gif" class="Icon" 
     alt="Time Select" time="document.ReportForm.schdtime">
    </td></tr>

<tr><td class=DataLabel>Printer</td>
    <td><select name=schdprnt id=schdprnt title="Printer" class=Mandatory>
        <option></option>
        %STANDARD.01.001.IBAEMR26.01
        </select>
    </td></tr>
 
<tr><td class=DataLabel>Number of Copies</td>
    <td><select name=schdcopy id=schdcopy title='Number of Copies' 
                class=Mandatory>
        </select>
    </td></tr>
 
<tr><td class=DataLabel>Re-schedule Type</td> 
    <td class=DataLabel colspan=3> 
    <select name=schdrdat id=schdrdat title="Schedule Type" 
            onchange="SetReportDates();"> 
    <option></option> 
    </select> 
    </td></tr> 
 
<tr><td class=DataLabel>Re-schedule Until Date</td> 
    <td class=DataLabel colspan=3> 
    <input type=text name=schdrend id=schdrend size=12 
     onblur="checkDate(this,'Re-schedule Until Date');"> 
    <img notab src="../images/DateTimeStamp.gif" class="Icon"
     alt="Current" date="document.ReportForm.schdrend">
    <img notab src="../images/DateLookup.gif" class="Icon" 
     alt="Show Calendar" date="document.ReportForm.schdrend">
    </td></tr>
 
<tr><td colspan=2 align=center><hr width=80%></td></tr>

<tr><td class=DataLabel>Event Type</td>
    <td><input type="hidden" name="keystr01">
        <select name=d_keystr01 title="Event Type" class=Mandatory
         onchange="ShowTriage();">
        <option value=" "></option>
        <option value="1">Emergency Department</option>
        <option value="2">ED Ward Events</option>
        </select>
    </td></tr>
</table>

<span id="Triage"></span>

<table width=80% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td class=DataLabel width=25%>Date Range Type</td>
    <td><select name=daterang title="Date Range Type" class=Mandatory>
        <option value="1">By Invoice Date</option>
        <option value="2">By Visit Date</option>
        <option value="3">By Transaction Date</option>
        </select>
    </td></tr>

<tr><td class=DataLabel width=25%>Date Range </td>
    <input type=hidden name=keystr02 value="">
    <input type=hidden name=keystr03 value="">
    <td><span id=DateRange></span>
    </td></tr>

<tr><td class=DataLabel>From Doctor</td>
    <td><input type=text name=keystr04 size=8 title='From Doctor Code'
         value=" "
         onblur="ValidateHCP(18,0,document.ReportForm.keystr04,
                             document.ReportForm.n_keystr04);">
        <input type=text name=n_keystr04 size=35 class=Readonly readonly 
         title='From Doctor Name' value="Start">
        <img src=../images/SearchIcon.gif class="Icon" alt="Search"
        onclick='HCPSearchFrame(document.ReportForm.keystr04,
                                document.ReportForm.n_keystr04);'>
    </td></tr>

<tr><td class=DataLabel>To Doctor</td>
    <td><input type=text name=keystr05 size=8 title='To Doctor Code'
         value=" "
         onblur="ValidateHCP(18,0,document.ReportForm.keystr05,
                                  document.ReportForm.n_keystr05);">
        <input type=text name=n_keystr05 size=35 class=Readonly readonly
         title='To Doctor Name' value="Finish">
        <img src=../images/SearchIcon.gif class="Icon" alt="Search"
        onclick='HCPSearchFrame(document.ReportForm.keystr05,
                                document.ReportForm.n_keystr05);'>
    </td></tr>

  <input type=hidden name=keystr06 value=" ">           
  <input type=hidden name=keystr07 value=" ">           
  <input type=hidden name=keystr08 value=" ">           

<tr><td align=center colspan=2><br>
    <input type=button value=Ok class="button" onclick='ProcessReport();'>
    <input type=button value=Cancel class="button" 
     onclick='location.href="../lookups/blank.html"' >
    </td></tr>
</table>
</td></tr>
</table>
</form>


<div id=SetDateRange style="display:none;">
    <input type=text size=15 maxlength=12 name=datran01 id=datran01
    onblur="checkDate(this,'Date')"
    class="Mandatory Date" title="From Date">
    <img notab src="../images/DateTimeStamp.gif" class="Icon"
     alt="Current" date="document.ReportForm.datran01">
    <img notab src="../images/DateLookup.gif" class="Icon"
     alt="Calendar" date="document.ReportForm.datran01">
    To
    <input type=text size=15 maxlength=12 name=datran02 id=datran02
    onblur="checkDate(this,'Date')" class="Mandatory Date" title="To Date">
    <img notab src="../images/DateTimeStamp.gif" class="Icon"
     alt="Current" date="document.ReportForm.datran02">
    <img notab src="../images/DateLookup.gif" class="Icon"
     alt="Calendar" date="document.ReportForm.datran02">
</div>

<div id=SetScheduleRange style="display:none;">
    <select name=datsch01 id=datsch01 title="Schedule Range" class=Mandatory
    onblur="UpReportSchedule(this,document.ReportForm.keystr02,document.ReportForm.keystr03)">
    <option></option></select>
    Sample Range
    <input type=text name=SampleFrom id=SampleFrom size=12> To
    <input type=text name=SampleTo id=SampleTo size=12>
</div>

<span id=ShowTriageCat style="display:none;">
<table align=center cellspacing=0 cellpadding=0 border=0 width=80%>
<tr><td class=DataLabel width=25%>Triage Category</td>
     <td><table border=0 cellspacing=0>
     <td class=Triage1><i>1</i><input type=checkbox name=tricat01 value=1
                                id=tricat01 onclick="SetAllTriage();"></td>
     <td class=Triage2><i>2</i><input type=checkbox name=tricat02 value=2
                                id=tricat02 onclick="SetAllTriage();"></td>
     <td class=Triage3><i>3</i><input type=checkbox name=tricat03 value=3
                                id=tricat03 onclick="SetAllTriage();"></td>
     <td class=Triage4><i>4</i><input type=checkbox name=tricat04 value=4
                                id=tricat04 onclick="SetAllTriage();"></td>
     <td class=Triage5><i>5</i><input type=checkbox name=tricat05 value=5
                                id=tricat05 onclick="SetAllTriage();"></td>
     <td class=Triage6><i>6</i><input type=checkbox name=tricat06 value=6
                                id=tricat06 onclick="SetAllTriage();"></td>
     <td><input type=hidden name=tricat09 id=tricat09 
                value="">&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><i>All</i><input type=checkbox id=tricat00 name=tricat00 value=Y
                    onclick="AllTriage();">&nbsp;&nbsp;</td>
     </td>
     </tr></table>
     </td></tr>
</table>
</span>

<span id=ShowTriageCat9 style="display:none;">
<table align=center cellspacing=0 cellpadding=0 border=0 width=80%>
<tr><td class=DataLabel width=25%>Triage Category</td>
     <td><table border=0 cellspacing=0>
     <td class=Triage1><i>1</i><input type=checkbox name=tricat01 value=1
                                id=tricat01 onclick="SetAllTriage();"></td>
     <td class=Triage2><i>2</i><input type=checkbox name=tricat02 value=2
                                id=tricat02 onclick="SetAllTriage();"></td>
     <td class=Triage3><i>3</i><input type=checkbox name=tricat03 value=3
                                id=tricat03 onclick="SetAllTriage();"></td>
     <td class=Triage4><i>4</i><input type=checkbox name=tricat04 value=4
                                id=tricat04 onclick="SetAllTriage();"></td>
     <td class=Triage5><i>5</i><input type=checkbox name=tricat05 value=5
                                id=tricat05 onclick="SetAllTriage();"></td>
     <td class=Triage6><i>6</i><input type=checkbox name=tricat06 value=6
                                id=tricat06 onclick="SetAllTriage();"></td>
     <td class=Triage9><i>9</i><input type=checkbox name=tricat09 value=9
                                id=tricat09 onclick="SetAllTriage();"></td>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><i>All</i><input type=checkbox id=tricat00 name=tricat00 value=Y
                    onclick="AllTriage();">&nbsp;&nbsp;</td>
     </td>
     </tr></table>
     </td></tr>
</table>
</span>
