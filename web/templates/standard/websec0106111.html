Content-Type: text/html
Cache-Control: no-cache

%START.OF.PAGE
<!DOCTYPE html>
<html>
<head>
<title>Add/Update Portal Codes</title>
<meta name="ServerID"       content="%STANDARD.01.004">
<meta name="ServerName"     content="%STANDARD.01.005">
<meta name="ServerVersion"  content="%STANDARD.01.006">
<meta name="ServerOption"   content="%STANDARD.01.002">
<meta name="ServerTemplate" content="%STANDARD.01.003">
<meta name="TemplateFile"   content="websec0106111.html">
<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome"    content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<script type="text/javascript" src="../js/Standard.js"></script>
<script type="text/javascript" src="../js/Custom.js"></script>
<script type="text/javascript" src="../js/json2.js"></script>
<link rel="stylesheet" href="../html/standard.css" type="text/css">
<link rel="stylesheet" href="../html/custom.css" type="text/css">
<style type=text/css>
.FreeTextEditor {
  width:800px;
  height:600px;
  background-color:white;
  border:3px outset silver;
}
.FreeTextEditorHeading {
 font-weight:bold;
 background-color: #99CCFF;
 padding-top:3px;
 padding-bottom:3px;
 text-align:center;
}
.FreeTextEditorFooter {
 text-align:center;
 padding:10px;
}
.Label {
  font-weight:bold;
}
</style>
<script type=text/javascript>
function EditCodes() {
  var el=document.getElementById('TableID');
  parent.ShowCodes(el.value);
  DFrameExit();
}
function Save() {
  var url="PortalConfiguration.php" 
  var el;
  var qry="reportno=11"
  el=document.getElementById('CodeID');
  qry=qry+"&CodeID="+encodeURIComponent(el.value);

  el=document.getElementById('Code');
  qry=qry+"&Code="+encodeURIComponent(el.value);

  el=document.getElementById('TableID');
  qry=qry+"&TableID="+encodeURIComponent(el.value);
 
  el=document.getElementById('Description');
  if (el.value=='') { alert('Code Description Required'); return;}
  qry=qry+"&Description="+encodeURIComponent(el.value);

  el=document.getElementById('ShortDescription');
  qry=qry+"&ShortDescription="+encodeURIComponent(el.value);

  el=document.getElementById('HDPEquivalentCode');
  qry=qry+"&HDPEquivalentCode="+encodeURIComponent(el.value);

  el=document.getElementById('Sequence');
  qry=qry+"&Sequence="+encodeURIComponent(el.value);

  el=document.getElementById('Indicators');
  qry=qry+"&Indicators="+encodeURIComponent(el.value);

  el=document.getElementById('Active');
  if (el.checked) {
    qry=qry+"&Active="+encodeURIComponent('Y');
  } else {
    qry=qry+"&Active="+encodeURIComponent('N');
  }
  var xmlHttp = createHttpObject();
  xmlHttp.open("POST",url,false);
  xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
  xmlHttp.send(qry);
  if (xmlHttp.status == 200) {
    if (xmlHttp.responseText=="COMPLETE") {
      alert("Update Complete");
      EditCodes();
      return;
    } else {
      alert(xmlHttp.responseText);
    }
  } else {
    alert("ERROR : A problem occurred saving the records Try Again.");
    return;
  }
}
function init() {
  var el;
  var codes;
  var table;
  var table=parent.TablesArray[parent.TableSelected];
  el=document.getElementById('TableID');
  el.value = table.tableId;
  if (parent.CodeSelected>=0) {
    var codes=parent.CodeArray[parent.CodeSelected];
    el=document.getElementById('CodeID');
    el.value = codes.codeId;
    el=document.getElementById('Code');
    el.value = codes.code;
    el=document.getElementById('Description');
    el.value = codes.description;
    el=document.getElementById('ShortDescription');
    el.value = codes.shortDescription;
    el=document.getElementById('Indicators');
    el.value = codes.indicators;
    el=document.getElementById('Sequence');
    el.value = codes.sequence;
    el=document.getElementById('HDPEquivalentCode');
    el.value = codes.hdpEquivalentCode;
    el=document.getElementById('Active');
    if (codes.active=='Y') el.checked=true;
  } else {
    el=document.getElementById('Active');
    el.checked=true;
  }
}
</script>
</head>
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
Add/Update Portal Codes
</span>
<form name=PageEdit action=PortalConfiguration.php method=POST>
<input type=hidden name=reportno value=10>
<input type=hidden id=TableID name=TableID>
<input type=hidden id=CodeID name=CodeID>
<table width=100%>
<tr valign=top><td>
<table width=100% cellpadding=4 border=1 style='border:1px #ccc solid'>
<tr><td class=Label>Code</td>
     <td><input type=text id=Code name=Code size=50></td></tr>
<tr><td class=Label>Description</td>
     <td><input type=text id=Description name=Description size=50></td></tr>
<tr><td class=Label>Short Description</td>
     <td><input type=text id=ShortDescription name=ShortDescription size=25></td></tr>
<tr><td class=Label>Sequence</td>
     <td><input type=text id=Sequence name=Sequence size=5></td></tr>
<tr><td class=Label>HDP Code</td>
     <td><input type=text id=HDPEquivalentCode name=HDPEquivalentCode size=25></td></tr>
<tr><td class=Label>Indicators</td>
     <td><input type=text id=Indicators name=Indicators size=50></td></tr>
<tr><td class=Label>Active</td>
    <td><input type=checkbox value='Y' name=Active id=Active></td></tr>
</table>
</td></tr>
<tr><td style='text-align:center;'>
  <input type=button class=button value='Ok' onclick='Save();'>
  <input type=button class=button value='Cancel' onclick='EditCodes()'>
</td></tr>
<table>
</form>


