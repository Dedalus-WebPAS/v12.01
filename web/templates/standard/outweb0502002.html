<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function SetClinicName() {
  if(trim(AddForm.otcli001.value)==""){
     AddForm.otcli001.value=AddForm.otcli002.value; 
  }
  if(trim(AddForm.otcli003.value)==""){
     AddForm.otcli003.value=AddForm.docname.value;
  }
}
function validateAdd(){
  Mandatory = validateMandatory(document.AddForm);
  if(Mandatory){
    if(AddForm.otcli001.value.length > 6 ){
        alert("Clinic code Must be <= 6 ");
        FocusDelay(AddForm.otcli001);
        return false;
    }  
    if(AddForm.otcli002.value.length > 6 ){
         alert("HCP code Must be <= 6 ");
         FocusDelay(AddForm.otcli002);
         return false;
    }
         document.AddForm.submit();
  }
}
function CheckFormat(clinic) {
 checkid=clinic.value.search('[^a-zA-Z0-9]');
 if (checkid >= 0) {
   alert("Clinic code can only be alphanumeric!");
   clinic.value="";
   FocusDelay(clinic);
   return;
 }

 var serverURL   = "../cgi-bin/emrweb08.pbl?reportno=42" +
                   "&valdcode=" + document.getElementById('otcli001').
                                  value.replace(/ /g,"+")
 var returnValue = RSExecute(serverURL);
 if (returnValue.status==0) 
 {
   if(returnValue.return_value=='1') 
   {
     if (!confirm('Clinic Code already exists - Continue?'))
     {
       document.getElementById('otcli001').value=''; 
     }
   }
 }
}
</script>

</head>
%START.OF.PAGE
<body onload="PageLoad(event)">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
<script type="text/javascript">document.write("Clinic Maintenance");</script>
</span>

<form name=AddForm method=post action=outweb05.pbl style="margin:0"
 onsubmit='return validateMandatory(this);'>
<input type=hidden name=reportno value="2">
<input type=hidden name=template value="002">
<input type=hidden name=updttype value="A">

<table align=center width=90% border=0>
<tr><td class=DataLabel>Clinic</td>
    <td><input type=text name=otcli001 id=otcli001 class=Mandatory 
       title="Clinic"
       tabindex=1 size=8 maxlength=6 onblur="UpCase(this);CheckFormat(this);">
    </td></tr>

<tr><td class=DataLabel>Effective Date</td>
<td><input type=text size=12 name=otcli006 class="Mandatory readonly Date"
     tabindex=2 title="Effective Date" 
     onblur="checkDate(this,'Effective Date');">
    <img src=../images/DateTimeStamp.gif class=Icon date=AddForm.otcli006>
    <img src=../images/DateLookup.gif class=Icon date=AddForm.otcli006>
    </td></tr>

<tr><td class=DataLabel>Description</td>
    <td><input type=text name=otcli003  title="Description" class=Mandatory
      tabindex=3  size=30 maxlength=30></td></tr>

<tr><td class=DataLabel>HCP</td>
    <td><input type=text name=otcli002 title="HCP" size=10 id="otcli002"
         maxlength=6 tabindex=4 onblur="justifyLeft(this);
         validateCode(18,AddForm.otcli002,AddForm.docname,SetClinicName);">
    <input type=text name=docname size=22 maxlength=15 readonly class=Readonly
     id="docname">
    <img src="../images/SearchIcon.gif" class=Icon 
     onclick="HCPSearchFrame(AddForm.otcli002,AddForm.docname,
              SetClinicName,7);" >
   <img class=Icon src="../images/erase.gif"
     onclick="clrDoc(AddForm.otcli002,AddForm.docname);"></td></tr>

<tr><td class=DataLabel>Clinic Active</td>
    <td><input type=checkbox name=otcli005 title="Clinic Active" tabindex=6
        value="2" checked></td></tr>

<tr><td colspan=2 align=center><br>
    <input type=button value="Add" class="button" id="out05add"
     tabindex=7 onclick="tempDisable(this);validateAdd();"> 
    <input type=button value=Close class="button" 
     tabindex=8 onclick="DFrameCloseRefresh();">
    </td></tr>
</table>
</form>
