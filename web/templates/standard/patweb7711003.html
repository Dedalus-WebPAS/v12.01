<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName"    content="NoContextSet.html">
<script type="text/javascript" src=../js/patweb7711.js></script>
<script type="text/javascript">
function showButton() {
  if((UpdateForm.fileflag.value)!="N") {
    if(document.UpdateForm.nzmch008.value=="1") {
      document.all.UpdDelLayer.innerHTML=document.all.CurThOptionA.innerHTML;
      document.all.CalPrice.innerHTML=document.all.ShowCalPrice.innerHTML;
    } else {
      document.all.UpdDelLayer.innerHTML=document.all.CurThOption.innerHTML;
    }
  } else {
    if(document.UpdateForm.nzmch008.value=="1") {
      document.all.UpdDelLayer.innerHTML=document.all.NewThOptionA.innerHTML;
      document.all.CalPrice.innerHTML=document.all.ShowCalPrice.innerHTML;
    } else {
      document.all.UpdDelLayer.innerHTML=document.all.NewThOption.innerHTML;
    }
  }
}
function ShowHosp() {
  if(document.UpdateForm.ibcnmhos.value=="1") {
    InsertHospital.innerHTML=ShowHospital.innerHTML;
  } else {
    InsertHospital.innerHTML=NoHospital.innerHTML;
  }
}
function DeleteItem() {
  if(validateMandatory(UpdateForm)) {
    UpdateForm.updttype.value="D"
    UpdateForm.nextpage.value="3"
    UpdateForm.redirect.value="patweb77.pbl?reportno=11&template=001" +
          "&nzmch001=" +  UpdateForm.nzmch001.value.replace(/ /g,"+") +
          "&nzmch002=" +  UpdateForm.nzmch002.value.replace(/ /g,"+") +
          "&nzmch003=" +  UpdateForm.nzmch003.value.replace(/ /g,"+") +
          "&nzmch004=" +  UpdateForm.nzmch004.value.replace(/ /g,"+") +
          "&fileflag=" +  UpdateForm.fileflag.value
    UpdateForm.submit();
  }
}
function ExplodingItems() {
  if(validateMandatory(UpdateForm)) {
    UpdateForm.updttype.value="U"
    UpdateForm.nextpage.value="3"
    UpdateForm.redirect.value="patweb77.pbl?reportno=11&template=004" +
          "&nzmch001=" +  UpdateForm.nzmch001.value.replace(/ /g,"+") +
          "&nzmch002=" +  UpdateForm.nzmch002.value.replace(/ /g,"+") +
          "&nzmch003=" +  UpdateForm.nzmch003.value.replace(/ /g,"+") +
          "&nzmch004=" +  UpdateForm.nzmch004.value.replace(/ /g,"+") +
          "&nzmch005=" +  UpdateForm.nzmch005.value.replace(/ /g,"+") +
          "&nzmch006=" +  UpdateForm.nzmch006.value.replace(/ /g,"+") + 
          "&fileflag=" +  UpdateForm.fileflag.value
    UpdateForm.submit();
  }
}
</script>
%START.OF.PAGE
<body onload="PageLoad(event);showButton();ShowHosp();">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
<script type="text/javascript">
if ("%PATWEB77.11.029" == "C") {
  document.write("Current File - NZ Private Miscellaneous Charge Maintenance ");}
else {
  document.write("New File - NZ Private Miscellaneous Charge Maintenance ");}
</script>
</span>
<form name=UpdateForm action=patweb77.pbl method=get
      onsubmit='return validateMandatory(this);' style="margin:0">
<input type=hidden name=reportno value=11>
<input type=hidden name=template value=3>
<input type=hidden name=updttype value="U">
<input type=hidden name=nzmch001 value="%PATWEB77.11.001.1">
<input type=hidden name=nzmch002 value="%PATWEB77.11.002.1">
<input type=hidden name=nzmch003 value="%PATWEB77.11.003.0">
<input type=hidden name=nzmch004 value="%PATWEB77.11.004.0">
<input type=hidden name=nzmch005 value="%PATWEB77.11.005">
<input type=hidden name=nzmch006 value="%PATWEB77.11.006">
<input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
<input type=hidden name=fileflag value="%PATWEB77.11.029">
<input type=hidden name=nextpage value="">
<input type=hidden name=redirect value="">
<input type=hidden name=currdate value="%STANDARD.01.015">

<div id=InsertHospital></div>

<table width="95%" cellpadding=1 cellspacing=1 border=0 align=center>
<tr><td class=DataLabel Width="20%">%STANDARD.01.017.CL</td>
    <td><input type=text name=d_nzmch002 class=Readonly readonly
         title="%STANDARD.01.017.CL" value="%PATWEB77.11.002.0" 
         tabindex=-1 notab>
    </td></tr>

<tr><td class=DataLabel>Contract</td>
    <td><input type=text size=6 name=d_nzmch003 readonly class=Readonly
               title="Contract" value="%PATWEB77.11.003.0">
        <input type=text name=n_nzmch003 readonly class=Readonly
       title="Contract" size=45 value="%PATWEB77.11.003.1" tabindex=-1 notab>
    </td></tr>

<tr><td class=DataLabel>Table</td>
    <td><input type=text name=d_nzmch004 size=8 readonly class=Readonly 
               title="Table" value="%PATWEB77.11.004.0">
        <input type=text name=n_nzmch004 class=Readonly readonly size=45
         title="Table" value="%PATWEB77.11.004.1" tabindex=-1 notab>
    </td></tr>

<tr><td class=DataLabel>Charge Code</td>
    <td class=DataField>
    <input type=text name=d_nzmch005 size=9 maxlength=9 
           value="%PATWEB77.11.005"
           title="Charge Code" class=Readonly readonly tabindex=-1 notab>
    </td></tr>
</table>

<table align=center cellspacing=1 cellpadding=2 border=0 width=95%>
<tr><td class=DataLabel width="20%">Effective Date</td>
    <td class=DataField width="30%">
    <input type=text name=d_nzmch006 size=12 maxlength=12 class=Readonly 
     readonly value="%PATWEB77.11.006" title="Effective Date">
    </td>
    <td class=DataLabel width="20%">Effective End Date</td>
    <td class=DataField width="30%">
    <input type=text name=nzmch019 id=nzmch019 size=12 maxlength=12 
           class="NoAutoFocus"
           title="Effective End Date" value="%PATWEB77.11.036"
           onblur="checkDate(this,'Effective End Date');">
        <img notab src=../images/DateLookup.gif class=Icon
        onclick="DateLookupFrame(nzmch019);">
        <img src="../images/erase.gif" class=Icon
             onclick="clrFields(nzmch019);">
    </td></tr>
</table>

<table align=center cellspacing=1 cellpadding=2 border=0 width=95%>
<tr><td class=DataLabel width=20%>Charge Description</td>
    <td class=DataField>
    <input type=text name=nzmch007 size=90 maxlength=90 
           value="%PATWEB77.11.007" class="Mandatory"
           title="Charge Description">
    </td></tr>
</table>

<table align=center cellspacing=1 cellpadding=2 border=0 width=95%>

<tr><td class=DataLabel width="20%">Charge Type</td>
    <td class=DataField width="30%">
       <select name=nzmch008 title="Misc. Charge Group"
        onchange="showButton();checkDetail(UpdateForm);">
         <option value=3>Misc. Item</option>
         <option value=2>Theatre Fee</option>
         <option value=1>Exploding Misc. Item</option>
         </select>
    </td>
    <td class=DataLabel width="20%">Misc. Charge Group</td>
    <td class=DataField width="30%">
       <select name=nzmch009 title="Misc. Charge Group" class=Mandatory>
         <option></option>
         %PATWEB77.11.009.2
         </select>
    </td></tr>

<tr><td class=DataLabel>Price</td>
    <td class=DataField>
        <input type=text name=nzmch010 size=10 maxlength=9 class=Number 
               value="%PATWEB77.11.010"
               min=-99999.99 max=999999.99 title="Price"
               onblur="RoundNumber(this,2);checkDetail(UpdateForm);"></td>
    <td class=DataLabel colspan=2><div id=CalPrice></div></td>
    </tr>

<tr><td class=DataLabel>GST Payable</td>
    <td class=DataField>
       <select name=nzmch013 title="GST Payable" 
               onchange="checkGST(UpdateForm);">
         <option value=0>GST Free</option>
         <option value=1>GST Payable</option>
         <option value=2>Either</option>
         </select>
    </td>
    <td class=DataLabel>Change Desc.</td>
    <td class=DataField>
       <select name=nzmch012 class=Mandatory title="Change Desc.">
         <option></option>
         <option value=1>Yes</option>
         <option value=0>No</option>
         </select>
    </td>
    </tr>

<tr><td class=DataLabel>EDI Equivalent</td>
    <td class=DataField>
    <input type=text name=nzmch015 size=10 maxlength=10  
           value="%PATWEB77.11.015"
           title="EDI Equivalent">
    </td>
    <td class=DataLabel>GST Payable Code</td>
    <td class=DataField>
    <select name=nzmch014 title="GST Payable Code">
      <option>  </option>
      %PATWEB77.11.014
    </select>
    </td>
    </tr>

<tr><td class=DataLabel>Keyin Price</td>
    <td class=DataField>
       <select name=nzmch016 title="Keyin Price">
         <option value=""></option>
         <option value=Y>Yes</option>
       </select>
    </td>     
    <td class=DataLabel>Active</td>
    <td class=DataField>
       <select name=nzmch018 title="Active">
         <option value="0">Yes</option>
         <option value="1">No</option>
       </select>
    </td></tr>

</table>

<div id=DetailonInv></div>

<span id=UpdDelLayer></span>

</form>

<span id=CurThOption style="display:none">
<table width=100%>
<tr><td>&nbsp;</td></tr>
<tr><td align=center colspan=2>
     <input type=button value=Update class="button"
            onclick='setFormactn("U");'> 
     <input type=button value=Cancel class="button"
            onclick='DFrameExit();'>
</td></tr>
</table>
</span>

<span id=CurThOptionA style="display:none">
<table width=100%>
<tr><td>&nbsp;</td></tr>
<tr><td align=center colspan=2>
     <input type=button value=Update class="button"
            onclick='setFormactn("U");'>
     <input type=button value=Items class="button"
            onclick='ExplodingItems();'>
     <input type=button value=Cancel class="button"
            onclick='DFrameExit();'>
</td></tr>
</table>
</span>

<span id=NewThOption style="display:none">
<table width=100%>
<tr><td>&nbsp;</td></tr>
<tr><td align=center colspan=2>
     <input type=button value=Update id=updbtn class="button"
            onclick='tempDisable(this);setFormactn("U");'>
     <input type=button value=Delete id=delbtn class="button"
            onclick='tempDisable(this);DeleteItem();'>
     <input type=button value=Cancel class="button"
            onclick='DFrameExit();'>
</td></tr>
</table>
</span>

<span id=NewThOptionA style="display:none">
<table width=100%>
<tr><td>&nbsp;</td></tr>
<tr><td align=center colspan=2>
     <input type=button value=Update class="button"
            onclick='setFormactn("U");'>
     <input type=button value=Delete class="button"
            onclick='DeleteItem();'>
     <input type=button value=Items class="button"
            onclick='ExplodingItems();'>
     <input type=button value=Cancel class="button"
            onclick='DFrameExit();'>
</td></tr>
</table>
</span>

<div id=ShowHospital style="display: none">
<table width="95%" cellpadding=1 cellspacing=1 border=0 align=center>
<tr><td class=DataLabel width=20%>Hospital</td>
    <td class=DataField>
    <input type=text name=d_nzmch001 class="Readonly" readonly
     value="%PATWEB77.11.001.0">
    </tr>
</table>
</div>
<div id=NoHospital style="display: none">
<input type=hidden name=nzmch001 value="   ">
</div>

<div id=ShowCalPrice style="display: none">
<table width="100%" cellpadding=0 cellspacing=0 border=0 align=center>
<tr><td class=DataLabel width=40%>Calculated Price</td>
    <td class=DataField>
    <input type=text name=calprice size=10 maxlength=9
    class="Readonly Number" readonly value="%PATWEB77.11.034">
    </td>
    </tr>
</table>
</div>

<div id=NoDetail style="display: none">
<input type=hidden name=nzmch017 value="0">
</div>

<div id="ShowDetail" style="display:none;">
<table width="95%" cellpadding=1 cellspacing=1 border=0 align=center>
<tr><td class=DataLabel width=20%>Show Detail on Invoice</td>
    <td class=DataField>
       <select name=nzmch017 title="Show Detail on Invoice">
         <option value="0">No</option>
         <option value="1">Yes</option>
       </select>
    </td>
</tr>
</table>
</div>

<script type="text/javascript">
// set Charge Type
for (var i=0;i<document.UpdateForm.nzmch008.length;i++){
  if (document.UpdateForm.nzmch008.options[i].value=="%PATWEB77.11.008"){
    document.UpdateForm.nzmch008.selectedIndex=i;}
}
// set Indicator for Changing Desc
for (var i=0;i<document.UpdateForm.nzmch012.length;i++){
  if (document.UpdateForm.nzmch012.options[i].value=="%PATWEB77.11.012"){
    document.UpdateForm.nzmch012.selectedIndex=i;}
}
// set GST Applicable
for (var i=0;i<document.UpdateForm.nzmch013.length;i++){
  if (document.UpdateForm.nzmch013.options[i].value=="%PATWEB77.11.013"){
    document.UpdateForm.nzmch013.selectedIndex=i;}
}
checkGST(UpdateForm);
// set Keyin Price
for (var i=0;i<document.UpdateForm.nzmch016.length;i++){
  if (document.UpdateForm.nzmch016.options[i].value=="%PATWEB77.11.016"){
    document.UpdateForm.nzmch016.selectedIndex=i;}
}
// set Active
for (var i=0;i<document.UpdateForm.nzmch018.length;i++){
  if (document.UpdateForm.nzmch018.options[i].value=="%PATWEB77.11.035"){
    document.UpdateForm.nzmch018.selectedIndex=i;}
}
// show detail on invoice

  checkDetail(UpdateForm);

if(document.UpdateForm.nzmch008.value=="1") {
  for (var i=0;i<document.UpdateForm.nzmch017.length;i++){
   if (document.UpdateForm.nzmch017.options[i].value=="%PATWEB77.11.017"){
    document.UpdateForm.nzmch017.selectedIndex=i;}
  }
}
</script>
