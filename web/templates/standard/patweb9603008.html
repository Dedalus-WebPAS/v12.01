<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function getMnHlReturnTime() {
  if (document.pat96olv.mnhllvin.value=="1") {
    var MnhlReturnDate = new Date();   
    var getMinutesVAR = 0;
    var newMinutesVAR = 0;
    var yearVAR = "    ";
    var monthVAR = "   ";
    var dayVAR = "  ";
    var hourVAR = "  ";
    var minuteVAR = "  ";
    var secondVAR = "  ";
    MnhlReturnDate.setFullYear(document.pat96olv.trandate.value.substr(0,4));
    MnhlReturnDate.setMonth(document.pat96olv.trandate.value.substr(4,2)-1);
    MnhlReturnDate.setDate(document.pat96olv.trandate.value.substr(6,2));
    MnhlReturnDate.setHours(document.pat96olv.trantime.value.substr(0,2));
    MnhlReturnDate.setMinutes(document.pat96olv.trantime.value.substr(3,2));
    MnhlReturnDate.setSeconds(document.pat96olv.trantime.value.substr(6,2));
    getMinutesVAR = MnhlReturnDate.getMinutes();
    newMinutesVAR = getMinutesVAR - 1;
    MnhlReturnDate.setMinutes(newMinutesVAR);

    yearVAR = MnhlReturnDate.getFullYear(); 

    if (MnhlReturnDate.getMonth()==0) {monthVAR="Jan";}
    if (MnhlReturnDate.getMonth()==1) {monthVAR="Feb";}
    if (MnhlReturnDate.getMonth()==2) {monthVAR="Mar";}
    if (MnhlReturnDate.getMonth()==3) {monthVAR="Apr";}
    if (MnhlReturnDate.getMonth()==4) {monthVAR="May";}
    if (MnhlReturnDate.getMonth()==5) {monthVAR="Jun";}
    if (MnhlReturnDate.getMonth()==6) {monthVAR="Jul";}
    if (MnhlReturnDate.getMonth()==7) {monthVAR="Aug";}
    if (MnhlReturnDate.getMonth()==8) {monthVAR="Sep";}
    if (MnhlReturnDate.getMonth()==9) {monthVAR="Oct";}
    if (MnhlReturnDate.getMonth()==10) {monthVAR="Nov";}
    if (MnhlReturnDate.getMonth()==11) {monthVAR="Dec";}

    dayVAR = MnhlReturnDate.getDate();
    dayVAR = dayVAR+"";
    if (dayVAR.length==1) {dayVAR="0"+dayVAR;}

    hourVAR = MnhlReturnDate.getHours();
    hourVAR = hourVAR+"";
    if (hourVAR.length==1) {hourVAR="0"+hourVAR;}

    minuteVAR = MnhlReturnDate.getMinutes();
    minuteVAR = minuteVAR+"";
    if (minuteVAR.length==1) {minuteVAR="0"+minuteVAR;}

    secondVAR = MnhlReturnDate.getSeconds();
    secondVAR = secondVAR+"";
    if (secondVAR.length==1) {secondVAR="0"+secondVAR;}

    document.pat96olv.mnhlredt.value = dayVAR + " " + monthVAR + " " + yearVAR;
    document.pat96olv.mnhlretm.value = hourVAR + ":" + minuteVAR + ":" + 
                                       secondVAR;

//    alert(document.pat96olv.mnhlredt.value + " " + document.pat96olv.mnhlretm.value);

  }
}
function valMnHl() {
  if (document.pat96olv.mnhllvin.value=="1") {
    if (isWhitespace(document.pat96olv.trnlvtyp.value.substr(0,3))&&
        isWhitespace(document.pat96olv.mnhltylv.value)) {
      alert("New Type of Leave must be different to Current Type of Leave.");
      return 0;
    }
    if (document.pat96olv.trnlvtyp.value.substr(0,3)==
        document.pat96olv.mnhltylv.value) {
      alert("New Type of Leave must be different to Current Type of Leave.");
      return 0;
    }
    return 1;
  }
  return 1;
}
function ShowMnHl() {
  if (document.pat96olv.mnhllvin.value=="1") {
    for (var i=0; i < document.pat96olv.trnlvtyp.length; i++) {
      if (document.pat96olv.trnlvtyp.options[i].value.substr(0,3)==
          document.pat96olv.mnhltylv.value){
          document.pat96olv.trnlvtyp.selectedIndex=i;
      }
    }
    document.pat96olv.trnsretn.value=document.pat96olv.mnhlexrd.value;
    document.pat96olv.trnsrett.value=document.pat96olv.mnhlexrt.value;
  }
}
function ContType(type) {
  var ValidCodes = "12345 "
  if (ValidCodes.indexOf(type.value)==-1) {
  alert ("Invalid Contract Type");
  type.value="";
  type.focus();
  }
}

function ContRole(role) {
  var ValidCodes = "AB "
  if (ValidCodes.indexOf(role.value)==-1) {
  alert ("Invalid Contract Role");
  role.value="";
  role.focus();
  }
}
//------------------------------------------------------------
// Contract Type Alert
//------------------------------------------------------------
function ContTypeAlert() {
  alert("Valid Contract Type Number\n\n" +
"1 - B    A (health authority/other external purchaser) contracts B (hospital) for admitted service\n" +
"\n" +
"2 - ABA  Patient admitted by Hospital A. Hospital A contracts Hospital B for admitted or non-admitted patient service.\n" +
"Patient Returns to Hospital A on completion of service by Hospital B.\n" +
"\n" +
"3 - AB   Patient admitted by Hospital A. Hospital A contracts Hospital B for admitted or non-admitted patient service\n" +
"Patient Does not return to Hospital A on conmpletion of service by Hospital B.\n" +
"\n" +
"4 - (A)B Patient not admitted by Hospital A. Hospital A contracts Hospital B for the whole admitted patient service\n" +
"\n" +
"5 - BA   Hospital A, which does not initially admit the patient, contracts Hospital B for an admitted patient service\n" +
"following which the patient is transferred to and admitted by Hospital A." )
}
//
//------------------------------------------------------------
// Contract Role Alert
//------------------------------------------------------------
function ContRoleAlert() {
  alert("Valid Contract Role Character\n\n" +
"A - The Contracting (purchasing) hospital is termed Hospital A.\n" +
"\n" +
"B - The contracted (service provider) hospital is termed Hospital B." )
}
</script>
<style type=text/css> 
.TransferOption {
position: relative; 
}
</style>
<script type="text/javascript">
function DisplayContract() {
  i=document.pat96olv.trnlvtyp.selectedIndex;
  ind=document.pat96olv.trnlvtyp.options[i].value.substring(14,15)
  if (ind=="C" || ind=="S" || ind=="H") {
    ContractHeading.innerHTML=contracthd.innerHTML;
    ContractType.innerHTML=contracttype.innerHTML;
    Contrac1Heading.innerHTML=contracrhd.innerHTML;
    ContractRole.innerHTML=contractrole.innerHTML;
    Contrac2Heading.innerHTML=contracihd.innerHTML;
    ContractId.innerHTML=contractid.innerHTML;
  } else {
    ContractHeading.innerHTML=blanklabel.innerHTML;
    ContractType.innerHTML="";
    Contrac1Heading.innerHTML=blanklabel.innerHTML;
    ContractRole.innerHTML="";
    Contrac2Heading.innerHTML=blanklabel.innerHTML;
    ContractId.innerHTML="";
  }
  if (ind=="S"||ind=="H") {
     document.pat96olv.ptasf001.className="Readonly";
     document.pat96olv.ptasf002.className="Readonly";
     document.pat96olv.ptasf001.value="";
     document.pat96olv.ptasf002.value="";
   } else if (ind=="C"){
     document.pat96olv.ptasf001.className="Mandatory";
     document.pat96olv.ptasf002.className="Mandatory";
  }
}
function init(){
if (document.pat96olv.mehvisfl.value == "1"){
    document.pat96olv.trnsretn.className="Mandatory FutureDate";  //exp return
    document.pat96olv.trnlvtyp.selectedIndex="0";
  }
}
function convertDate(datevalue) {
  cent = datevalue.substring(0,2)
  year = datevalue.substring(2,4)
  mon  = datevalue.substring(4,6)
  day  = datevalue.substring(6,8)

  monthName = GetMonthName(mon);

  document.pat96olv.trandate1.value = day + " " + monthName + " " + cent + year;
}
function DisplayTrnSrc() {
  var i=document.pat96olv.trnlvtyp.selectedIndex;
  var ind = document.pat96olv.trnlvtyp.options[i].value.substring(14,15);
  if(document.pat96olv.ptcnhdps.value!="3"){
    if (ind != "C") {
      TranSrcDesc.innerHTML="";
      TranSrcField.innerHTML=transferblank.innerHTML;
      document.pat96olv.transrce.value=" ";
    } else {
      TranSrcDesc.innerHTML="Leave Transfer Source";
      TranSrcField.innerHTML=transfersrc.innerHTML;
    }
  }
}
function checkLegalStatus(){
if (document.pat96olv.mehvisfl.value == "0"){
    return;}
legstat=document.pat96olv.mehlegst.value.substr(3,1)
leavtyp=document.pat96olv.trnlvtyp.value.substr(3,1)
if (leavtyp=="H" && legstat!="I"){
    alert("Invalid legal status for type of leave.")
  }
if (leavtyp=="A"){
    document.pat96olv.trnsretn.className="FutureDate";
   }else{
    document.pat96olv.trnsretn.className="Mandatory FutureDate";}
}

function SubmitTransfer() {
if (validateMandatory(pat96olv)) {
  leavtyp=document.pat96olv.trnlvtyp.value.substr(3,1)
  legstat=document.pat96olv.mehlegst.value.substr(3,1)
  if (document.pat96olv.mehvisfl.value == "1"){
    if (leavtyp=="H"||leavtyp=="T") {
     document.pat96olv.redirect.value="mehweb01.pbl?reportno=05&template=001"
     + "&urnumber=" + document.PatientLinks.urnumber.value.replace(/ /g,"+")
     + "&admissno=" + document.PatientLinks.admissno.value 
     + "&trandate=" + document.pat96olv.trandate.value
     + "&trantime=" + document.pat96olv.trantime.value
    }
    if (leavtyp=="H" && legstat!="I"){
       alert("Invalid legal status for type of leave.")
       return;
    }
    if (leavtyp=="T" && legstat!="S" && legstat!="X"){
       alert("Invalid legal status for type of leave.")
       return;
      }
    }else{
       if (leavtyp=="T" || leavtyp=="A" || leavtyp=="H"){
       alert("Invalid status for type of leave.")
       return;
      }
    }
    SetHousekeeping();
    SubmitHidden(pat96olv);
  }
}
function TOLMand() {
  if (document.pat96olv.stateind.value=="3") {
     document.pat96olv.trnlvtyp.className="Mandatory";
  }
}
function ShowHouse() {
  if(document.pat96olv.ptcnchot.value=="1") {
    Housekeeping1.innerHTML=Displayhousekeeping1.innerHTML;
    Housekeeping2.innerHTML=Displayhousekeeping2.innerHTML;
    Housekeeping3.innerHTML=Displayhousekeeping3.innerHTML;
    Housekeeping4.innerHTML=Displayhousekeeping4.innerHTML;
  }
}
function HouseMandatory() {
  if(document.pat96olv.notifyhs.value=="1") {
     document.pat96olv.pmhrd006.className="Mandatory"
     document.pat96olv.pmhrd006.disabled=false;
  } else {
     document.pat96olv.pmhrd006.selectedIndex=0;
     document.pat96olv.pmhrd006.className="Readonly"
     document.pat96olv.pmhrd006.disabled=true;
  }
}
function SetHousekeeping() {
  if(document.pat96olv.ptcnchot.value=="1" &&
    document.pat96olv.notifyhs.value=="1") {
    i=document.pat96olv.trandate.selectedIndex;
    document.pat96olv.pmhrd004.value=document.pat96olv.trandate.options[i].text;
    document.pat96olv.pmhrd005.value=document.pat96olv.trantime.value;
  }
}
function FilterLeaveType() {
 if(document.pat96olv.mh_visit.value == "1") {
   filterCatCodeList(pat96olv.trnlvtyp,"6","G","1");  // MH Visit
 } else {
   filterCatCodeList(pat96olv.trnlvtyp,"6","M","1");  // Non MH Visit
 }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);TOLMand();ShowMnHl();DisplayContract();
 ShowHouse();FilterLeaveType();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB96.03.003";
PatientVIS="%PATWEB96.03.081";
PatientNAM="%PATWEB96.03.002";
PatientSTA="%PATWEB96.03.086.078";
PatientALT="%PATWEB96.03.084";
PatientSEX="%PATWEB96.03.019";
PatientDOB="%PATWEB96.03.020";
PatientAGE="%PATWEB96.03.021";
PatientLOC="%PATWEB96.03.083";
PatientPRI="%PATWEB96.03.086.066.1";
PatientUNT="%PATWEB96.03.066.0";
DoctorCOD="%PATWEB96.03.082.003";
DoctorNAM="%PATWEB96.03.082.002";
PatientAID="%PATWEB96.03.086.090";
PatientIND="%PATWEB96.03.086.091";
PatientCUR="%PATWEB96.03.086.092";
PatientCLC="%PATWEB96.03.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB96.03.086.094";
PatientCDM="%PATWEB96.03.086.095";
PatientVDH="%PATWEB96.03.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<div id=PageBodySection>
  <form name=pat96olv id=pat96olv %PATWEB96.03.201.001
  <input type=hidden name=urnumber id=urnumber value="%PATWEB96.03.003">
  <input type=hidden name=admissno id=admissno value="%PATWEB96.03.081">
  <input type=hidden name=trnleave id=trnleave value="1">
  <input type=hidden name=redirect id=redirect value="%PATWEB96.03.001.patweb96.03.004">
  <input type=hidden name=nextpage id=nextpage value="7">
  <input type=hidden name=formactn id=formactn value="OnLeave">
  <input type=hidden name=mehvisfl id=mehvisfl value="%PATWEB96.03.219">
  <input type=hidden name=mehlegst id=mehlegst value="%PATWEB96.03.085.005.3">
  <input type=hidden name=stateind id=stateind value="%PATWEB96.03.227">
  <input type=hidden name=trandate1 id=trandate1>
  <input type=hidden name=ptcnhdps id=ptcnhdps value="%STANDARD.01.025.080.250.1.1">
  <input type=hidden name=ptcnchot id=ptcnchot value="%STANDARD.01.025.114.138.0.1">
  <input type=hidden name=mnhllvin id=mnhllvin value="%PATWEB96.03.235">
  <input type=hidden name=mnhltylv id=mnhltylv value="%PATWEB96.03.236">
  <input type=hidden name=mnhlexrd id=mnhlexrd value="%PATWEB96.03.237">
  <input type=hidden name=mnhlexrt id=mnhlexrt value="%PATWEB96.03.238">
  <input type=hidden name=mnhlredt id=mnhlredt value="">
  <input type=hidden name=mnhlretm id=mnhlretm value="">
  <input type=hidden name=mnhllswd id=mnhllswd value="%PATWEB96.03.212.2">
  <input type=hidden name=mnhllsbd id=mnhllsbd value="%PATWEB96.03.212.1">
  <input type=hidden name=mh_visit id=mh_visit value="%PATWEB96.03.263">

<table border=0 width=100% cellspacing=0 cellpadding=1 >
  <tr><td class=HeadingCell align=center colspan=2 width=100%>
        Bed Transfer & Leave Maintenance </td></tr>
    <tr valign=top><td>
  <table border=0 width=100% cellspacing=1>
  <tr><td class=HeadingCell align=center colspan=2>Current Status</td>
      <td align=center class=HeadingCell colspan=2>Transfer Patient On Leave
      </td></tr>

   <tr><td class=DataLabel>Ward / Bed </td>      
       <td><input type=text size=25 readonly value="%PATWEB96.03.105.0">
       <input type=text size=15 readonly value="%PATWEB96.03.106"></td>

       <td class=DataLabel>On-Leave Date </td>
       <td><select name=trandate id=trandate class=Mandatory title="On-Leave date">
       %PATWEB96.03.202
       </select></td><tr>

   <tr><td class=DataLabel>Transfer In Date & Time </td>
       <td><input type=text size=11 readonly value="%PATWEB96.03.204" >
       <input type=text size=5 readonly value="%PATWEB96.03.205"></td>

      <td class=DataLabel>On-Leave Time </td>
      <td><input type=text size=8 name=trantime id=trantime class=Mandatory
       title="On-Leave Time" value="%STANDARD.01.016">
      <img src=../images/DateTimeStamp.gif class=Icon
      onclick="SetCurrentDateTime(null,trantime);">
      <img src=../images/TimeLookup.gif class=Icon
      onclick="TimeLookupFrame(trantime);"></td>

   <tr><td class=DataLabel>Attending Doctor</td>
       <td><input type=text size=35 readonly value="%PATWEB96.03.108.002">

       <td class=DataLabel>%STANDARD.01.017.TL</td>
       <td><select name=trnlvtyp id=trnlvtyp class=Mandatory
            title="%STANDARD.01.017.TL" 
            onchange="checkLegalStatus();DisplayTrnSrc();DisplayContract();">
           <option> </option>
           %PATWEB96.03.206.4
          </select></td></tr>

   <tr><td></td><td></td>
       <td class=DataLabel><div id=TranSrcDesc></div></td>
       <td><div id=TranSrcField></div></td></tr>

   <tr><td class=DataLabel>%STANDARD.01.017.A </td>
        <td><input type=hidden name=specialt id=specialt value="%PATWEB96.03.111.1">
            <input type=text name=t_specialt id=t_specialt readonly size=30 
             value="%PATWEB96.03.111.0"> </td>

        <td class=DataLabel>Expected Return Date & Time</td>
        <td><input type=text size=12 name=trnsretn id=trnsretn class="FutureDate"
                   title="Expected Return Date">
        <img src=../images/DateLookup.gif class=Icon
          onclick="DateLookupFrame(trnsretn);">
        <input type=text size=8 name=trnsrett id=trnsrett 
         title="Expected Return Time" value="">
        <img src=../images/TimeLookup.gif class=Icon
         onclick="TimeLookupFrame(trnsrett);">
        </td></tr>

   <tr><td class=DataLabel>%STANDARD.01.017.CC</td>
       <td><input type=hidden name="trnacare" id="trnacare" value="%PATWEB96.03.113.1">
           <input type=text name=t_trnacare id=t_trnacare readonly size=30 
           value="%PATWEB96.03.113.0"></td>
       <td class=DataLabel><div id=Contrac2Heading></div></td>
       <td><div id=ContractId></div></td></tr>

   <tr><td class=DataLabel>%STANDARD.01.017.AC</td>
       <td><input type=text name=chngunit id=chngunit readonly size=30 
           value="%PATWEB96.03.124.0"></td>
            <td class=DataLabel><div id=ContractHeading></div></td>
            <td><div id=ContractType></div></td></tr>

    <tr><td class=DataLabel>%STANDARD.01.017.CL</td>
        <td><input type=text name=traclaim id=traclaim value="%PATWEB96.03.126.0"></td>
          <td class=DataLabel><div id=Contrac1Heading></div></td>
          <td><div id=ContractRole></div></td></tr>

     <tr><td class=DataLabel>Health Fund</td>
         <td><input type="hidden" name="tranfund" id="tranfund" value="%PATWEB96.03.114.0">
         <input type=text size=35 name="funddesc" id="funddesc" maxlength="30"
          value="%PATWEB96.03.114.1"> </td>
         <td><div id="Housekeeping1"></div></td>
         <td><div id="Housekeeping2"></div></td></tr>

     <tr><td>Table</td>
         <td><input type="hidden" name="trantabl" id="trantabl" value="%PATWEB96.03.115.0">
             <input type="text" size=20 maxlength=30 name="tabldesc" id="tabldesc"
                 value="%PATWEB96.03.115.1"></td>
         <td><div id="Housekeeping3"></div></td>
         <td><div id="Housekeeping4"></div></td></tr>

    <tr><td>&nbsp;</td>
        <td>&nbsp;</td>
        <td align=center colspan=2><input type=button class="button" value="Update"
         id='updatebutton'
         onclick="tempDisable(this);if(valMnHl()){getMnHlReturnTime();
                                SubmitTransfer(this.form,'OnLeave');}">
            <input type=button value=Cancel class="button"
             onclick="PatientLinkTo('patweb96.pbl',3,4,0);">
       </td></tr>
    </table>
</td></tr>
</table>
</form>
</div>

<form name=PatientLinks id=PatientLinks method=get>
<input type=hidden name=reportno id=reportno value=1>
<input type=hidden name=template id=template value=004>
<input type=hidden name=urnumber id=urnumber value="%PATWEB96.03.003">
<input type=hidden name=admissno id=admissno value="%PATWEB96.03.081">
<input type=hidden name=MenuType id=MenuType value="%PATWEB96.03.088">
<input type=hidden name=alert001 id=alert001 value="">
<input type=hidden name=caretype value="%PATWEB96.03.113.3">
</form>

<span id=transfersrc style="display:none">
  <input type="text" size=7 maxlength=5 name=transrce id=transrce class=Mandatory
   title="Transfer Destination" 
   onblur="convertDate(trandate.value);validateTransSrc(transrce,trandate1,trandesc);">
   <input type=text size=27 name=trandesc id=trandesc notab class=Readonly readonly>
   <img src="../images/SearchIcon.gif" class=Icon
    onclick="TransferSourceFrame(transrce,trandesc)">
</span>

<span id=transferblank style="display:none">
   <input type=hidden name=transrce id=transrce>
</span>

<script type="text/javascript">
    TranSrcDesc.innerHTML="";
    TranSrcField.innerHTML=transferblank.innerHTML;
    document.pat96olv.transrce.value=" ";
</script>
<span id=contracthd style="display:none">
Contract Type
</span>

<span id=contracrhd style="display:none">
Contract Role
</span>

<span id=contracihd style="display:none">
 Contract Id
</span>

<span id=contracttype style="display:none">
  <input type="text" name=ptasf001 id=ptasf001 size=2 maxlength=1 class=Mandatory
   value="%PATWEB96.03.199.001" title="Contract Type"
   onblur="ContType(this);">
   <img src="../images/SearchIcon.gif" class=Icon
   onclick="ContTypeAlert();">
</span>

<span id=contractrole style="display:none">
  <input type="text" name=ptasf002 id=ptasf002 size=2 maxlength=1 class=Mandatory
   value="%PATWEB96.03.199.002"
   title="Contract Role" 
   onblur="ContRole(this);">
   <img src="../images/SearchIcon.gif" class=Icon
   onclick="ContRoleAlert();">
</span>

<span id=contractid style="display:none">
  <input type="text" size=7 maxlength=5 name=ptasf003 id=ptasf003
   value="%PATWEB96.03.199.003.1" class=Mandatory
   tabindex=29 onblur="validateCode(9,ptasf003,d_ptasf003);">
  <input type=text size=27 name=d_ptasf003 id=d_ptasf003 notab
   value="%PATWEB96.03.199.003.2" class=Readonly readonly>
  <img src="../images/SearchIcon.gif" class=Icon
   onclick="TransferSourceFrame(ptasf003,d_ptasf003)">
</span>
<span id=blanklabel style="display:none">&nbsp;</span>

<div id="Displayhousekeeping1" style="display:none">
Notify Housekeeping
</div>

<div id="Displayhousekeeping2" style="display:none">
  <select name=notifyhs id=notifyhs title="Notify Housekeeping"
   class=Mandatory onchange="HouseMandatory();">
  <option> </option>
  <option value="0">No</option>
  <option value="1">Yes</option>
  </select>
</div>

<div id="Displayhousekeeping3" style="display:none">
Housekeeping Status
</div>

<div id="Displayhousekeeping4" style="display:none">
  <input type=hidden name=pmhrd001 id=pmhrd001 value="%PATWEB96.03.599.004">
  <input type=hidden name=pmhrd002 id=pmhrd002 value="%PATWEB96.03.105.1">
  <input type=hidden name=pmhrd003 id=pmhrd003 value="%PATWEB96.03.106">
  <input type=hidden name=pmhrd004 id=pmhrd004 value="">
  <input type=hidden name=pmhrd005 id=pmhrd005 value="">
  <select name=pmhrd006 id=pmhrd006 title="Housekeeping Status" class=Readonly disabled>
    <option> </option>
    %STANDARD.01.007.BV
  </select>
</div>
<script type=text/javascript>
function init(){
 if(PatientLinks.caretype.value.substr(71,1)!=" "){
       location.href="patweb96.pbl?reportno=03&template=022"
             + "&urnumber=" + PatientLinks.urnumber.value.replace(/ /g,"+")
             + "&admissno=" + PatientLinks.admissno.value;
 }
}
</script>
