<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function SubmitAdm() {
  MandatoryOk=validateMandatory(document.UpdateForm)
  if (MandatoryOk) {
    SubmitHidden(document.UpdateForm);
    }
}
//
function CheckRegister() {
  if (document.UpdateForm.mehdl016.value == "1") {
    document.UpdateForm.mehdl017.readOnly=false;
    document.UpdateForm.mehdl017.className="PastDate";
  } else {
    document.UpdateForm.mehdl017.readOnly=true;
    document.UpdateForm.mehdl017.className="Readonly";
    document.UpdateForm.mehdl017.value="";
  }  
}
//
function DisableIcon(field) {
  if (field.readOnly == true) {
    alert(field.title+" is for display only")
  } else {
    DateLookupFrame(field);
 }
}
//
function CheckFollowUpType() {
  if (document.UpdateForm.mehdl018.value == "") {
    document.UpdateForm.mehdl019.readOnly=true;
    document.UpdateForm.mehdl019.className="Readonly";
    document.UpdateForm.mehdl019.value="";
  } else { 
    document.UpdateForm.mehdl019.readOnly=false;
    document.UpdateForm.mehdl019.className="FutureDate";
  }
}
//
function CheckStatus() {
// if legal satus indicator one is not "I" then status review date is mandatory.
  if ( document.UpdateForm.mehvs034.value.substr(3,1) == "I") {
    document.UpdateForm.mehvs003.readOnly=true;
    document.UpdateForm.mehvs003.className="Readonly";
    document.UpdateForm.mehvs003.value="";
  } else { 
    document.UpdateForm.mehvs003.className="FutureDate Mandatory";
  }
}
//
function CheckBenefit() {
// if Benefit Type is not blank then benefit paid to is mandatory.
  if (document.UpdateForm.mehvs016.value == "") {
    document.UpdateForm.mehvs017.readOnly=true;
    document.UpdateForm.mehvs017.className="Readonly";
    document.UpdateForm.mehvs017.value="";
    document.UpdateForm.mehvs018.disabled=true;
    document.UpdateForm.mehvs018.selectedIndex="0";
  } else {
    document.UpdateForm.mehvs017.readOnly=false;
    document.UpdateForm.mehvs017.className="";
    document.UpdateForm.mehvs018.readOnly=false;
    document.UpdateForm.mehvs018.disabled=false;
  }
}
</script>
%START.OF.PAGE
<body onload="PageLoad(event);CheckBenefit();CheckFollowUpType();
              CheckRegister();CheckStatus();"> 
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%MEHWEB01.05.003";
PatientVIS="%MEHWEB01.05.081";
PatientNAM="%MEHWEB01.05.002";
PatientSTA="%MEHWEB01.05.086.078";
PatientALT="%MEHWEB01.05.084";
PatientSEX="%MEHWEB01.05.019";
PatientDOB="%MEHWEB01.05.020";
PatientAGE="%MEHWEB01.05.021";
PatientLOC="%MEHWEB01.05.083";
PatientPRI="%MEHWEB01.05.086.066.1";
PatientUNT="%MEHWEB01.05.066.0";
DoctorCOD="%MEHWEB01.05.082.003";
DoctorNAM="%MEHWEB01.05.082.002";
PatientAID="%MEHWEB01.05.086.090";
PatientIND="%MEHWEB01.05.086.091";
PatientCUR="%MEHWEB01.05.086.092";
PatientCLC="%MEHWEB01.05.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%MEHWEB01.05.086.094";
PatientCDM="%MEHWEB01.05.086.095";
PatientVDH="%MEHWEB01.05.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<div id=PageBodySection>
<form name=UpdateForm id=UpdateForm action="mehweb01.pbl" method=post>
<input type=hidden name=urnumber id=urnumber value="%MEHWEB01.05.003">
<input type=hidden name=admissno id=admissno value="%MEHWEB01.05.101">
<input type=hidden name=updttype id=updttype value="A">
<input type=hidden name=reportno id=reportno value="5">
<input type=hidden name=nextpage id=nextpage value="4">
<input type=hidden name=trandate id=trandate value="%MEHWEB01.05.501">
<input type=hidden name=trantime id=trantime value="%MEHWEB01.05.502">
<input type=hidden name=redirect id=redirect value="%MEHWEB01.05.001.patweb98.01.001">

<table border=1 width=100% cellspacing=1 cellpadding=1>
<tr><td class=HeadingCell align=center colspan=4>
    Mental Health Leave Details </tr>
<tr><td>
    <table width=100% border=0 class=TableBody cellpadding=0 cellspacing=0>
    <tr><td class=DataLabel>Address Going To </td>
        <td class=DataField>
        <input name="mehdl002" id="mehdl002" tabindex="1" maxlength=35 size=35
             title="Admitting Address Line1" value="%MEHWEB01.05.403">
    </tr>

    <tr><td class=DataLabel></td>
        <td class=DataField>
        <input name="mehdl003" id="mehdl003" tabindex="2" maxlength=35 size=35
             title="Admitting Address Line2" value="%MEHWEB01.05.404">
        </td>
    </tr>

    <tr><td class=DataLabel></td>
        <td class=DataField>
        <input type="text" name="mehdl004" id="mehdl004" maxlength=35 size=35 tabindex="3"
             title="Admitting Address Line3" value="%MEHWEB01.05.405"> 
          </td>
    </tr>

    <tr><td class=DataLabel></td>
        <td class=DataField>
        <input type="text" name="mehdl005" id="mehdl005" maxlength=35 size=35 tabindex="4"
             title="Admitting Address Line4" value="%MEHWEB01.05.406"> 
        </td>
    </tr>

    <tr><td class=DataLabel>Accommodation Type</td>
        <td class=DataField>
        <select name="mehdl008" id="mehdl008" title="Accommodation Type" tabindex="5"> 
          <option> </option>
          %MEHWEB01.05.409.2
        </select></td>
        <td class=DataLabel>Letter to DOM Nurse?</td>
        <td class=DataField>
        <select name="mehdl011" id="mehdl011" title="Letter to DOM Nurse?" tabindex="6">
          <option value="2">No</option>
          <option value="1">Yes</option>
        </select></td>
    </tr>

    <tr><td>Referred To</td>
        <td class=DataField>
          <select name="mehdl009" id="mehdl009" title="Referred To" tabindex="7">
          <option></option>
          %MEHWEB01.05.410.2
        </select></td>
        <td>Letter to G.P.?</td>
        <td class=DataField>
          <select name="mehdl012" id="mehdl012" title="Letter to GP?" tabindex="8">
          <option value="2">No</option>
          <option value="1">Yes</option>
        </select></td>
    </tr>

    <tr><td>Staying With</td>
        <td class=DataField>
          <select name="mehdl010" id="mehdl010" title="Staying With" tabindex="9">
          <option></option>
          %MEHWEB01.05.411.2
        </select></td>
        <td>Notice to Trustee?</td>
        <td class=DataField>
          <select name="mehdl013" id="mehdl013" title="Notice to Trustee?" tabindex="10">
          <option value="2">No</option>
          <option value="1">Yes</option>
        </select></td>
    </tr>

    <tr><td class=DataLabel>Legal Status</td>
        <td class=DataField>
        <select  name="mehvs034" id="mehvs034" title="Legal Status" disabled tabindex="11"
         onchange="CheckStatus()">
         <option></option>
         "%MEHWEB01.05.335.2"
        </select></td>
        <td>DOH. Int. Notif. Dis?</td>
        <td class=DataField>
          <select name="mehdl014" id="mehdl014" title="DOH. Int. Notif. Dis?" tabindex="12">
          <option value="2">No</option>
          <option value="1">Yes</option>
        </select></td>
    </tr>

    <tr><td class=DataLabel>Status Review Date</td>
        <td class=DataField>
        <input type="text" size="12" name="mehvs003" id="mehvs003" tabindex="13"
          title="Status Review Date" value="%MEHWEB01.05.304" class="FutureDate"
          onblur="checkDate(this,this.title)">
        <img src=../images/DateLookup.gif class=Icon
         onclick="DisableIcon(mehvs003);"></td>
        <td class=DataLabel>Outpatient Appoint?</td>
        <td class=DataField>
          <select name="mehdl015" id="mehdl015" title="Outpatient Appoint?" tabindex="14">
          <option value="2">No</option>
          <option value="1">Yes</option>
        </select></td>
    </tr>
 
    <tr><td class=DataLabel>Benefit?</td>
        <td class=DataField>
          <select name="mehvs018" id="mehvs018" title="Benefit" tabindex="">
          <option value="0"></option>
          <option value="1">Yes</option>
          <option value="2">No</option>
          <option value="3">Unknown</option>
        </select></td>
        <td></td>
        <td></td>
    </tr>

    <tr><td>Type of Benefit</td>
        <td class=DataField>
          <select name="mehvs016" id="mehvs016" title="Type of Benefit" tabindex="15"
                  onchange="CheckBenefit()">
          <option></option>
          %MEHWEB01.05.317.2
        </select></td>
        <td>Community Serv. Reg?</td>
        <td class=DataField>
          <select name="mehdl016" id="mehdl016" title="Community Serv. Reg?" tabindex="16"
                  onchange="CheckRegister();">
          <option value="2">No</option>
          <option value="1">Yes</option>
        </select></td>
    </tr>

    <tr><td class=DataLabel>Benefit Paid To</td>
        <td class=DataField><input type="text" name="mehvs017" id="mehvs017" 
            maxlength=10 size=30 tabindex="17" title="Benefit Paid To" 
            value="%MEHWEB01.05.318"></td>
        <td class=DataLabel>Date on Register</td>
        <td class=DataField>
        <input type="text" size="12" name="mehdl017" id="mehdl017" tabindex="18"
          title="Date on Register" value="%MEHWEB01.05.418" class="PastDate"
          onblur="checkDate(this,this.title)">
        <img src=../images/DateLookup.gif class=Icon
         onclick="DisableIcon(mehdl017);"></td>
    </tr>

    <tr><td>Supp. by Benefit</td>
        <td class=DataField>
          <select name="mehvs020" id="mehvs020" title="Supp. by Benefit" tabindex="19">
          <option value="0"></option>
          <option value="1">Yes</option>
          <option value="2">No</option>
        </select></td>
        <td>Comm. Follow-up Type</td>
        <td class=DataField>
          <select name="mehdl018" id="mehdl018" title="Comm. Follow-up Type" tabindex="20"
                  onchange="CheckFollowUpType();">
          <option></option>
          %MEHWEB01.05.419.2
        </select></td>
    </tr>
 
    <tr><td></td>
        <td></td>
        <td class=DataLabel>Comm. Follow-up Date</td>
        <td class=DataField>
        <input type="text" size="12" name="mehdl019" id="mehdl019" tabindex="21"
          title="Comm. Follow-up Date" value="%MEHWEB01.05.420" class="FutureDate"
          onblur="checkDate(this,this.title)">
        <img src=../images/DateLookup.gif class=Icon
         onclick="DisableIcon(mehdl019);"></td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr><td class=DataLabel>On Leave from Ward</td>
        <td class=DataField>
        <input type="text" size="12" notab readonly class=ReadOnly
               value="%MEHWEB01.05.503">
        <input type="text" size="30" notab readonly class=ReadOnly
               value="%MEHWEB01.05.504"></td>
        <td class=DataLabel>Date/Time</td>
        <td class=DataField>
        <input type="text" size=30 readonly class=Readonly 
               value="%MEHWEB01.05.505">
        </td>
     </tr>
    <tr><td class=DataLabel>Type of Leave</td>
       <td><input type="text" maxlength=15 size=25 notab
             class=Readonly value="%MEHWEB01.05.506.0"></td>
    <td class=DataLabel>Leave Review Date</td>
       <td><input type="text" maxlength=15 size=20 notab
             class=Readonly value="%MEHWEB01.05.507"></td>
     </tr>

    <tr align=center>
      <td align=center colspan=4><br>
       <input type=button value="Update" class="button" tabindex=20
        onclick="SubmitAdm()"></td>
    </tr>
    </table>
</td></tr>
</table>
</form>
</div>

<form name=PatientLinks id=PatientLinks method=get>
<input type=hidden name=reportno id=reportno value=1>
<input type=hidden name=template id=template value=004>
<input type=hidden name=urnumber id=urnumber value="%MEHWEB01.05.003">
<input type=hidden name=admissno id=admissno value="%MEHWEB01.05.101">
<input type=hidden name=MenuType id=MenuType value="%MEHWEB01.05.088">
</form>

<script type="text/javascript">
 Letter="%MEHWEB01.05.412.1"; 
  if ( Letter == "Yes") {
   document.UpdateForm.mehdl011.selectedIndex="1";
  } else if (Letter == "No") {
   document.UpdateForm.mehdl011.selectedIndex="0";
  } else {
   document.UpdateForm.mehdl011.selectedIndex="0";
  }

 LetterGP="%MEHWEB01.05.413.1";
  if ( LetterGP == "Yes") {
   document.UpdateForm.mehdl012.selectedIndex="1";
  } else if (LetterGP == "No") {
   document.UpdateForm.mehdl012.selectedIndex="0";
  } else {
   document.UpdateForm.mehdl012.selectedIndex="0";
  }

 Trustee="%MEHWEB01.05.414.1"
  if ( Trustee == "Yes") {
   document.UpdateForm.mehdl013.selectedIndex="1";
  } else if (Trustee == "No") {
   document.UpdateForm.mehdl013.selectedIndex="0";
  } else {
   document.UpdateForm.mehdl013.selectedIndex="0";
  }

 Notify="%MEHWEB01.05.415.1"
  if ( Notify  == "Yes") {
   document.UpdateForm.mehdl014.selectedIndex="1";
  } else if (Notify == "No") {
   document.UpdateForm.mehdl014.selectedIndex="0";
  } else {
   document.UpdateForm.mehdl014.selectedIndex="0";
  }

 Appointment="%MEHWEB01.05.416.1" 
  if ( Appointment  == "Yes") {
   document.UpdateForm.mehdl015.selectedIndex="1";
  } else if (Appointment == "No") {
   document.UpdateForm.mehdl015.selectedIndex="0";
  } else {
   document.UpdateForm.mehdl015.selectedIndex="0";
  }

 Service="%MEHWEB01.05.417.1"
  if ( Service  == "Yes") {
   document.UpdateForm.mehdl016.selectedIndex="1";
  } else if (Service == "No") {
   document.UpdateForm.mehdl016.selectedIndex="0";
  } else {
   document.UpdateForm.mehdl016.selectedIndex="0";
  } 

 Benefit="%MEHWEB01.05.319.1";
  if ( Benefit == "Yes") {
   document.UpdateForm.mehvs018.selectedIndex="1";
  } else if ( Benefit == "No") {
   document.UpdateForm.mehvs018.selectedIndex="0";
  } else if ( Benefit == "Unknown") {
   document.UpdateForm.mehvs018.selectedIndex="2";
  } else {
   document.UpdateForm.mehvs018.selectedIndex="0";
  }
//
 Supported="%MEHWEB01.05.321.1";
  if ( Supported == "Yes") {
   document.UpdateForm.mehvs020.selectedIndex="1";
  } else if ( Supported == "No") {
   document.UpdateForm.mehvs020.selectedIndex="2";
  } else {
   document.UpdateForm.mehvs020.selectedIndex="0";
  }
//

//Check if using MH diagnosis Screen in Admissions (1=Yes)
//if ("%PATWEB89.07.422" == "1") {
//  document.UpdateForm.redirect.value="%PATWEB89.07.001.mehweb01.01.001";
//} else {
  document.UpdateForm.redirect.value="%MEHWEB01.05.001.patweb98.01.001";
//}
//Check if using legal status can be modified
legflag="%PATWEB89.07.339"
if (legflag == "0") {
    document.UpdateForm.mehvs034.disabled=true;
    document.UpdateForm.mehvs034.className="";
    document.UpdateForm.mehvs035.readOnly=true;
    document.UpdateForm.mehvs035.className="Readonly";
    document.UpdateForm.mehvs035.disabled=true;
    document.UpdateForm.mehvs037.readOnly=true;
    document.UpdateForm.mehvs037.className="Readonly";
    document.UpdateForm.mehvs037.disabled=true;
}
</script>
