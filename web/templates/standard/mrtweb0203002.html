<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<script type="text/javascript" src="../js/mrtweb0203.js"></script>
<script type="text/javascript">
function setDesc() {
  if (document.AddForm.morbdesc.value!="1") {
    document.AddForm.diopc002.readOnly=true;
    document.AddForm.diopc002.className="Readonly";
  }
}

function AddCode() {
  
  if (document.AddForm.morbdesc.value == "1") {
    if (!isWhitespace(document.AddForm.diopc001.value) &&
        isWhitespace(document.AddForm.diopc002.value)) {
      alert("Code Description must be entered.");
      document.AddForm.diopc002.focus();
      return;
    }
  }
  var parecd08 = parent.document.getElementById("ptecd008");
  var docecd08 = document.getElementById("ptecd008");
  if (parecd08!=undefined) {
    docecd08.value=parecd08.value;
  }
  SubmitFormNew();
}
function OnsetType() {
  if(document.AddForm.ptcnhdps.value>"0") {
      OnsetLabel.innerHTML=onsetlabel.innerHTML;
      DefaultOnset();
  } else {
      OnsetLabel.innerHTML="";
  }
}
function CheckOnset(onset) {
  if(onset.value != "1" && onset.value != "2" && onset.value != "9") {
    if(document.AddForm.ptcnhdps.value=="4") {
    alert("Invalid onset type must be either a\n" +
          " 1 - Condition present at admission or \n" +
          " 2 - Condition arises during admission or \n" +
          " 9 - Unknown/uncertain");
    }
    if(document.AddForm.ptcnhdps.value=="5") {
    alert("Invalid onset type must be either a\n" +
          " 1 - Condition arises during admission or \n" +
          " 2 - Condition present at admission or \n" +
          " 9 - Unknown/uncertain");
    }
    if(document.AddForm.ptcnhdps.value=="1" ||
       document.AddForm.ptcnhdps.value=="2" ||
       document.AddForm.ptcnhdps.value=="3" ||
       document.AddForm.ptcnhdps.value=="6" ||
       document.AddForm.ptcnhdps.value=="7" ||
       document.AddForm.ptcnhdps.value=="8" &&
      (onset.value!=1 || onset.value!=2 )) {
      alert("Invalid onset type must be either a\n" +
          " 1 - Condition arises during admission or \n" +
          " 2 - Condition present at admission ")}
    if(document.AddForm.ptcnhdps.value=="9") {
    alert("Invalid onset type must be either a\n" +
          " 1 - Condition arises during admission or \n" +
          " 2 - Condition present at admission or \n" +
          " 9 - Not Reported");
    }
      onset.value="";
      onset.focus;
    }
}
function DefaultOnset() {
  if(document.AddForm.ptcnhdps.value>"0") {
    document.AddForm.diopc003.readOnly=false;
    document.AddForm.diopc003.className="Mandatory";
    if(document.AddForm.dsprefix.value==document.AddForm.compre.value) {
      document.AddForm.diopc003.value="1";
    } else {
      document.AddForm.diopc003.value="2";
    }
  }
  if(document.AddForm.ptcnhdps.value=="4") {
    document.AddForm.diopc003.readOnly=false;
    document.AddForm.diopc003.className="Mandatory";
    if(document.AddForm.dsprefix.value==document.AddForm.compre.value) {
      document.AddForm.diopc003.value="2";
    } else {
      document.AddForm.diopc003.value="1";
    }
  }
}
</script>
</head>
%START.OF.PAGE
<body onLoad="PageLoad(event);setTimeout('setDesc()',100);
              setTimeout('OnsetType()',200);">
<span class=DFrameTitleBar> 
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">document.write(self.document.title);</script> 
</span>
<form name=AddForm action=mrtweb02.pbl method=post style="margin:0;">
 <input type=hidden name=reportno value=03>
 <input type=hidden name=template value=002>
 <input type=hidden name=updttype value="A">
 <input type=hidden name=urnumber value="%MRTWEB02.03.003">
 <input type=hidden name=admissno value="%MRTWEB02.03.081">
 <input type=hidden name=epscd001 value="%MRTWEB02.03.313">
 <input type=hidden name=pripre value="%MRTWEB02.03.301">
 <input type=hidden name=seqpre value="%MRTWEB02.03.302">
 <input type=hidden name=compre value="%MRTWEB02.03.303">
 <input type=hidden name=asspre value="%MRTWEB02.03.304">
 <input type=hidden name=lofpre value="%MRTWEB02.03.305">
 <input type=hidden name=dispre value="%MRTWEB02.03.306">
 <input type=hidden name=oprpre value="%MRTWEB02.03.307">
 <input type=hidden name=morpre value="%MRTWEB02.03.320">
 <input type=hidden name=pteocnt id=pteocnt value="%MRTWEB02.03.350">
 <input type=hidden name=oprtdate value="%MRTWEB02.03.316">
 <input type=hidden name=oprttime value="%MRTWEB02.03.317">
 <input type=hidden name=diffhosp value="%MRTWEB02.03.315">
 <input type=hidden name=usngecod value="%MRTWEB02.03.332">
 <input type=hidden name=morbdesc value="%MRTWEB02.03.333">
 <input type=hidden name=dischdte value="%MRTWEB02.03.334">
 <input type=hidden name=mrcnclin value="%MRTWEB02.03.341">
 <input type=hidden name=ptcnhdps id=ptcnhdps 
  value="%STANDARD.01.025.080.250.1.1">
 <input type=hidden name=allwnpre>
 <input type=hidden name=ptecd008 id=ptecd008 value="">
 <input type=hidden name=admnclss id=admnclss value="%MRTWEB02.03.112.3">
 <input type=hidden name=admistat id=admistat value="%MRTWEB02.03.199.020">
 <input type=hidden name=stateflg value="%MRTWEB02.03.322">


 <table cellspacing=0 cellpadding=1 border=0 width=100% align=center>
   <tr><td class=HeadingCell align=left>
           <img src="../images/DiagnosisSearchIcon.gif" class=Icon
                onclick='Icd10DisNext(AddForm.dischdte.value);'> 
           Diagnosis
           <img src="../images/ProcedureSearchIcon.gif" class=Icon
                onclick='Icd10ProNext(AddForm.dischdte.value);'> 
           Procedure</td>
   </tr>
 </table>

 <table cellspacing=0 cellpadding=1 border=0 width=98% align=center>
   <tr><td valign=top nowrap><input type=hidden name=oprdate value="">
           <input type=hidden name=oprtime id=oprtime value="">
           <input type=hidden name=oprendt id=oprendt value="">
           <input type=hidden name=blockno id=blockno>
           <input type=hidden name=dttmman id=dttmman>
           <input type=hidden name=oprdcod id=oprdcod>
           <input type=hidden name=oprdnam id=oprdnam>
           <input type=text size=1 maxlength=1 name=dsprefix id=dsprefix
            title="Prefix" class="Mandatory"
            onkeyup='CheckPrefix(dsprefix,diopc001);DefaultOnset();'>
           <input type=text size=10 name=diopc001 id=diopc001 class=Mandatory 
            title="Diagnosis/Procedure Code" 
            onblur='CheckKey(diopc001,diopc002,dsprefix,oprdate,oprtime,
                             oprendt,blockno,dttmman,oprdcod,oprdnam);'></td>
       <td><textarea rows=2 cols=118 name=diopc002 id=diopc002 wrap=soft
            style="font-family:Arial;font-size:8pt;overflow:hidden;resize:none"
            onkeydown="LimitText(this,2,200);"></textarea></td>
   </tr>

   <tr><td class=DataLabel colspan=2><div id=RecordCoding></div></td></tr>
   <tr><td class=DataLabel colspan=2><div id=ClinicianFld></div></td></tr>
   <tr><td class=DataLabel colspan=2><div id=OnsetLabel></div></td></tr>
   <tr><td colspan=2>&nbsp;</td></tr>

   <tr><td colspan=2 align=center>
           <input type=button class="button" value="Add" 
            id="addbutton" onclick="tempDisable(this);AddCode();"> 
           <input type=button value=Close class="button"
            onclick="DFrameCloseRefresh()"></td>
   </tr>
 </table>
</form>

<span id=onsetlabel style="display:none">
      Onset Type
      <input type=text name=diopc003 title="Diagnostic onset type" size=1
             value="1" maxlength=1 onkeyup="CheckOnset(this);">
</span>
