<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/PatientSortWidget.js></script>
<script type="text/javascript">
function PatientTableLink(Urnumber,Admissno,Server,Option,Template,Frame) {
  if (getTop().menu.defPatientLink.serverid==undefined) {
    serverid=Server
    reportno=Option
    template=Template; 
  }
  else {
    serverid=getTop().menu.defPatientLink.serverid.value;
    reportno=getTop().menu.defPatientLink.reportno.value;
    template=getTop().menu.defPatientLink.template.value;
  }
  url=serverid + ".pbl?reportno=" + reportno +
                 "&template=" + template +
                 "&urnumber="  + Urnumber.replace(/ /g,"+") +
                 "&admissno="  + Admissno.replace(/ /g,"+") 
  getTop().content.document.location.href=url
}
function NewList() {
    DFrameLink("patweb02.pbl?reportno=1&template=2",60,80,480,180);
}
function EditList() {
  if (isWhitespace(DisplayForm.webpd002.value)) {
    alert("Select List Before Editing Details") 
  }
  else {
    LinkUrl="patweb02.pbl?reportno=1&template=1&webpd002="
        +document.DisplayForm.webpd002.value
    DFrameLink(LinkUrl,60,80,480,180)
  }
}
function AddPatientToList() {
  if (getTop().content.PatientLinks==undefined){
    alert("Patient Not Identified");
    return false;
  }
  else {
    AddForm.webpt002.value=DisplayForm.webpd002.options[DisplayForm.webpd002.selectedIndex].value
    AddForm.webpt003.value=getTop().content.PatientLinks.urnumber.value;
    AddForm.webpt004.value=getTop().content.PatientLinks.admissno.value;
    SubmitHiddenNew(AddForm);
    return false;
  }
}
function UpdateItem(listno,urno) {
  LinkUrl="patweb02.pbl?reportno=2&template=3&webpd002="+listno+"&webpt003="+urno
  DFrameLink(LinkUrl,60,80,480,240)
}
function SelectOption(el) {
  location.href=el.options[el.selectedIndex].value
}
//----------------------------------------------------------------------------
// Create New Table Object
// Border, Cellspacing, Cellpadding, Width, Align, Heading Height, Row Height
//----------------------------------------------------------------------------
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column, Align, Icon, Link Column
// Columns Available
//  0 - UR
//  1 - Admission
//  2 - Indicators
//  3 - Patient Name  
//  4 - Ward            
//  5 - Status              
//  6 - Comment             
//  7 - Review Date         
//---------------------------------------------------------------------------
function InitTable(TableView) {
switch (TableView) {
case 0: {
 t = new Table(1,0,1,"100%","center",25,25);
 t.addColumn("Patient","String",3,3,"left nowrap","","0",150)
// t.addColumn("Ward","String",4,4,"left","","",30)
// t.addColumn("Status","String",6,6,"left","","",140)
 t.addColumn("Comment","String",7,7,"left","","",150)
 t.addColumn("Review","Date",8,8,"left","","",70)
 t.addColumn("Edit","Null",8,-1,"left","EditIcon.gif","C9",20)
 t.addLink("patweb98.pbl","01","001","PatientFolder.gif")
// t.addLink("cliweb03.pbl","01","001","")
// t.addLink("cliweb03.pbl","01","001","ResultIcon.gif")
 AddTableRows();
 TableOutput(0,1);    // Order Column,Asc Dsc
 break; }
 }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0)">
<span class=TitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
My Patient Lists
</span>

<div style='height:94%;overflow:auto;'>
<form name=AddForm method= post action=patweb02.pbl style="margin:0" >
   <input type=hidden name=reportno value="2">
   <input type=hidden name=template value="004">
   <input type=hidden name=updttype value="A">
   <input type=hidden name=webpt002 value="">
   <input type=hidden name=webpt003 >
   <input type=hidden name=webpt004 >
   <input type=hidden name=webpt007 >
   <input type=hidden name=webpt008 >
   <input type=hidden name=webpt009 >
   <input type=hidden name=webpt010 >
 </form>
<form name=DisplayForm action=patweb02.pbl method=get style="margin:0">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=4>
<input type=hidden name=updttype value=" ">
<table border=0 cellpadding=1 cellspacing=0 width=100%>
<tr><td style='padding-left:10px;border:0;width:20px;'>
    <img valign=middle src='../images/PatientListAddIcon.gif' border=0
      onclick='AddPatientToList();'> </td>
    <td style='border:0;font-weight:bold;'>Add to Patient List </td>
    <td><select name=webpd002 class=SelectBig onchange=document.DisplayForm.submit()>
        %PATWEB02.02.011
        </select>
    </td>
    
    <td style='border:0;' align=right>
          <select class=SelectBig name=PatientLists onchange='SelectOption(this);'>
          <option value='patweb02.pbl?reportno=01&template=004' selected>My Patient Lists</option>
          <option value='patweb07.pbl?reportno=02&template=004'>My Recently Viewed</option>
          <option value='patweb97.pbl?reportno=01&template=011'>My Admitted Patients</option>
          <option value='patweb93.pbl?reportno=01&template=014'>Ward Patient List</option>
          </select>
</td></tr>
</table>
</form>

<div id=TableLocation></div>

<table border=0 cellpadding=1 cellspacing=0 width=100%>
<tr><td align=center>
    <input type=button class="button" value="Edit Folder" onclick=EditList();>
    <input type=button class="button" value="New Folder" onclick=NewList();>
</td></tr>
</table>
</div>
<script type="text/javascript">
function AddTableRows() {
 %PATWEB02.02.012
}
</script>
