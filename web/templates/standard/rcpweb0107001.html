<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<script type="text/javascript" src="../js/rcpweb01.js"></script>
<script type="text/javascript">
function init() {
  for (var i=0; i < SelectCode.scanflag.length; i++) {
    if (SelectCode.scanflag.options[i].value==SelectCode.patflag.value){
       SelectCode.scanflag.selectedIndex=i; }
  }
  if(SelectCode.deposit.value=="1") {
    SelectCode.depsonly.checked=1;
  }
  if (!isWhitespace(SelectCode.invnumbr.value)) {
    hideUR();
    hideCheque();
    SelectCode.depsonly.checked=false;
    SelectCode.depsonly.disabled=true;
    return;
  }
  if (!isWhitespace(SelectCode.urnumber.value)) {
    hideCheque();
    SelectCode.depsonly.checked=false;
    SelectCode.depsonly.disabled=true;
    return;
  }
  if (!isWhitespace(SelectCode.chequeno.value)) {
    hideUR();
    hideInvoice();
    SelectCode.depsonly.checked=false;
    SelectCode.depsonly.disabled=true;
    return;
  }
  if (SelectCode.depsonly.checked==true) {
    hideUR();
    hideInvoice();
    hideCheque();
    return;
  }
}
function SubmitForm() {
  if (!isWhitespace(SelectCode.receiptn.value)) {
    showReceipt(SelectCode.receiptn);
    return;
  }
  if((isWhitespace(SelectCode.rcptdate.value)) &&
     (isWhitespace(SelectCode.urnumber.value)) &&
     (isWhitespace(SelectCode.invnumbr.value)) &&
     (isWhitespace(SelectCode.chequeno.value)) &&
     (SelectCode.depsonly.checked==false)){
    if(isWhitespace(SelectCode.minmamnt.value)) {
      alert("Please enter some search fields.");
      return
    }
    else {
      alert("Please enter more search fields.");
      return
    }
  }
  else {
    if((SelectCode.depsonly.checked==true) &&
      (isWhitespace(SelectCode.rcptdate.value))) {
         alert("Receipt date must be entered.");
         return
      }
   else {
    SelectCode.submit();
    }
  }
 
}
function ResetForm() {
    serverURL   = "../cgi-bin/rcpweb01.pbl?reportno=07&template=001"
    location.href=serverURL
}
function linkReceipt(Receipt) {
    serverURL   = "../cgi-bin/rcpweb01.pbl?reportno=07&template=002&nochkrec=1"+
                  "&receiptn=" + Receipt.replace(/ /g,"+") 
    location.href=serverURL
}
function showReceipt(Receipt) {
    if (isWhitespace(Receipt.value)) { return; }
    serverURL   = "../cgi-bin/rcpweb01.pbl?reportno=07&template=002&nochkrec=1"+
                  "&receiptn=" + Receipt.value.replace(/ /g,"+") 
    location.href=serverURL
}
</script>
%START.OF.PAGE
<body onload="PageLoad(event);">
<form name=SelectCode action=rcpweb01.pbl method=get
 onsubmit='return validateMandatory(this);'>
<input type=hidden name=reportno value=7>
<input type=hidden name=template value="001">
<input type=hidden name=updttype>
<input type=hidden name=dummy>
<input type=hidden name=patflag value="%RCPWEB01.07.005">
<input type=hidden name=deposit value="%RCPWEB01.07.010">
<table width="100%" cellpadding=0 cellspacing=0 border=1>
<tr><td>
    <table width=100% cellpadding=0 cellspacing=0 border=0 bgcolor=#CCCCCC>
    <tr><td colspan=10 align=center class=HeadingCell>
         Receipt Search</td></tr>
    <tr><td colspan=10>&nbsp;</td></tr>
    <tr><td class=DataLabel valign=top><b>Receipt #</b><br>
           <input type=text name=receiptn maxlength=12 size=12
            title="Receipt Number" onblur='showReceipt(this);'></td>
        <td class=DataLabel valign=top><b>Receipt Date</b><br>
           <input type=text name=rcptdate maxlength=12 size=12
            value="%RCPWEB01.07.004" title="Receipt Date" 
            onblur="checkDate(this,'Receipt Date');">
           <img notab src="../images/DateTimeStamp.gif" class="Icon" 
             name=currbutt alt="Current" date="SelectCode.rcptdate">
           <img notab src="../images/DateLookup.gif" class="Icon" 
             name=cldtbutt alt="Show Calendar" date="SelectCode.rcptdate">
        </td>
        <td class=DataLabel valign=top><b>Patient Type</b><br>
            <select name=scanflag onchange="justifyURDebtor();">
            <option value=1>U/R</option>
            <option value=0>Acc Rec Debtor</option>
            <option value=2>Pri Pract Debtor</option>
            </select></td>
        <td class=DataLabel valign=top><b>U/R or Debtor #</b><br>
           <input type=text name=urnumber value="%RCPWEB01.07.006"
            size=8 maxlength=8 title="U/R or Debtor Number"
            onblur="justifyURDebtor();"> 
           <img src="../images/SearchIcon.gif" class=Icon name=srchurno
                onclick="PatientDebtorSearch(document.SelectCode.scanflag,
                                             document.SelectCode.urnumber,
                                             document.SelectCode.dummy,
                                             document.SelectCode.dummy);">
        </td>
        <td class=DataLabel valign=top><b>Invoice #</b><br>
           <input type=text name=invnumbr title="Invoice Number" 
            value="%RCPWEB01.07.007" size=12
            onblur="checkInvoice();">
           <img src="../images/SearchIcon.gif" class=Icon name=srchinvn
                onclick="PatientDebtorInvSearch(document.SelectCode.scanflag,
                                                document.SelectCode.urnumber,
                                                document.SelectCode.dummy,
                                                document.SelectCode.invnumbr);">
         </td>
         <td class=DataLabel valign=top><b>Min Amount</b><br>
           <input type=text name=minmamnt maxlength=12 size=12
            value="%RCPWEB01.07.008" title="Minimum Amount" class=Number
            onblur="RoundNumber(this,2);">
        <td class=DataLabel valign=top><b>Cheque Number</b><br>
           <input type=text name=chequeno maxlength=12 size=12
            value="%RCPWEB01.07.009" title="Cheque Number"
            onblur="checkCheque();">
        </td>
        <td class=DataLabel valign=top><b>Deposit Only</b><br>
           <input type=checkbox name=depsonly title="Deposit Only" value=1
            onclick="checkDeposit();"></td>
        <td align=center>
           <input type=button value="Search" class="button"
                         name="SrchButt" id="SrchButt"
                         onClick="tempDisable(this);SubmitForm();"><br>
           <input type=button value="Reset" class="button"
                         name="RestButt" id="RestButt"
                         onClick="tempDisable(this);ResetForm();">
        </td>
    </tr>
    <tr><td colspan=10>&nbsp;</td></tr>
    </table>
</td></tr>

<!-- </table> -->
<tr><td colspan=8>
  <table cellspacing=0 border=1 width=100%>
    %RCPWEB01.07.001.RCPWEB01.07.002
  </table>
</td></tr>

<tr><td colspan=8>
  <table width=100% bgcolor=#CCCCCC>
    <tr><td align=center>
     <input type=button value="<< Previous" class="button"
       onclick='location.href="%RCPWEB01.07.002.001"'>
     <input type=button value="Next >>" class="button"
       onclick='location.href="%RCPWEB01.07.003.001"'>
    </td></tr>
  </table>
</td></tr>
</table>
</form>

<script type="text/javascript">
</script>
