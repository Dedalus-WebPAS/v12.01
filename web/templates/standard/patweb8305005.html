<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/patweb83.js"></script>
<script type="text/javascript" src="../js/patweb8305.js"></script>
<script type="text/javascript">
  function UpdateBoarder() {
    if (!validateMandatory(document.UpdateForm))
        { return; }
    if (!isWhitespace(UpdateForm.ptbrd020.value)&&
        !isWhitespace(UpdateForm.ptbrd022.value)) {
        if (!CheckDateRange(UpdateForm.ptbrd020,UpdateForm.ptbrd022))
            { return; }}
    if (!isWhitespace(UpdateForm.ptbrd020.value)&&
        !isWhitespace(UpdateForm.admndate.value)) {
        if (!CheckDateRange(UpdateForm.admndate,UpdateForm.ptbrd020))
            { return; }
        if (UpdateForm.admndate.value == UpdateForm.ptbrd020.value) {
            if (!isWhitespace(UpdateForm.ptbrd021.value)&&
                !isWhitespace(UpdateForm.admntime.value)) {
                if (UpdateForm.admntime.value > UpdateForm.ptbrd021.value)
                    { alert('Invalid Start Time Entered');
                      return; }
            }
        }
    }
    if (!isWhitespace(UpdateForm.ptbrd022.value)&&
        !isWhitespace(UpdateForm.admndate.value)) {
        if (!CheckDateRange(UpdateForm.admndate,UpdateForm.ptbrd022))
            { return; }
        if (UpdateForm.admndate.value == UpdateForm.ptbrd022.value) {
            if (!isWhitespace(UpdateForm.ptbrd023.value)&&
                !isWhitespace(UpdateForm.admntime.value)) {
                if (UpdateForm.admntime.value > UpdateForm.ptbrd023.value)
                    { alert('Invalid End Time Entered');
                      return; }
                }
        }
    }
    if (((!isWhitespace(UpdateForm.ptbrd012.value)) &&
          (isWhitespace(UpdateForm.ptbrd014.value))) ||
        ((!isWhitespace(UpdateForm.ptbrd014.value)) &&
          (isWhitespace(UpdateForm.ptbrd012.value))))
         { alert("Invalid Suburb/Post Code Combination");
           return; }
    if (!CheckValPostCode()) 
        { return; }
    if (validateTime(UpdateForm.ptbrd020,UpdateForm.ptbrd021))
        { document.UpdateForm.submit(); }
  }
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitPostCodes();">
<span class="DFrameTitleBar" id="DFrameHeading">
  <img align="right" alt="Exit" class="MenuIcon" src="../images/ExitIcon.gif"
       onclick="DFrameExit();">
  Update Boarder Details</span>

<div id="PageBodySection">
 <form name="UpdateForm" action="patweb83.pbl" method="post">
  <input type="hidden" name="reportno" value="5" />
  <input type="hidden" name="template" value="5" />
  <input type="hidden" name="updatety" value="U" />
  <input type="hidden" name="nextpage" value="2" />
  <input type="hidden" name="redirect"
                       value="%PATWEB83.05.001.patweb83.05.001" />
  <input type="hidden" name="urnumber" value="%PATWEB83.05.003" />
  <input type="hidden" name="admissno" value="%PATWEB83.05.081" />
  <input type="hidden" name="borduniq" value="%PATWEB83.05.519" />
  <input type="hidden" name="exsturno" value="%PATWEB83.05.523" />
  <input type="hidden" name="admndate" value="%PATWEB83.05.520"
                                         title="Admission Date" />
  <input type="hidden" name="admntime" value="%PATWEB83.05.529"
                                         title="Admission Time" />
  <input type="hidden" name="currdate" value="%STANDARD.01.015" />
  <input type="hidden" name="currtime" value="%STANDARD.01.016" />

  <table width="100%" border="0" cellpadding="3" cellspacing="3">

   <tr><td class="DataLabel">Title</td>
       <td><select title="Patient Title" name="ptbrd030" tabindex="1">
             <option></option>
               %STANDARD.01.029
           </select></td>
       <td class="DataLabel">Boarder Address</td>
       <td><input type="text" size="40" maxlength="35" tabindex="5"
                  name="ptbrd010" title="Boarder Address Line 1"
                  value="%PATWEB83.05.610" onchange="UpCase(this);" /></td>
       <td class="DataLabel">Home Phone</td>
       <td><input type="text" size="20" maxlength="20"
                  name=ptbrd015 title="Home Phone"
                  value="%PATWEB83.05.615" tabindex="10" /></td></tr>

   <tr><td class="DataLabel">Surname</td>
       <td><input type="text" size="40" name="ptbrd006" tabindex="1"
                  title="Surname" maxlength="35" value="%PATWEB83.05.606"
                  onchange="UpCase(this);" />  </td>
       <td class="DataLabel"></td>
       <td><input type="text" size="40" maxlength="35" tabindex="6"
                  name="ptbrd011" title="Boarder Address Line 2"
                  value="%PATWEB83.05.611" onchange="UpCase(this);" /></td>
       <td class="DataLabel">Work Phone</td>
       <td><input type="text" size="20" maxlength="20" name="ptbrd016"
                  title="Work Phone" value="%PATWEB83.05.616"
                  tabindex="11" /></td></tr>

   <tr><td class="DataLabel">Given Names</td>
       <td><input type="text" name="ptbrd007" title="Given Names"
                  value="%PATWEB83.05.607" size="40" maxlength="35"
                  onchange="UpCase(this);" tabindex="2" /></td>
       <td class="DataLabel">Suburb</td>
       <td><input type="text" size="40" maxlength="35" tabindex="7"
                  name="ptbrd012" title="Address Line 3"
                  value="%PATWEB83.05.612" onchange="valPostCode();" /></td>
       <td class="DataLabel">Mobile Phone</td>
       <td><input type="text" size="20" maxlength="20"
                  name="ptbrd017" title="Mobile Phone"
                  value="%PATWEB83.05.617" tabindex="12" /></td></tr>

   <tr><td class="DataLabel">Sex </td>
       <td><select name="ptbrd008" title="Sex" tabindex="3">
             <option></option>
             <option value="R">Intersex</option>
             <option value="U">Unknown</option>
             <option value="I">Indeterminate</option>
             <option value="M">Male</option>
             <option value="F">Female</option>
           </select></td>
       <td>&nbsp;</td>
       <td><input type="text" size="40" maxlength="35" tabindex="8"
                  name="ptbrd013" title="Address Line 4"
                  value="%PATWEB83.05.613" onchange="UpCase(this);" /></td>
       <td class="DataLabel">Email</td>
       <td><input type="text" size="20" maxlength="50" name="ptbrd018"
                  title="Email" value="%PATWEB83.05.618"
                  tabindex="13" /></td></tr>

   <tr><td class="DataLabel">Date of Birth</td>
       <td><input type="text" size="12" name="ptbrd009" title="Date of Birth"
                  value="%PATWEB83.05.609" class="PastDate" tabindex="4"
                  onchange="checkDate(this,'Date of Birth');
                            checkAge(this.value,'%PATWEB83.05.092');" /></td>
       <td class="DataLabel">Post Code</td>
       <td><input type="text" size="8" maxlength="4" name="ptbrd014"
                  title="Post Code" tabindex="9" value="%PATWEB83.05.614"
                  onchange="lookSuburb();" /></td>
       <td colspan="2">&nbsp;</td></tr>

   <tr><td class="DataLabel">Boarder Start Date</td>
       <td><input type="text" name="ptbrd020" size="12"
                  title="Boarder Start Date" value="%PATWEB83.05.620"
                  onblur="checkDate(this,'Boarder Start Date');"
                  class="PastDate Mandatory" />
             <img src="../images/DateLookup.gif" class="Icon"
                  date="UpdateForm.ptbrd020" />
           Time
           <input type="text" name="ptbrd021" size="6" class="Mandatory"
                  title="Boarder Start Time" value="%PATWEB83.05.621" />
             <img src="../images/DateTimeStamp.gif" class="Icon"
                  date="UpdateForm.ptbrd020" time="UpdateForm.ptbrd021" />
             <img src="../images/TimeLookup.gif" class="Icon"
                  time="UpdateForm.ptbrd021" /></td>
       <td colspan="4">&nbsp;</td></tr>

   <tr><td class="DataLabel">Boarder End Date</td>
       <td><input type="text" name="ptbrd022" size="12" class="Date"
                  title="Boarder End Date" value="%PATWEB83.05.622"
                  onblur="checkDate(this,'Boarder End Date');" />
             <img src="../images/DateLookup.gif" class="Icon"
                  date="UpdateForm.ptbrd022" />
          Time
          <input type="text" name="ptbrd023" size="6" title="Boarder End Time"
                 value="%PATWEB83.05.623" />
            <img src="../images/DateTimeStamp.gif" class="Icon"
                 date="UpdateForm.ptbrd022" time="UpdateForm.ptbrd023" />
            <img src="../images/TimeLookup.gif" class="Icon"
                 time="UpdateForm.ptbrd023" /></td>
       <td colspan="4">&nbsp;</td></tr>

  <tr><td colspan="6">&nbsp;</td></tr>

   <tr><td colspan="6" align="center">
           <input type="button" class="button" value="Update"
                  onclick="UpdateBoarder();" />
           <input type="button" value="Cancel" class="button"
                  onclick="DFrameCloseRefresh()"; />
           <input type="button" value="Delete" class="button"
                  onclick="DeleteBoarder();" />
           <input type=button value="Copy to Current" class="button"
                  onclick="CopyToCurrent();" /></td></tr>
  </table>
 </form>
</div>

<script type="text/javascript">
  suburb   = document.UpdateForm.ptbrd012;
  state    = document.UpdateForm.ptbrd013;
  postcode = document.UpdateForm.ptbrd014;

  PatientSex="%PATWEB83.05.608";
  for (var i =0 ; i < document.UpdateForm.ptbrd008.length; i++)
  {
    if (document.UpdateForm.ptbrd008.options[i].value==PatientSex.substr(0,1))
       { document.UpdateForm.ptbrd008.selectedIndex=i; }
  }

  if (document.UpdateForm.exsturno.value=="1") {
    document.UpdateForm.ptbrd030.readOnly=true;
    document.UpdateForm.ptbrd030.className="readOnly";
    document.UpdateForm.ptbrd030.onfocus =
    function () {this.defaultIndex=this.selectedIndex};
    document.UpdateForm.ptbrd030.onchange =
    function () {this.selectedIndex=this.defaultIndex};
    document.UpdateForm.ptbrd006.readOnly=true;
    document.UpdateForm.ptbrd006.className="readOnly";
    document.UpdateForm.ptbrd007.readOnly=true;
    document.UpdateForm.ptbrd007.className="readOnly";
    document.UpdateForm.ptbrd008.className="readOnly";
    document.UpdateForm.ptbrd008.onfocus =
    function () {this.defaultIndex=this.selectedIndex};
    document.UpdateForm.ptbrd008.onchange =
    function () {this.selectedIndex=this.defaultIndex};
    document.UpdateForm.ptbrd009.readOnly=true;
    document.UpdateForm.ptbrd009.className="readOnly";
  }

  PatientTitle="%PATWEB83.05.630";
  for (var i =0 ; i < document.UpdateForm.ptbrd030.length; i++)
  {
    if (document.UpdateForm.ptbrd030.options[i].value==PatientTitle)
       { document.UpdateForm.ptbrd030.selectedIndex=i; }
  }
</script>
