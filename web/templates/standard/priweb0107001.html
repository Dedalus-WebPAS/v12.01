<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/priweb0107.js></script>
<script type="text/javascript">
function EditCode01() {
  lf = document.ListForm;
  scode=lf.setcode.value.substr(0,2);
  if (!isWhitespace(scode)) {
    url="priweb01.pbl?reportno=07&template=003&prgli001=" +
        lf.prgli001.value + "&subsectn=" + lf.subsectn.value +
        "&prgli002=" + scode;    
    ViewInterface(url);
  }
}
function EditCode02() {
  lf = document.ListForm;
  scode=lf.setcode.value + '   ';
  scode=scode.substr(0,3);
  itmflag=lf.itemflag.value.substr(0,1);
  inum=lf.itemnumb.value + '         ';
  inum=inum.substr(0,9);
  isnum=lf.isubnumb.value + '   ';
  isnum=isnum.substr(0,3);  
  strtkey=scode + ' ' + itmflag + inum + isnum;
  if (isWhitespace(scode)) {return}
  if (isWhitespace(itmflag)) {return}
  if (isWhitespace(inum)) {return}

  url="priweb01.pbl?reportno=07&template=003&prgli001=" +
      lf.prgli001.value + "&subsectn=" + lf.subsectn.value +
      "&prgli002=" + strtkey;    
  ViewInterface(url);
}
function EditCode03() {
  lf = document.ListForm;
  jcode=lf.jrnlcode.value.substr(0,2);
  if (!isWhitespace(jcode)) {
    url="priweb01.pbl?reportno=07&template=003&prgli001=" +
        lf.prgli001.value + "&subsectn=" + lf.subsectn.value +
        "&prgli002=" + jcode 
    ViewInterface(url);
  }
}
function ShowSearchNoSpan() {
  SearchKeyFields.innerHTML="";
}
function ShowSearchSpan() {
  lf = document.ListForm;
  if(lf.prgli001.value==1)  {       // Item section
    if (lf.subsectn.value==2) {     // Group codes
      SearchKeyFields.innerHTML=SrchItemGroupSpan.innerHTML;
    }
    else {
      if (lf.subsectn.value==3) {    // Item codes
        SearchKeyFields.innerHTML=SrchItemItemSpan.innerHTML;
      }
      else {
        ShowSearchNoSpan();
      }  
    }
  }
  else { 
    if (lf.prgli001.value==3)  {      // Journal section
      if (lf.subsectn.value==2) {     // Group codes
        SearchKeyFields.innerHTML=SrchJrnlGroupSpan.innerHTML;
      }
      else {
        ShowSearchNoSpan();
      }
    }
  }
}
function SetItemType() {
  if (ListForm.itemflag.value==0) {
    ListForm.itemtype.value="M"
  }
  else if (ListForm.itemflag.value==1) {
    ListForm.itemtype.value="A"
  }
  else {
    ListForm.itemtype.value=""
  }
}
function ReturnItem() {
  if (ListForm.tempiflg.value==' 0') {        // MBS
    ListForm.itemflag.selectedIndex=1;
    ListForm.itemtype.value="M"
  }
  else if (ListForm.tempiflg.value==' 1') {   // AMA
    ListForm.itemflag.selectedIndex=2;
    ListForm.itemtype.value="A"
  }
  else {
    ListForm.itemflag.selectedIndex=0;
  }
}
function SubmitGoto(type) {
  lf = document.ListForm;
  if (type=="2") {
    scode=lf.setcode.value + '   ';
    scode=scode.substr(0,3);
    itmflag=lf.itemflag.value.substr(0,1);
    inum=lf.itemnumb.value + '         ';
    inum=inum.substr(0,9);
    isnum=lf.isubnumb.value + '   ';
    isnum=isnum.substr(0,3);  
    strtkey=scode + ' ' + itmflag + inum + isnum;
    lf.startkey.value=strtkey;
    if (!isWhitespace(strtkey)) {
      if (isWhitespace(scode)) {
        alert('Group Code must be selected!');
        return;  
      }
    }   
  }
  else {
    if (type=="1") {
      lf.startkey.value=lf.setcode.value.substr(0,2);
    }  
    else {
      if (type=="3") {
        lf.startkey.value=lf.jrnlcode.value.substr(0,2);
      } 
    }
  }
  lf.submit();
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);ShowSearchSpan();">
<form name=ListForm method=get action=priweb01.pbl>
<input type=hidden name=reportno value=7>
<input type=hidden name=template value=001>
<input type=hidden name=nextpage value="1">
<input type=hidden name=updttype value=" ">
<input type=hidden name=norecord value="10">
<input type=hidden name=redirect value="priweb01.pbl?reportno=7&template=001">
<input type=hidden name=prgli002 value="%PRIWEB01.07.019">
<input type=hidden name=ptcnufms value="%PRIWEB01.07.030">
<input type=hidden id=currdate name=currdate value="%STANDARD.01.015">
<input type=hidden name=startkey value="">

<table border=1 width=100% cellspacing=0 cellpadding=0>
<tr><td>
  <table width="100%" cellpadding=1 cellspacing=2 border=0 bgcolor=#CCCCCC>
  <tr><td colspan=2 class=HeadingCell align=center>
     Private Practice General Ledger Interface Maintenance
  </td></tr>
  </table>
  <table width="100%" cellpadding=1 cellspacing=2 border=0 bgcolor=#CCCCCC>
  <tr><td class=DataLabel width="20%">&nbsp;Section
      <select name=prgli001 title="Section"
        onchange="ShowSpans(this);">
        <option value=1>Items</option>
        <option value=3>Journals</option>
      </select></td>
      <td id=subsectid><span id=InterfaceOptions1></span></td>
      <td><span id=SearchKeyFields></span></td>
  </tr>
  </table>
  <table cellspacing=0 colspan=4 border=1 width=100%>
   %PRIWEB01.07.021.priweb01.07.002
  </table>
  <table cellspacing=0 cellpadding=0 colspan=3 border=0 width=100%>
  <tr><td><span id=InterfaceButtons></span></td></tr>
  </table>
</td></tr>
</table>
</form>

<!-- Misc Item Span -->

<span id=ItemSpan style="display:none">
   <td class=DataLabel>Item Sub-section
    <select name=subsectn title="Item Sub-section" class=Mandatory
            onchange='ProcessForm(ListForm);'>
        <option value=" "></option>
        <option value=1>Defaults</option>
        <option value=2>Group Codes</option>
        <option value=3>Item Codes</option>
        </select>
    </td>
</span>

<!-- Journal Span -->

<span id=JournalSpan style="display:none">
    <td class=DataLabel>Journal Sub-section
    <select name=subsectn title="Journal Sub-section" class=Mandatory
            onchange='ProcessForm(ListForm);'>
        <option value=""></option>
        <option value=1>Defaults</option>
        <option value=2>Journal Codes</option>
        </select>
    </td>
</span>

<!-- Buttons Span -->

<span id=ButtonsSpan style="display:none">
<table border=0 cellspacing=2 cellpadding=1 width=100% bgcolor=#CCCCCC>
  <tr><td align=center>

  <input type=button value="<< Previous" class="button"
   onclick='location.href="%PRIWEB01.07.023.001"'>

  <input type=button value="Add" class="button" 
   onclick='AddInterface("%PRIWEB01.07.018","%PRIWEB01.07.024",
                         "%PRIWEB01.07.019");'>

  <input type=button value="Next >>" class="button"
   onclick='location.href="%PRIWEB01.07.022.001"'>
  </td></tr>
</table>
</span>

<span id=SrchItemGroupSpan style="display:none">
  <td class=DataLabel>Group Code</td>
    <td><select name=setcode title="Group Code">
      <option></option>
        %STANDARD.01.007.PG
      </select>
  </td>
  <td>
    <input type=button value=Edit onclick=EditCode01() class="button">
    <input type=submit value=Goto class="button" onclick=SubmitGoto("1");>
  </td>
</span>

<span id=SrchItemItemSpan style="display:none">
  <td class=DataLabel>Group Code</td>
    <td><select name=setcode title="Group Code">
       <option></option>
        %STANDARD.01.007.PG
      </select>
  </td>
  <td class=DataLabel width=30%>Item Type</td>
  <td><select name=itemflag title="Item Type" id=itemflag
              onchange="SetItemType()">
         <option></option>
         <option value=0>MBS</option>
         <option value=1>AMA</option>
      </select></td>
  <td class=DataLabel width=30%>Item Code</td>
  <td><input type=text name=itemnumb id=itemnumb title="Item Code"
             class="SelectBig" size=9>
      <input type=text name=isubnumb id=isubnumb title="Item Sub Code"
             class="SelectBig" size=3
      onblur="validatePriItem(itemflag,itemnumb,isubnumb,currdate,itemdesc);">
      <input type=text readonly class="Readonly" name=itemdesc size=30
       title="Item Description" notab tabindex=-1 id=itemdesc>
      <img src=../images/SearchIcon.gif class=Icon
       onclick="PriMbsSearchFrame(tempiflg,itemnumb,isubnumb,dumdate,itemdesc,itemtype,ReturnItem);">
      <img src="../images/ClearIcon.gif" class=Icon
        onclick="clrFields(itemnumb,isubnumb,itemdesc,setcode,itemflag);">
      <input type=hidden name=itemtype value="">
      <input type=hidden name=tempiflg value="">
      <input type=hidden name=dumdate value="">
  </td>
  <td>
    <input type=button value=Edit onclick=EditCode02() class="button">
    <input type=submit value=Goto class="button" onclick=SubmitGoto("2")>
  </td>
</span>

<span id=SrchJrnlGroupSpan style="display:none">
  <td class=DataLabel>Journal Code</td>
    <td><select name=jrnlcode title="Journal Code">
      <option></option>
        %STANDARD.01.007.J
      </select>
  </td>
  <td>
    <input type=button value=Edit onclick=EditCode03() class="button">
    <input type=submit value=Goto class="button" onclick="SubmitGoto('3')">
  </td>
</span>
<script type="text/javascript">
//
// Restore saved Report section
//
section="%PRIWEB01.07.018";
if (!isWhitespace(section)) {
  for (var i=0; i < ListForm.prgli001.length; i++) {
    if (ListForm.prgli001.options[i].value==section) {
       ListForm.prgli001.selectedIndex=i;
     }
  }
}
//
// Determine subsection selection list
//
ShowSpans(ListForm.prgli001);
//
// Restore saved subsection 
//
subsect="%PRIWEB01.07.024";
if (!isWhitespace(subsect)) {
  for (var i=0; i < ListForm.subsectn.length; i++) {
    if (ListForm.subsectn.options[i].value==subsect) {
       ListForm.subsectn.selectedIndex=i;
     }
  }
}
//
// Only display buttons for valid Lists.
//
if( ((ListForm.prgli001.value==1)&&(ListForm.subsectn.value==2))|| 
    ((ListForm.prgli001.value==1)&&(ListForm.subsectn.value==3))|| 
    ((ListForm.prgli001.value==3)&&(ListForm.subsectn.value==2))  ) {
  InterfaceButtons.innerHTML=ButtonsSpan.innerHTML;
}
</script>

