<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function CheckUPI() {
 if (UpdateForm.d_pmaid002.value.substr(6,1)=="U") {
  var SecurityLevel=UpdateForm.SecurityLevel.value;
  if (trim(SecurityLevel) < trim(UpdateForm.d_pmaid002.value.substr(22,6))) {
    document.UpdateForm.addbutton.disabled = true;
  } else {
    document.UpdateForm.addbutton.disabled = false;
  }
 } else {
  document.UpdateForm.addbutton.disabled = false;
 }
}
function displayInstead() {
  f = document.UpdateForm; 
  ind = f.ptcndaur.value;
  if (ind==0) {
    DisInstHeading.innerHTML="";
    DisInst.innerHTML=blankinstead.innerHTML;
  } else {
    DisInstHeading.innerHTML=disinsthd.innerHTML;
    DisInst.innerHTML=disinstead.innerHTML; 
  }

//  if (f.ptcnunet.value == "3") {
//    spIHILookupBut.style.display="";
//  }
}
function AddAlternateID() {
  document.UpdateForm.pmaid002.value=document.UpdateForm.d_pmaid002.value;
  document.UpdateForm.pmaid004.value=document.getElementById('d_pmaid004').value;
  if(document.UpdateForm.pmaid002.value.substr(4,1)== "I") {
//    document.UpdateForm.pmaid003.value=trim(document.UpdateForm.pmaid003.value);
//    if(!validateNEHTA(UpdateForm.pmaid003,'0')) {
//      return;
//    }

    alert("Manual IHI Number allocation not permitted.");
    return;

  }

  var sIndc1 = document.UpdateForm.pmaid002.value.substr(3,1);
  var sIndc3 = document.UpdateForm.pmaid002.value.substr(5,1);
  if (!isWhitespace(sIndc1) && !isWhitespace(sIndc3) &&
      trim(document.UpdateForm.pmaid003.value).length >= 19) {
    alert("Warning: Type selected will truncate Alternate ID value");
  }
  SubmitHiddenNew(UpdateForm);
}
function DeleteAlternateID(urnumber,altid,type) {
  if(confirm("Are you sure you want to delete?")) {
    document.UpdateForm.updttype.value="D";
    document.UpdateForm.urnumber.value=urnumber;
    document.UpdateForm.pmaid003.value=altid;
    document.UpdateForm.pmaid002.value=type;
    DFrameHide(UpdateForm)
  }
}
function refresh(){
  linkurl="patweb07.pbl?reportno=01&template=001" +
          "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")+
          "&seldtype=" + document.UpdateForm.seldtype.value
  location.href=linkurl;
}
function CreateNihcLookup(RequestType,RequestCode) {
  f = document.UpdateForm;
  if (f.ptcnunet.value != "3") {return true;}
 
  var serverURL ="../cgi-bin/comweb81.pbl?reportno=60&valdtype=7" +
                 "&valdtype=" + RequestType +
                 "&valdcode=" + RequestCode.value.replace(/ /g,"+");
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    if(RequestType=="07" ) {
      alert("NIHC IHI webservice IHI Lookup Sent");
    }
  }
  refresh(); 
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);displayInstead();">
<span class=DFrameTitleBar id=DFrameHeading>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<img src="../images/PrinterIcon.gif" class=MenuIcon alt="Print"
onclick="PrintThisPage();" align ="right">
Alternate ID                      
</span>

<div id=PageBodySection>
<form name=UpdateForm action="patweb07.pbl" method=post >
<input type=hidden name=reportno value="1">
<input type=hidden name=template value="1">
<input type=hidden name=updttype value="A">
<input type=hidden name=nextpage value="5">
<input type=hidden name=pmaid002>
<input type=hidden name=pmaid004>
<input type=hidden name=urnumber value="%PATWEB07.01.003">
<input type=hidden name=ptcndaur value="%PATWEB07.01.102">
<input type=hidden name=SecurityLevel value="%STANDARD.01.042.PATWEB07">
<input type=hidden name=ptcnunet id=ptcnunet
  value="%STANDARD.01.025.120.158.0.1">

<table width=100% border=0 cellpadding=1 cellspacing=0>
<tr><td class=DataLabel align=left> Type 
        <select name=seldtype onchange="refresh();">
        <option value="   ">All</option>
          %PATWEB07.01.104.2
        </select>
</td>
</tr>
</table>

<table width=100% border=1 cellpadding=0 cellspacing=0>
<tr><td class=HeadingCell> Alternate ID </td>
    <td class=HeadingCell> Type</td>       
    <td class=HeadingCell> Display instead of UR</td>       
    <td class=HeadingCell width=10%> &nbsp; </td>
</tr>
%PATWEB07.01.101
</table>
</div>

<div id=PageHeadingSection style="position:absolute">
<table width=100% border=0 cellpadding=1 cellspacing=1 bgcolor=#cccccc>
<tr><td width=100% colspan=8 class=HeadingCell align=center>
        Add Alternate ID</td></tr>
<tr><td class=DataLabel nowrap>Alternate ID</td>
    <td><input type=text name=pmaid003 size=20 maxlength=19 value=""
         onblur="UpCase(this);justifyRight(this);" 
         class=Mandatory title="Alternate ID">
    <td class=DataLabel> Type </td>
    <td><select name=d_pmaid002 class=Mandatory title="Type"
         onchange="CheckUPI();">
        <option></option>
          %STANDARD.01.007.AI
        </select>

    <td><div id=DisInstHeading></div></td>
    <td><div id=DisInst></div></td>
</tr>

<tr><td colspan=8 align=center>
    <input type=button class="button" value="Add" name=addbutton
           onclick='AddAlternateID();'>
    <input type=button value="Cancel" class="button"
     onclick='DFrameExitRefresh()'>
    <span id=spIHILookupBut style="display: none">
      <input type=button value="IHI Lookup" class="button" 
      onclick="CreateNihcLookup('07',UpdateForm.urnumber);">
    </span>
</td></tr>
<tr><td>&nbsp;</td></tr>
</table>
</div>
</form>

<script type="text/javascript">
  var height = document.body.clientHeight;  // document height

  // Set the height of our list container
  PageBodySection.style.height = height - 
    (DFrameHeading.clientHeight + PageHeadingSection.clientHeight) + "px";

  // Position our list container below our DFrame title bar
  PageBodySection.style.top = DFrameHeading.clientHeight + "px";

  // Position the Add panel below our list container
  PageHeadingSection.style.top = PageBodySection.offsetTop + PageBodySection.clientHeight + "px";

</script>

<span id=blanklabel style="display:none">&nbsp;</span>
        
<span id=disinsthd style="display:none">
Display instead of UR
</span>

<span id=disinstead style="display:none">
<select name=d_pmaid004 id=d_pmaid004 class=Mandatory
 title="Display Instead of UR">
<option></option>
<option value="0">No</option>
<option value="1">Yes</option>
</select>
</span>

<span id=blankinstead style="display:none">
<input type=hidden name=d_pmaid004 id=d_pmaid004 value="0">
</span>
