<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/allweb0401.js"></script>
<script type="text/javascript" src="../js/allweb0105.js"></script>
<script type="text/javascript">
function submitCancel() {
  document.AddForm.snord013.value=document.AddForm.tmprd013.value;
  if(isWhitespace(document.AddForm.snord014.value)){
    alert("Enter Date Cancelled");
    return;
  }
  document.AddForm.updttype.value="D";
  document.AddForm.submit();
}
function submitReceival() {
  document.AddForm.snord013.value=document.AddForm.tmprd013.value;
  if(isWhitespace(document.AddForm.snord015.value)){
    alert("Enter Date Received");
    return;
  }
  if(isWhitespace(document.AddForm.snord016.value)){
    alert("Enter Delivery Docket");
    return;
  }
  document.AddForm.updttype.value="U";
  document.AddForm.submit();
}
function defaultButtons() {
  if(!isWhitespace(document.AddForm.snord013.value)) {
    if(document.AddForm.compdate.value=="") {
      if(document.AddForm.cancdate.value=="") {
        document.AddForm.recbutton.disabled=false;
        document.AddForm.canbutton.disabled=false;
        document.AddForm.snord015.disabled=false;
        document.AddForm.snord016.disabled=false;
        document.AddForm.snord014.disabled=false;
      }
    }
  }
}
function cancelPurOrd() {
  var temp="";
  linkurl = "../cgi-bin/sinweb04.pbl?reportno=1&template=3" +
            "&snord013=" +
            temp.replace(/ /g,"+")

  location.href=linkurl;
}
function valPurOrd() {
  linkurl = "../cgi-bin/sinweb04.pbl?reportno=1&template=3" +
            "&snord013=" +
            document.AddForm.snord013.value.replace(/ /g,"+")

  location.href=linkurl;
}
function validatePurchaseOrder(ReturnCode,ReturnName) {
  document.AddForm.snord013.value=ReturnCode.value
  ReturnFunction="" ;
  ReturnName.value="";
  for (var i=2; i < validatePurchaseOrder.arguments.length; i++) {
    if (typeof(validatePurchaseOrder.arguments[i]) == 'function') {
      ReturnFunction=validatePurchaseOrder.arguments[i] }
    else {
      validatePurchaseOrder.arguments[i].value=""; }  }
  if (isWhitespace(ReturnCode.value)) return;;

  var serverURL = "../cgi-bin/sinweb04.pbl?reportno=2&snord013=" +
                  ReturnCode.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|");
    ReturnName.value=ReturnValue[0];
    j=0
    for (var i=3; i < validatePurchaseOrder.arguments.length; i++) {
       if (typeof(validatePurchaseOrder.arguments[i]) != 'function') {
         j++
         validatePurchaseOrder.arguments[i].value=ReturnValue[j] } }
    if (typeof(ReturnFunction) == 'function') {
       ReturnFunction() } }
  else {
    ReturnCode.select();  }
}
function changeExpCstHd() {
  if(document.AddForm.snord004.checked==true) {
    ExpCstHd.innerHTML=expcstgst.innerHTML; 
  } else {
    ExpCstHd.innerHTML=expcst.innerHTML; 
  }
}
function defaultExpCstHd() {
  ExpCstHd.innerHTML=expcstgst.innerHTML;  
}
function defaultGST() {
  if(document.AddForm.gstvar.value==1) {
    document.AddForm.snord004.checked=true;
  } else {
    document.AddForm.snord004.checked=false;
  }
}
function defaultFreight() {
  if(document.AddForm.snord017.value==1) {
    document.AddForm.frechkbx.checked=true;
  } else {
    document.AddForm.frechkbx.checked=false;
  }
}
function enablePrinter() {
  document.AddForm.selprint.className="";
  document.AddForm.selprint.disabled=false;
}
function disablePrinter() {
  document.AddForm.selprint.value="";
  document.AddForm.selprint.className="readonly";
  document.AddForm.selprint.disabled=true;
}
function defaultPrintFax() {
  document.AddForm.snord011[0].checked=1;
}
function submitForm() {
  if(validateMandatory(document.AddForm)) {
    document.AddForm.submit();
  }
}
function ValEquip() {
  p=document.AddForm;
  validateEquip(p.snord002,p.equpdesc,p.dummy,p.dummy,p.snord003,p.snord012);
  ValidateSupplier(p.snord012,p.dummy1);
}
function calcFGST() {
  if(document.AddForm.snord004.checked==true) {
    a=10/100;
    b=1+a;
    c=document.AddForm.snord018.value/b
    document.AddForm.frghtgst.value=document.AddForm.snord018.value-c
    d=document.AddForm.snord009.value-0
    e=document.AddForm.frghtgst.value-0
    f=d+e
    document.AddForm.snord009.value=f;
    d=document.AddForm.snord010.value-0
    e=document.AddForm.snord018.value-0
    f=d+e
    document.AddForm.snord010.value=f;
  } else {
    document.AddForm.frghtgst.value="";
    d=document.AddForm.snord010.value-0
    e=document.AddForm.snord018.value-0
    f=d+e
    document.AddForm.snord010.value=f;
  }

}
function calcGST() {
  if(document.AddForm.snord004.checked==true) {
    a=10/100;
    b=1+a;
    c=document.AddForm.snord007.value/b
    document.AddForm.snord008.value=document.AddForm.snord007.value-c;

    document.AddForm.snord009.value=document.AddForm.snord008.value*
                                    document.AddForm.snord006.value

    document.AddForm.snord010.value=document.AddForm.snord007.value*
                                    document.AddForm.snord006.value

  } else {
    document.AddForm.snord008.value="";
    document.AddForm.snord009.value="";
    document.AddForm.snord010.value=document.AddForm.snord007.value*
                                    document.AddForm.snord006.value
  }
  calcFGST();

  RoundNumber(document.AddForm.snord007,2);
  RoundNumber(document.AddForm.snord008,2);
  RoundNumber(document.AddForm.snord009,2);
  RoundNumber(document.AddForm.snord010,2);

  if(document.AddForm.snord007.value==0) {
    document.AddForm.snord007.value="";
  }
  if(document.AddForm.snord008.value==0) {
    document.AddForm.snord008.value="";
  }
  if(document.AddForm.snord009.value==0) {
    document.AddForm.snord009.value="";
  }
  if(document.AddForm.snord010.value==0) {
    document.AddForm.snord010.value="";
  }
  if(document.AddForm.snord006.value==0) {
    document.AddForm.snord006.value="";
  }
  if(document.AddForm.snord018.value==0) {
    document.AddForm.snord018.value="";
  }

}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);
              defaultGST();
              defaultExpCstHd();
              calcGST();
              defaultFreight();
              defaultButtons();">
<span class=DFrameTitleBar>
<script type="text/javascript">document.write(self.document.title);</script>
</span>

<form name=AddForm method=post action=sinweb04.pbl style="margin:0">
   <input type=hidden name=reportno value="1">
   <input type=hidden name=template value="003">
   <input type=hidden name=updttype> 
   <input type=hidden name=nextpage value="1">
   <input type=hidden name=redirect value="sinweb04.pbl?reportno=1&template=3">
   <input type=hidden name=dummy>
   <input type=hidden name=snord001 value="%SINWEB04.01.001">
   <input type=hidden name=snord013 value="%SINWEB04.01.002">
   <input type=hidden name=tmprd013 value="%SINWEB04.01.002">
   <input type=hidden name=gstvar value="%SINWEB04.01.006">
   <input type=hidden name=snord017 value="%SINWEB04.01.015">
   <input type=hidden name=compdate value="%SINWEB04.01.012">
   <input type=hidden name=cancdate value="%SINWEB04.01.013">
   <input type=hidden name=frghtgst>

<table align=center width=98% border=0>
<tr><td>
<table align=center width=100% border=0 cellpadding=0 cellspacing=0>
<tr><td class=DataLabel>Purchase Order Number</td>
    <td><input type=text size=10 maxlength=7 name=poenter
         title="Purchase Order Number" tabindex=1
         onblur="justifyRight(poenter);
                 validatePurchaseOrder(AddForm.poenter,
                                       AddForm.dummy,
                                       valPurOrd);"></td>
    <td class=DataLabel>Purchase Order Number</td>
    <td>%SINWEB04.01.002</td>
</tr>

<tr><td class=DataLabel>Equipment Description</td>
<td><input type=text class="ReadOnly" readonly size=37
     title="Equipment Description" value="%SINWEB04.01.003">
    </td>
    <td class=DataLabel>Part Number</td> 
  <td><input type=text title="Part Number" class="ReadOnly" readonly
       size=30 maxlength=20 value="%SINWEB04.01.009">
</td>
</tr>
<tr>
    <td class=DataLabel>Supplier</td>
    <td><input type=text title="Supplier" class=ReadOnly readonly
        size=10 maxlength=5 tabindex=3
        value="%SINWEB04.01.004">
    <input type=text size=50 name=dummy1 value="%SINWEB04.01.005"
                readonly class=Readonly>
</td>
<td class=DataLabel>Expected Rec. Date</td>
    <td><input type="text" size=10 title="Expected Rec. Date" name=exprecdt
         maxlength="11" class=ReadOnly readonly value="%SINWEB04.01.010"></td>
</tr>
<tr><td class=DataLabel>GST Applicable</td>
    <td><input type=checkbox name=snord004 title="GST Applicable" 
         class="ReadOnly" Disabled></td>
    <td class=DataLabel>Expected GST on Equipment</td>
    <td><input type="text" title="Expected GST" 
         class="Readonly" readonly size=15 maxlength=15
         value="%SINWEB04.01.011" name=snord008>
    </td>
</tr>
<tr><td class=DataLabel>Quantity Required</td>
    <td><input type="text" title="Quantity Required" name=snord006
         class="Readonly" readonly size=15 maxlength=15 
         value="%SINWEB04.01.007">
    </td>
    <td class=DataLabel>Total GST</td>
    <td><input type="text" title="Total GST" 
         class="Readonly" readonly size=15 maxlength=15 
         name=snord009>
    </td>
</tr>
<tr><td class=DataLabel>Freight</td>
        <td><input type=checkbox name=frechkbx title="Freight" value="0"
         tabindex=6" class="ReadOnly" Disabled>
         <input type="text" name=snord018 title="Freight Amount" 
         class="ReadOnly" readonly value="%SINWEB04.01.014" size=15 maxlength=15></td>
    <td class=DataLabel>Total Cost</td>
    <td><input type="text" name=snord010 title="Total Cost" 
         class="Number Readonly" readonly size=20 maxlength=16>
    </td>
</tr>
<tr>
    <td><div id=ExpCstHd></div></td>
    <td><input type="text" name=snord007 title="Expected Cost + GST" 
         class="Readonly" readonly size=20 maxlength=16 tabindex=7
         value="%SINWEB04.01.008">
    </td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><input type=button value="Cancel" class="button"
         onclick="cancelPurOrd();"
         tabindex=13>
</td></tr>

<tr><td class=DataLabel>Received Date</td>
    <td><input type="text" name=snord015 size=10 title="Received Date"
         maxlength="11" tabindex=4 class="Date" tabindex=2 disabled>
       <img notab src="../images/DateLookup.gif" class="Icon"
        alt="Calendar" date="AddForm.snord015"></td>
    <td class=DataLabel>Delivery Docket</td>
    <td><input type="text" name=snord016 title="Delivery Docket"
         class="" size=15 maxlength=15 tabindex=5 disabled
         >
    </td>
    <td>
    <input type=button value="Receive" class=button
     name=recbutton disabled tabindex=6 id=recbutton
     onclick="tempDisable(this);submitReceival();"> 
    </td>
</tr>

<tr><td class=DataLabel>Cancel Date</td>
    <td><input type="text" name=snord014 size=10 title="Cancel Date"
         maxlength="11" tabindex=7 class="Date" disabled>
       <img notab src="../images/DateLookup.gif" class="Icon"
        alt="Calendar" date="AddForm.snord014"></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>
    <input type=button value="Cancel P/O" class=button
     onclick="tempDisable(this);submitCancel();" disabled
     name="canbutton" tabindex=8>
    </td>
</tr>

</table>
</td></tr>
</table>
</form>

<span id=expcst style="display:none">
Expected Cost
</span>

<span id=expcstgst style="display:none">
Expected Cost + GST
</span>
