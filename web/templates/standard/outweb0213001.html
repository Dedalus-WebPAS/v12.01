<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/OutpatientClinicId.js>  </script>
<script type="text/javascript">
function SetList() {
  var fe=document.getElementById('UpdateForm').elements;

  fe.namedItem('clinicid').options.length=1;
  SetClinicId(fe.namedItem('clinicid'),
              fe.namedItem('deftclid').value,
              fe.namedItem('gplbl001').value);
}
function SetPrinter(SelectList,Nolabel) {
 if (SelectList.className=="Mandatory SelectBig") {
     SelectList.className="SelectBig" }
 else {
     SelectList.className="Mandatory SelectBig" }
 if (Nolabel.className=="Mandatory") {
     Nolabel.className="" }
 else {
     Nolabel.className="Mandatory" }
}

function getClinicIdDesc(elCode,elDesc) {
  if (isWhitespace(elCode.value)) {
    elDesc.options.selectedIndex=0;
    return;
  }

  var sPad = "      ";
  var sCode = elCode.value + sPad.substr(0,(6 - elCode.value.length));
  for (i=0;i<elDesc.options.length;i++) {
    if (elDesc.options[i].value == sCode) {
      elDesc.options.selectedIndex=i;
      return;
    }
  }

  // The code below is executed only if the CLinic Id code is not balnk
  // and the specified code was not found inisde the selection list.
  alert("Invalid Clinic Id.");
  elDesc.options.selectedIndex=0;
  elCode.focus();
  elCode.select();
}

function getClinicIdCode(elDesc,elCode) {
  elCode.value = elDesc.value;
}
  
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
Print Group Labels
</span>

<form action=outweb02.pbl method=post name=UpdateForm id=UpdateForm
 style="margin:0"
 onsubmit="return validateMandatory(this);">
<input type=hidden name=reportno id=reportno value="13">
<input type=hidden name=nextpage id=nextpage value="">
<input type=hidden name=redirect id=redirect value="">
<input type=hidden name=updatety id=updatety value="2">
<input type=hidden name=casekeys id=casekeys value="">
<input type=hidden name=inauptfg id=inauptfg value="">
<input type=hidden name=wbsec006 id=wbsec006 value="%STANDARD.01.023">
<input type=hidden name=deftclid id=deftclid value="">

<table cellspacing=0 cellpadding=1 border=0 width=95% align=center >
<tr><td class=DataLabel>Site</td>
    <td class=DataField>
      <select class=Mandatory name=gplbl001 id=gplbl001 title="Site"
       onchange="SetList();
                 getClinicIdDesc(document.UpdateForm.clidcode,
                                 document.UpdateForm.clinicid);">
         <option></option>
         %OUTWEB02.13.001.2</select></td>
<td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Clinic ID</td>
    <td class=DataField>
        <input type=text size=8 maxlength=6 name=clidcode id=clidcode
         class=Mandatory
         title="Clinic ID Code"
         onblur='UpCase(this);getClinicIdDesc(this,UpdateForm.clinicid);'>
        <select class=Mandatory name=clinicid id=clinicid title="Clinic ID"
         onchange='getClinicIdCode(this,UpdateForm.clidcode);'>
           <option></option>
        </select></td>
<td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Date</td>
    <td><input class=Mandatory name=gplbl002 id=gplbl002 type=text size=12
         title=Date class=BackDate
         onblur="checkDate(this,'Date of Priority')">
        <img src=../images/DateTimeStamp.gif  border=0 hspace=4
         align=absmiddle onClick="SetCurrentDateTime(gplbl002,null);">
        <img src=../images/CalendarLookup.gif border=0 hspace=4
         align=absmiddle onclick="DateLookupFrame(gplbl002);"></td>
<td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Time</td>
    <td><input class=Mandatory type=text name=gplbl003 id=gplbl003 size=8
         value="" title="Admission Time">
       <img notab src=../images/TimeLookup.gif border=0 hspace=4 align=absmiddle
         onclick="TimeLookupFrame(gplbl003);">
          </td>

<tr><td class=DataLabel>Booking</td>
    <td><input type=checkbox value="1" name=labprt01 id=labprt01
         onclick="SetPrinter(UpdateForm.labpsl01,UpdateForm.labpno01);">
        No of Labels <select name=labpno01 id=labpno01>
         %STANDARD.01.027.2.1
    </select></td>
    <td>Printer</td>
    <td><select class="SelectBig" name=labpsl01 id=labpsl01 title="Printer">
        <option></option>
        %STANDARD.01.001.OUTLABEL.01
        </select></td></tr>

<tr><td class=DataLabel>Appointment</td>
    <td><input type=checkbox value="1" name=labprt02 id=labprt02
         onclick="SetPrinter(UpdateForm.labpsl02,UpdateForm.labpno02);">
        No of Labels <select name=labpno02 id=labpno02>
         %STANDARD.01.027.2.1
    </select></td>
    <td>Printer</td>
    <td><select class="SelectBig" name=labpsl02 id=labpsl02 title="Printer">
        <option></option>
        %STANDARD.01.001.OUTLABEL.02
        </select></td></tr>

<tr><td class=DataLabel>Mailing</td>
    <td><input type=checkbox value="1" name=labprt03 id=labprt03
         onclick="SetPrinter(UpdateForm.labpsl03,UpdateForm.labpno03);">
        No of Labels <select name=labpno03 id=labpno03>
         %STANDARD.01.027.2.1
    </select></td>
    <td>Printer</td>
    <td><select class="SelectBig" name=labpsl03 id=labpsl03 title="Printer">
        <option></option>
        %STANDARD.01.001.OUTLABEL.03
        </select></td></tr>

<tr><td class=DataLabel>GP Labels</td>
    <td><input type=checkbox value="1" name=labprt04 id=labprt04
         onclick="SetPrinter(UpdateForm.labpsl04,UpdateForm.labpno04);">
        No of Labels <select name=labpno04 id=labpno04>
         %STANDARD.01.027.2.1
    </select></td>
    <td>Printer</td>
    <td><select class="SelectBig" name=labpsl04 id=labpsl04 title="Printer">
        <option></option>
        %STANDARD.01.001.OUTLABEL.04
        </select></td></tr>

<tr><td colspan=4 align=center><br>
    <input type=button class="button" value="Ok" id=btnOk
     onclick="tempDisable(this);SubmitHiddenNew(UpdateForm)";>
    <input type=button class="button" Value="Cancel"
     onclick='location.href="../lookups/blank.html"'>
</tr>
</table>
</form>

<script type="text/javascript">
  var fe=document.getElementById('UpdateForm').elements;
  for (var i =0 ; i < fe.namedItem('gplbl001').length; i++) {
    if (fe.namedItem('gplbl001').options[i].value==
        fe.namedItem('wbsec006').value.substr(0,6)) {
      fe.namedItem('gplbl001').selectedIndex=i
    }
  };
  SetList();
</script>
