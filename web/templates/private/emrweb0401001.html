<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="private">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript">
function SetFields() {
 state = document.UpdateForm.dummy;
 suburb = document.UpdateForm.pmclt010;
 postcode = document.UpdateForm.pmclt012;
}
function init() {
     if (UpdateForm.grpbydoc.value==1) {
        ServDocHeading.innerHTML=ServDocHd.innerHTML;
        ServDocOption.innerHTML=ServDoct.innerHTML;
        }
     else {
        ServDocHeading.innerHTML="";
        ServDocOption.innerHTML=ServDocBlank.innerHTML;
        }

     if (UpdateForm.keyindoc!=undefined) {
       if (isWhitespace(UpdateForm.keyindoc.value)) {
         for (var i=0;i<document.UpdateForm.keyindoc.length;i++){
              if (document.UpdateForm.keyindoc.options[i].value==
                  document.UpdateForm.defsdoct.value){
                     document.UpdateForm.keyindoc.selectedIndex=i;
              }
         }
       }
     }

    if (UpdateForm.prntflag.value==1) {
        UpdateForm.printbut.disabled=true;
        UpdateForm.selprint.disabled=true;
        UpdateForm.selprint.className="Readonly";
        UpdateForm.nocopies.disabled=true;
    }
    if (!isWhitespace(document.UpdateForm.emrgdoct.value)) {
        document.UpdateForm.AddBtton.disabled=false;
    }
    //ShowEclipse();
 }

function DeleteItem(admissno,transnum) {
   ans=confirm("Are you sure you want to Delete this Item ?")
   if (ans) {
     ItemForm.updttype.value="D";
     ItemForm.transnum.value=transnum;

  if (document.UpdateForm.d_dummyoth != undefined &&
      document.UpdateForm.d_dummyoth.checked==true) {
    SetCookie("OtherClaimantDetailsCOOKIE",
              document.UpdateForm.pmclt003.value + "|" +
              document.UpdateForm.pmclt004.value + "|" +
              document.UpdateForm.pmclt006.value + "|" +
              document.UpdateForm.pmclt007.value + "|" +
              document.UpdateForm.pmclt005.value + "|" +
              document.UpdateForm.pmclt008.value + "|" +
              document.UpdateForm.pmclt009.value + "|" +
              document.UpdateForm.pmclt010.value + "|" +
              document.UpdateForm.pmclt012.value);
//alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.UpdateForm.d_fullpaid != undefined &&
//    document.UpdateForm.d_fullpaid.checked==true) {
//  SetCookie("FullPaidCOOKIE","1");
//}
//T0863727-end

     ItemForm.submit();
    }
}

function DispProc(urnumber,admissno,transnum)
{
    linkURL="patweb71.pbl?reportno=1&template=048" +
            "&urnumber=" + urnumber.replace(/ /g,"+") +
            "&admissno=" + admissno.replace(/ /g,"+") +
            "&transnum=" + transnum.replace(/ /g,"+");

    Left=(document.body.clientWidth-450)/2;
    DFrameLink(linkURL,90,Left,500,280);
}

function DispStoreFrwd(urnumber,admissno,transnum)
{

  if (document.UpdateForm.d_dummyoth != undefined &&
      document.UpdateForm.d_dummyoth.checked==true) {
    SetCookie("OtherClaimantDetailsCOOKIE",
              document.UpdateForm.pmclt003.value + "|" +
              document.UpdateForm.pmclt004.value + "|" +
              document.UpdateForm.pmclt006.value + "|" +
              document.UpdateForm.pmclt007.value + "|" +
              document.UpdateForm.pmclt005.value + "|" +
              document.UpdateForm.pmclt008.value + "|" +
              document.UpdateForm.pmclt009.value + "|" +
              document.UpdateForm.pmclt010.value + "|" +
              document.UpdateForm.pmclt012.value);
//alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.UpdateForm.d_fullpaid != undefined &&
//    document.UpdateForm.d_fullpaid.checked==true) {
//  SetCookie("FullPaidCOOKIE","1");
//}
//T0863727-end

    linkURL="patweb71.pbl?reportno=1&template=029" +
            "&urnumber=" + urnumber.replace(/ /g,"+") +
            "&admissno=" + admissno.replace(/ /g,"+") +
            "&transnum=" + transnum.replace(/ /g,"+");

    Left=(document.body.clientWidth-450)/2;
    DFrameLink(linkURL,90,Left,500,280);
}

function SubmitPrtRC() {

  if (document.getElementById("ptcnpciw").value == "1" &&
      document.UpdateForm.pmclt003 == undefined) {
    alert("Claimant Data must be entered.");
    return;
  }

  SubmitPrt();

}

function SubmitPrt() {
  if(document.UpdateForm.invtotal.value<0) {
      ans= confirm("This invoice will be raised with a credit balance." +
          " \n\n Click OK to continue with raising an invoice or " +
          " Cancel to go back.")
       if (!ans) { return }
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.getElementById('d_fullpaid') != undefined) {
//  if (document.getElementById('d_fullpaid').checked==true) {
//    document.getElementById('fullpaid').value="1";
//  } else {
//    document.getElementById('fullpaid').value="0";
//  }
//}
//T0863727-end

  SetRedirect();
  document.UpdateForm.printbut.disabled=true;
  setTimeout('document.UpdateForm.printbut.disabled=false',6000);

  var inputs = document.getElementsByTagName("input");
  var srvprlength = 0;
  for (var i = 0; i < inputs.length; i++) {
  if(inputs[i].id.indexOf("srvpr") == 0)
    srvprlength++;
  }

  if (srvprlength > 14) {
      alert("Number of services cannot exceed 14.");
      return;
  }

  if (!validateClaimantDOB()) {return;}

  if (document.UpdateForm.ptcnppin.value=="1" &&
      document.UpdateForm.ppayable!=undefined) {

   if (trim(document.UpdateForm.ppayable.value) != ".00") {
      if(!confirm("'OK' to raise Health Fund Invoice with patient portion " +
        "included. \n " +
        "Cancel to Review Patient Only Invoice. "))
        {
        location.href="emrweb04.pbl?reportno=1&template=003" +
           "&urnumber="+document.PatientLinks.urnumber.value.replace(/ /g,"+") +
           "&admissno="+document.PatientLinks.admissno.value.replace(/ /g,"+")
        return;
        }
     }
   }

  SubmitHidden(UpdateForm);
}
function RaiseABF() {
  document.UpdateForm.prabfinv.value="1";
  SubmitPrt();
}

function ABFDetail() {
    LinkURL="emrweb04.pbl?reportno=01&template=002&urnumber=" +
             document.UpdateForm.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.UpdateForm.admissno.value.replace(/ /g,"+")
        Left=(document.body.clientWidth-600)/2;
        DFrameLink(LinkURL,80,Left,600,400);
}

function validateClaimantDOB() {

  var birthday;

  if (document.UpdateForm.pmclt005 != undefined)  {

    birthday = new Date(document.UpdateForm.pmclt005.value);

    var ageDifMs = Date.now() - birthday.getTime();
    var ageDate = new Date(ageDifMs);
    var agenumberofyears = Math.abs(ageDate.getUTCFullYear() - 1970);

//alert(agenumberofyears);

    if (agenumberofyears < 12) {
      alert("Claimant cannot be under 12 years of age.");
      return false;
    }
  }

  return true;
}
function SetRedirect(){
    document.UpdateForm.redirect.value="patweb98.pbl?reportno=01&template=001"
     + "&urnumber=" + document.UpdateForm.urnumber.value
     + "&admissno=" + document.UpdateForm.admissno.value;
}

function SubmitDoct() {

  if (document.UpdateForm.d_dummyoth != undefined &&
      document.UpdateForm.d_dummyoth.checked==true) {
    SetCookie("OtherClaimantDetailsCOOKIE",
              document.UpdateForm.pmclt003.value + "|" +
              document.UpdateForm.pmclt004.value + "|" +
              document.UpdateForm.pmclt006.value + "|" +
              document.UpdateForm.pmclt007.value + "|" +
              document.UpdateForm.pmclt005.value + "|" +
              document.UpdateForm.pmclt008.value + "|" +
              document.UpdateForm.pmclt009.value + "|" +
              document.UpdateForm.pmclt010.value + "|" +
              document.UpdateForm.pmclt012.value);
//alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.UpdateForm.d_fullpaid != undefined &&
//    document.UpdateForm.d_fullpaid.checked==true) {
//  SetCookie("FullPaidCOOKIE","1");
//}
//T0863727-end

 linkurl="emrweb04.pbl?reportno=01&template=001"+
          "&servdoct=" + document.UpdateForm.keyindoc.value.replace(/ /g,"+") +
          "&urnumber=" + UpdateForm.urnumber.value.replace(/ /g,"+") +
          "&admissno=" + UpdateForm.admissno.value.replace(/ /g,"+");
 location.href=linkurl;
}
function checkServices(servicedoctor) {

  if (servicedoctor.value == "ALL") {return;}

  var serverURL = "../cgi-bin/comweb81.pbl?reportno=9&valdcode=" +
                  servicedoctor.value.replace(/ /g,"+");
  var returnValue = RSExecute(serverURL);
  if (returnValue.status!=0) { return; }

  ReturnValue=returnValue.return_value.split("|");

  if (ReturnValue[1] == "M") {
    srvcdoctclDIV.innerHTML="<b><font color='red'>(" + 
                             ReturnValue[0] + ")</font></b>";
  } else {
//    srvcdoctclDIV.innerHTML="(" + ReturnValue[0] + ")";

  }
}
function defaultServiceDoctor() {
  if (UpdateForm.keyindoc!=undefined) {
    if (DefaultServiceDoctorAll == false &&
        UpdateForm.keyindoc.length == 2 &&
        UpdateForm.keyindoc.selectedIndex == 0) {
      if (GetCookieData("ServiceDoctorCOOKIE")!="unknown") {
        ExpireCookiePath("ServiceDoctorCOOKIE");
      } else {
        ExpireCookiePath("ServiceDoctorCOOKIE");
        UpdateForm.keyindoc.selectedIndex = 1;
        SubmitDoct();
      }
    } else if (DefaultServiceDoctorAll == false &&
               UpdateForm.keyindoc.length > 2 &&
               UpdateForm.keyindoc.selectedIndex == 0) {
      if (GetCookieData("ServiceDoctorCOOKIE")!="unknown") {
        ExpireCookiePath("ServiceDoctorCOOKIE");
      } else {
        ExpireCookiePath("ServiceDoctorCOOKIE");
        for (var i=0;i<UpdateForm.keyindoc.length;i++){
          if (UpdateForm.keyindoc[i].value ==
              UpdateForm.emrgdoct.value) {
            UpdateForm.keyindoc.selectedIndex = i;
            SubmitDoct();
          }
        }
      }
    }
  }
  ExpireCookiePath("ServiceDoctorCOOKIE");
}
function ShowEclipse() {
 var showOther=false;
 if(document.getElementById("ptcnuesf").value == "1") {
   showOther=true;
 }
 var showSearch=document.getElementById("ptcnnewc").value;
 if(!showOther) {
   document.getElementById("OtherClaimantTitle").style.display="none";
   document.getElementById("OtherClaimantOption").style.display="none";

//T0863727 - Account paid in full checkbox no longer required
// document.getElementById("FullPaidTitle").style.display="none";
// document.getElementById("FullPaidOption").style.display="none";
//T0863727-end

 }
 if(showSearch==false || showOther==false) {
   document.getElementById("OtherClaimantSearch").style.display="none";
 }

 if (document.getElementById("ptcnuesf").value == "1" &&
     document.getElementById("ptcnpciw").value == "1") {
   document.getElementById("d_dummyoth").checked=true;
   EclipseStoreForward();
 } else {
   document.getElementById("OtherClaimantUPD").style.display="none";
 }
}

function EclipseStoreForward() {
  if(document.getElementById("d_dummyoth").checked==true) {
    document.getElementById("EclipseClaimant").innerHTML=
    document.getElementById("ShowEclipseClaimant").innerHTML;
    SetFields();
    InitPostCodes();
  } else {
    document.getElementById("EclipseClaimant").innerHTML="";
  }
}
function selectContact() {
  if (document.getElementById("d_dummyoth").checked==false) {
    document.getElementById("d_dummyoth").checked=true;
    EclipseStoreForward();
  }
  linkurl="patweb07.pbl?reportno=06&template=009" +
          "&urnumber=" + document.ItemForm.urnumber.value.replace(/ /g,"+");
  Left=(document.body.clientWidth-780)/2;
  DFrameLink(linkurl,50,Left,780,450);
}
function getOCDCookie() {

  var OCDArray = "";

  if (GetCookieData("OtherClaimantDetailsCOOKIE") != "unknown") {
    OCDArray = GetCookieData("OtherClaimantDetailsCOOKIE").split("|");
    ExpireCookiePath("OtherClaimantDetailsCOOKIE");

    document.UpdateForm.d_dummyoth.checked=true;
    EclipseStoreForward();

    document.UpdateForm.pmclt003.value=OCDArray[0];
    document.UpdateForm.pmclt004.value=OCDArray[1];
    document.UpdateForm.pmclt006.value=OCDArray[2];
    document.UpdateForm.pmclt007.value=OCDArray[3];
    document.UpdateForm.pmclt005.value=OCDArray[4];
    document.UpdateForm.pmclt008.value=OCDArray[5];
    document.UpdateForm.pmclt009.value=OCDArray[6];
    document.UpdateForm.pmclt010.value=OCDArray[7];
    document.UpdateForm.pmclt012.value=OCDArray[8];

  }
//alert(OCDArray);

//T0863727 - Account paid in full checkbox no longer required
//if (GetCookieData("FullPaidCOOKIE") != "unknown") {
//  ExpireCookiePath("FullPaidCOOKIE");
//  document.UpdateForm.d_fullpaid.checked=true;
//}
//T0863727-end

}
function validateClaimantMandatory() {
  if (isWhitespace(document.UpdateForm.pmclt008.value) &&
      isWhitespace(document.UpdateForm.pmclt010.value) &&
      isWhitespace(document.UpdateForm.pmclt012.value)) {
    document.UpdateForm.pmclt008.className="";
    document.UpdateForm.pmclt010.className="";
    document.UpdateForm.pmclt012.className="";
  } else {
    document.UpdateForm.pmclt008.className="Mandatory";
    document.UpdateForm.pmclt010.className="Mandatory";
    document.UpdateForm.pmclt012.className="Mandatory";
  }
}
function UsePatientDetails() {
  if (document.getElementById("d_dummyoth").checked==false) {
    document.getElementById("d_dummyoth").checked=true;
    EclipseStoreForward();
  }

  document.UpdateForm.pmclt003.value = trim(document.UpdateForm.patsname.value);
  document.UpdateForm.pmclt004.value = trim(document.UpdateForm.patgname.value);
  document.UpdateForm.pmclt006.value = trim(document.UpdateForm.patmedcn.value);
  document.UpdateForm.pmclt007.value = trim(document.UpdateForm.patmedce.value);
  document.UpdateForm.pmclt005.value = trim(document.UpdateForm.patdtofb.value);

  checkDate(document.UpdateForm.pmclt005,'Claimant Date of Birth');

}
</script>
</head>
<body onload="PageLoad(event);setTimeout('init();',350);ShowEclipse();
              getOCDCookie();defaultServiceDoctor();
              checkServices(document.UpdateForm.keyindoc);">
%START.OF.PAGE
<table cellspacing=0 cellpadding=1 border=0 width=100%>
<tr><td>
<div id=PatientHeading></div>
</td></tr>
</table>
<script type="text/javascript">
PatientURN="%EMRWEB04.01.003";
PatientVIS="%EMRWEB04.01.081";
PatientNAM="%EMRWEB04.01.002";
PatientSTA="%EMRWEB04.01.086.078";
PatientALT="%EMRWEB04.01.084";
PatientSEX="%EMRWEB04.01.019";
PatientDOB="%EMRWEB04.01.020";
PatientAGE="%EMRWEB04.01.021";
PatientLOC="%EMRWEB04.01.083";
PatientPRI="%EMRWEB04.01.086.066.1";
PatientUNT="%EMRWEB04.01.066.0";
DoctorCOD="%EMRWEB04.01.082.003";
DoctorNAM="%EMRWEB04.01.082.002";
PatientAID="%EMRWEB04.01.086.090";
PatientIND="%EMRWEB04.01.086.091";
PatientCUR="%EMRWEB04.01.086.092";
PatientCLC="%EMRWEB04.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%EMRWEB04.01.086.094";
PatientCDM="%EMRWEB04.01.086.095";
PatientVDH="%EMRWEB04.01.086.099.015";

GpCOD="%EMRWEB04.01.086.084.001";
GpNAM="%EMRWEB04.01.086.084.081";
GpPRAC="%EMRWEB04.01.086.085.001";
GpPRACCNT="%EMRWEB04.01.086.085.002";
GpPRACNAM="%EMRWEB04.01.086.085.005";
PatientARR="%EMRWEB04.01.201.0 %EMRWEB04.01.202";
PatientSEE="%EMRWEB04.01.299.008";
PatientTRI="%EMRWEB04.01.203.3";
PatientECLC="%EMRWEB04.01.115.1";
PatientEHFT="%EMRWEB04.01.116";

InsertEmergencyHeader()
</script>
<div id="PatientMenu"></div>
<div id="PageBodySection">

<table cellspacing=0 cellpadding=1 border=0 width=100%>
  <tr><td align=center class=HeadingCell>
    Emergency Invoice</td>
      <td align=center class=HeadingCell align=right>
          %EMRWEB04.01.107</td>
    </tr>
</table>

<form name=UpdateForm action="emrweb04.pbl" method=post style="margin:0"
 onsubmit="return validateMandatory(this);">
    <input type=hidden name=reportno value=2>
    <input type=hidden name=template value=002>
    <input type=hidden name=prntflag value="%EMRWEB04.01.106">
    <input type=hidden name=pabfflag value="%EMRWEB04.01.122">
    <input type="hidden" name="redirect">
    <input type=hidden name=urnumber value="%EMRWEB04.01.003">
    <input type=hidden name=admissno value="%EMRWEB04.01.081">
    <input type=hidden name=emrgdoct value="%EMRWEB04.01.108">
    <input type=hidden name=grpbydoc value="%EMRWEB04.01.109">
    <input type=hidden name=servdoct value="%EMRWEB04.01.112">
    <input type=hidden name=defsdoct value="%EMRWEB04.01.110">
    <input type=hidden name=invtotal value="%EMRWEB04.01.113">
    <input type="hidden" name="fullpaid" value="">
    <input type="hidden" name=ptcnnewc id=ptcnnewc
     value="%STANDARD.01.025.118.138.0.1">
    <input type=hidden name="ptcnuesf" id="ptcnuesf"
     value="%STANDARD.01.025.124.222.0.1">
    <input type="hidden" name=dummy id=dummy value=" ">
    <input type="hidden" name=racluesf id=racluesf value="0">
  <input type=hidden name=ptcnuabf id=ptcnuabf
   value="%STANDARD.01.025.128.105.0.1">
  <input type="hidden" name=abfindic id=abfindic value="%EMRWEB04.01.374.3">
  <input type="hidden" name=prabfinv value="%EMRWEB04.01.121">
  <input type=hidden name=ptcnppin id=ptcnppin
   value="%STANDARD.01.025.129.089.0.1">
<input type="hidden" name=patsname value="%EMRWEB04.01.009">
<input type="hidden" name=patgname value="%EMRWEB04.01.010">
<input type="hidden" name=patmedcn value="%EMRWEB04.01.027">
<input type="hidden" name=patmedce value="%EMRWEB04.01.085.049">
<input type="hidden" name=patdtofb value="%EMRWEB04.01.020">
<input type=hidden name="ptcnpciw" id="ptcnpciw"
     value="%STANDARD.01.025.129.091.0.1">
<input type=hidden name=inviactv id=inviactv value="%EMRWEB04.01.125">

<table border=0 cellpadding=2 cellspacing=0 width=95% align=center>
<tr><td align=right>%STANDARD.01.035.CL     &nbsp;&nbsp;</td>
    <td width=10% class=DataField>%EMRWEB04.01.208.0</td>
    <td width=10% align=right><div id=ServDocHeading></div></td>
    <td width=15%><div id=ServDocOption></div></td>
    <td width=10%>
      <div id=srvcdoctclDIV></div>
    </td>
</tr>
</table>

<table border=1 cellspacing=0 cellpadding=2 width=99%>
%EMRWEB04.01.104
</table>

<table border=0 cellpadding=2 cellspacing=0 width=95% align=center>
<tr><td class=DataLabel width=20%>Printer</td> 
    <td><select name=selprint class=Mandatory tabindex=1> 
        %STANDARD.01.001.EMRWEB04.02
        </select></td>
    <td class=DataLabel>Copies</td>
    <td><select name=nocopies>
        <option value=" 1">1</option>
        <option value=" 2">2</option>
        <option value=" 3">3</option>
        <option value=" 4">4</option>
        <option value=" 5">5</option>
        <option value=" 6">6</option>
        <option value=" 7">7</option>
        <option value=" 8">8</option>
        <option value=" 9">9</option>
        <option value=" 10">10</option>
        </select></td></tr>

<tr><td class=DataLabel>
    <span id="OtherClaimantTitle">
    Other Claimant Details
    </span>
    </td>
    <td class=DataField>
    <span id="OtherClaimantOption">
    <input type=checkbox name=d_dummyoth value="1" id="d_dummyoth"
     onclick="EclipseStoreForward();" tabindex=2>
    </span>
    <span id="OtherClaimantSearch">
    <input type=button class=button name=othrbutton
     value="Search" onclick="selectContact();">
    </span>
    <span id="OtherClaimantUPD">
    <input type=button class=largebutton name=updbutton
     value="Use Patient Details" onclick="UsePatientDetails();">
    </span>
    </td>
    <td class=DataLabel></td>
    <td class=DataField></td>
    </tr>

<!-- T0863727 - Account paid in full checkbox no longer required
<tr><td class=DataLabel>
    <span id="FullPaidTitle">
    Account Paid in Full
    </span>
    </td>
    <td class=DataField>
    <span id="FullPaidOption">
    <input type=checkbox name=d_fullpaid value="1" id="d_fullpaid"
     tabindex=3>
    </span>
    </td>
    <td class=DataLabel></td>
    <td class=DataField></td>
    </tr> -->

<tr><td colspan=4 align=center><div id="EclipseClaimant"></div></td></tr>

<tr><td align=center colspan=4>
    <input type=button value="Raise" class="button" name=printbut
     id=printbut
     onclick="tempDisable(this);SubmitPrt()";>
    <div id="RaiseClaimPCSDIV" style="display: inline"></div>
    <div id="ABFMTXDIV" style="display: inline"></div>
    <input type=button value="Add Items" class="button" onclick="AddItem();">
    <input type=button value="Add Procedure" class="button" onclick="AddProc();" 
     disabled name=AddBtton>
    <input type=button class="button" name=comntbut value="Comments"
     onclick=Comments()>
  </td></tr>

</table>
</form>
</div>
<form name="PatientLinks" method="get">
<input type="hidden" name="reportno" value="1">
<input type="hidden" name="template" value="004">
<input type="hidden" name="urnumber" value="%EMRWEB04.01.003">
<input type="hidden" name="admissno" value="%EMRWEB04.01.081">
<input type="hidden" name="MenuType" value="%EMRWEB04.01.088">
</form>

<form name="ItemForm" method=post action="patweb71.pbl">
<input type="hidden" name="reportno" value="1">
<input type="hidden" name="template" value="001">
<input type="hidden" name="urnumber" value="%EMRWEB04.01.003">
<input type="hidden" name="admissno" value="%EMRWEB04.01.081">
<input type="hidden" name="updttype" value="D">
<input type="hidden" name="transnum" value="%EMRWEB04.01.105">
<input type="hidden" name="redirect" value="%EMRWEB04.01.001.emrweb04.01.001">
<input type="hidden" name="nextpage" value="1">
    <input type=hidden name=servdoct value="%EMRWEB04.01.112">
    <input type=hidden name=defsdoct value="%EMRWEB04.01.110">
<input type="hidden" name=ecliuesf value="%EMRWEB04.01.119">
</form>




<span id=ServDocHd style="display:none">
    <td align=left class=HeadingCell>Service Doctor</td>
</span>

<span id=ServDoct style="display:none">
  <tr><td><select name=keyindoc title="Service Doctor"
         onchange="SetCookie('ServiceDoctorCOOKIE','1');SubmitDoct();">
         %EMRWEB04.01.111
         </select></td>
  </tr>
</span>

<span id=ServDocBlank style="display:none">
   <input type=hidden name=servdoct value="%EMRWEB04.01.112">
</span>

<span id="ShowEclipseClaimant" style="display:none">
<table cellspacing=0 cellpadding=1 border=0 width=70%>
<tr><td class="DataLabel">Claimant Family Name</td>
    <td class="DataField">
    <input type=hidden name=pmclt001 value="1">
    <input type=text size=42 name=pmclt003 class="Mandatory" tabindex=4
     title="Claimant Family Name" maxlength=40 onchange="UpCase(this);">
    </td>
    <td class="DataLabel">Claimant Address Line 1</td>
    <td class="DataField">
    <input type=text size=37 name=pmclt008 tabindex=8
     onblur="this.value=this.value.toUpperCase();
             validateClaimantMandatory();"
     title="Claimant Address Line 1" maxlength=35>
    </td></tr>

<tr><td class="DataLabel">Claimant First Name</td>
    <td class="DataField">
    <input type=text size=42 name=pmclt004 class="Mandatory" tabindex=5
     title="Claimant First Name" maxlength=40 onchange="UpCase(this);">
    </td>
    <td class="DataLabel">Claimant Address Line 2</td>
    <td class="DataField">
    <input type=text size=37 name=pmclt009 tabindex=9
     onblur="this.value=this.value.toUpperCase();"
     title="Claimant Address Line 2" maxlength=35>
    </td></tr>

<tr><td class="DataLabel">Claimant Medicare Number</td>
    <td class="DataField">
    <input type=text size=12 maxlength=10 name=pmclt006 id=pmclt006
     title="Claimant Medicare Number" class="Mandatory" tabindex=6
     onblur="checkMedicare(UpdateForm.pmclt006,UpdateForm.pmclt007);">
    <input type=text size=3 maxlength=2 name=pmclt007 id=pmclt007
     title="Claimant Medicare IRN" class="Mandatory" tabindex=6
     onblur="checkIRN(UpdateForm.pmclt007);">
    </td>
    <td class="DataLabel">Claimant Suburb</td>
    <td class="DataField">
    <input type=text size=37 name=pmclt010 tabindex=10
     onchange="validateClaimantMandatory();
               LookupPostCode(UpdateForm.pmclt010.value);"
     title="Claimant Suburb" maxlength=35>
    </td></tr>

<tr><td class="DataLabel">Claimant Date of Birth</td>
    <td class="DataField">
    <input type=text size=12 name=pmclt005 title="Claimant Date of Birth"
     class="Mandatory PastDate" tabindex=7 
     onblur="checkDate(this,'Claimant Date of Birth');">
    <img notab src=../images/DateLookup.gif class="Icon"
     align=absmiddle onclick="DateLookupFrame(UpdateForm.pmclt005);">
    <img notab src=../images/DateTimeStamp.gif class="Icon"
     align=absmiddle onclick="SetCurrentDateTime(UpdateForm.pmclt005,null);">
    </td>
    <td class="DataLabel">Claimant Post Code</td>
    <td class="DataField">
    <input type=text size=5 name=pmclt012 tabindex=11
     onchange="validateClaimantMandatory(); 
             LookupSuburb(pmclt012.value)"
     title="Claimant Post Code" maxlength=4>
    </td></tr>

<tr><td class="DataLabel">&nbsp;</td>
    <td class="DataField">&nbsp;</td>
    <td class="DataLabel">&nbsp;</td>
    <td class="DataField">&nbsp;</td>
    </tr>
</table>
</span>

<span id=RaiseClaimPCSSPAN style="display:none">
    <input type=button value="Raise and Claim" class="button" name=printinvpcs
     id="raiseandcbutton" onclick='tempDisable(this);
                               document.UpdateForm.racluesf.value="1";
                               SubmitPrtRC();'>
</span>

<span id=ABFSPAN style="display:none">
    <input type="button" value="Raise ABF" name="printabf" class="button"
                  id="printabf"
                  onclick="tempDisable(this);RaiseABF();" />
    <input type="button" value="ABF Details" name="abfbutton" class="button"
                  onclick="ABFDetail();" />
</span>

<span id=NONABFSPAN style="display:none">
</span>

<script type="text/javascript">

  if ("%EMRWEB04.01.118"=="1") {
     document.getElementById('d_dummyoth').checked=true;
     EclipseStoreForward();
    }
  else {
     document.getElementById('d_dummyoth').checked=false;
  }


function AddProc() {

  if (document.UpdateForm.d_dummyoth != undefined &&
      document.UpdateForm.d_dummyoth.checked==true) {
    SetCookie("OtherClaimantDetailsCOOKIE",
              document.UpdateForm.pmclt003.value + "|" +
              document.UpdateForm.pmclt004.value + "|" +
              document.UpdateForm.pmclt006.value + "|" +
              document.UpdateForm.pmclt007.value + "|" +
              document.UpdateForm.pmclt005.value + "|" +
              document.UpdateForm.pmclt008.value + "|" +
              document.UpdateForm.pmclt009.value + "|" +
              document.UpdateForm.pmclt010.value + "|" +
              document.UpdateForm.pmclt012.value);
//alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.UpdateForm.d_fullpaid != undefined &&
//    document.UpdateForm.d_fullpaid.checked==true) {
//  SetCookie("FullPaidCOOKIE","1");
//}
//T0863727-end

    Urnumber=UpdateForm.urnumber.value.replace(/ /g,"+");
    Admissno=UpdateForm.admissno.value.replace(/ /g,"+");

    if (UpdateForm.grpbydoc.value==1) {
     Servdoct=UpdateForm.servdoct.value.replace(/ /g,"+");
     Left=(document.body.clientWidth-770)/2
     LinkURL="patweb75.pbl?reportno=01&template=006&urnumber=" + Urnumber +
             "&admissno=" + Admissno +
             "&servdoct=" + Servdoct
    } else {
     Left=(document.body.clientWidth-770)/2
     LinkURL="patweb75.pbl?reportno=01&template=006&urnumber=" + Urnumber +
             "&admissno=" + Admissno
    }
    DFrameLink(LinkURL,50,Left,770,500);

 }

function AddItem() {

  if (document.UpdateForm.d_dummyoth != undefined &&
      document.UpdateForm.d_dummyoth.checked==true) {
    SetCookie("OtherClaimantDetailsCOOKIE",
              document.UpdateForm.pmclt003.value + "|" +
              document.UpdateForm.pmclt004.value + "|" +
              document.UpdateForm.pmclt006.value + "|" +
              document.UpdateForm.pmclt007.value + "|" +
              document.UpdateForm.pmclt005.value + "|" +
              document.UpdateForm.pmclt008.value + "|" +
              document.UpdateForm.pmclt009.value + "|" +
              document.UpdateForm.pmclt010.value + "|" +
              document.UpdateForm.pmclt012.value);
//alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.UpdateForm.d_fullpaid != undefined &&
//    document.UpdateForm.d_fullpaid.checked==true) {
//  SetCookie("FullPaidCOOKIE","1");
//}
//T0863727-end

    Urnumber=UpdateForm.urnumber.value.replace(/ /g,"+");
    Admissno=UpdateForm.admissno.value.replace(/ /g,"+");
    Left=(document.body.clientWidth-770)/2
    LinkURL="patweb75.pbl?reportno=01&template=001&urnumber=" + Urnumber +
            "&admissno=" + Admissno
    DFrameLink(LinkURL,50,Left,940,400);
 }

CmntIndic="%EMRWEB04.01.114";
if ( CmntIndic =="1" ) {
   document.UpdateForm.comntbut.className="RedButton";
}

function Comments() {

  if (document.UpdateForm.d_dummyoth != undefined &&
      document.UpdateForm.d_dummyoth.checked==true) {
    SetCookie("OtherClaimantDetailsCOOKIE",
              document.UpdateForm.pmclt003.value + "|" +
              document.UpdateForm.pmclt004.value + "|" +
              document.UpdateForm.pmclt006.value + "|" +
              document.UpdateForm.pmclt007.value + "|" +
              document.UpdateForm.pmclt005.value + "|" +
              document.UpdateForm.pmclt008.value + "|" +
              document.UpdateForm.pmclt009.value + "|" +
              document.UpdateForm.pmclt010.value + "|" +
              document.UpdateForm.pmclt012.value);
//alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }

//T0863727 - Account paid in full checkbox no longer required
//if (document.UpdateForm.d_fullpaid != undefined &&
//    document.UpdateForm.d_fullpaid.checked==true) {
//  SetCookie("FullPaidCOOKIE","1");
//}
//T0863727-end

  LinkURL="cliweb06.pbl?reportno=12&template=007&urnumber=" +
           document.UpdateForm.urnumber.value.replace(/ /g,"+") +
          "&admissno=" +
           document.UpdateForm.admissno.value.replace(/ /g,"+") +
          "&notetype=003"
  Left=(document.body.clientWidth-880)/2
  DFrameLink(LinkURL,50,Left,880,300);
}

if (document.ItemForm.ecliuesf.value==1) {
  RaiseClaimPCSDIV.innerHTML=RaiseClaimPCSSPAN.innerHTML;
  if (UpdateForm.prntflag.value==1) {
    UpdateForm.printinvpcs.disabled=true;
  }
}

if((document.getElementById('ptcnuabf').value == "1") &&
   (document.getElementById('abfindic').value.substr(4,1) == "A")) {
       ABFMTXDIV.innerHTML=ABFSPAN.innerHTML;
       if (UpdateForm.pabfflag.value==1) {
         UpdateForm.printabf.disabled=true;
       }
   } else {
       ABFMTXDIV.innerHTML=NONABFSPAN.innerHTML;
   }

if (document.UpdateForm.inviactv.value == "1") {
  document.UpdateForm.printbut.disabled = true;
}

</script>

