<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="private">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/mrtweb02.js"></script>
<script type="text/javascript">
function init() {   // called by PageLoad() function.
  DisWeightAss();
  SetICUPrivate();
  Cpap(document.AddForm);
  DisAutopsy();
  DisExtraMV();
  SetFocus();
  showBabyFields(AddForm);

  da = document.AddForm;

  if (document.getElementById('ptcnhdps').value == "3") {  // VIC
   da.hrsicu15.className=da.hrsicu03.className;
   da.hrsicu15.readOnly=da.hrsicu03.readOnly;
  }

  if (document.getElementById('ptcnhdps').value == "4") {  // QLD
   da.hrsicu14.className=da.hrsicu01.className;
   da.hrsicu14.readOnly=da.hrsicu01.readOnly;
   da.hrsicu03.maxLength=5;
  }
}
function SubmitAssPrivate() {
  if(document.AddForm.hrsicu04!=undefined) {
    if((document.AddForm.psageday.value <= document.AddForm.ptcnbage.value) &&
       (document.AddForm.hrsicu04.value) > 9999 ) {
      alert("Warning: Patient <= " + document.AddForm.ptcnbage.value +
            " days and Admission weight >  9999g");
    }
  }

  if (!ValidateAss(AddForm)) { return; }

  if(document.AddForm.d_ptmas031!=undefined) {
    if(document.AddForm.d_ptmas031.checked==true) {
       document.AddForm.ptmas031.value="1";
    } else {
       document.AddForm.ptmas031.value="0";
    }
  }
  SubmitForm();

}
function SetFocus() {
  icu=document.AddForm.usingicu.value;
  icubed=document.AddForm.icubedtp.value;
  ccubed=document.AddForm.ccubedtp.value;
  usngcpap=document.AddForm.usngcpap.value;

  if (icu=="1") {   // Doing check for ICU Bed Type
    if (icubed=="1") {  // Is there an ICU Bed Type
        document.AddForm.hrsicu01.focus();
        return;
    }
    if (ccubed=="1") {  // Is there an CCU Bed Type
        document.AddForm.hrsicu02.focus();
        return;
    }
    if (usngcpap=="1") {  // Is flag set ? if so then patient is under 10 days
        document.AddForm.hrsicu10.focus();
    } else {
        document.AddForm.hrsicu08.focus();
    }
  }
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);CheckUnplanned();">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">document.write("Associated Coding");</script>
</span>

<form name=AddForm action=mrtweb02.pbl method=post style="margin:0"
 autocomplete="off">
<input type=hidden name=reportno value=01>
<input type=hidden name=template value=002>
<input type=hidden name=urnumber value="%MRTWEB02.01.003">
<input type=hidden name=admissno value="%MRTWEB02.01.081">
<input type=hidden name=epscd001 value="%MRTWEB02.01.413">
<input type=hidden name=updttype value="A">
<input type=hidden name=nextpage value="0">
<input type=hidden name=wghtindc value="%MRTWEB02.01.410"> 
<input type=hidden name=usingicu value="%MRTWEB02.01.309">
<input type=hidden name=icubedtp value="%MRTWEB02.01.310.0">
<input type=hidden name=ccubedtp value="%MRTWEB02.01.310.2">
<input type=hidden name=losofsty value="%MRTWEB02.01.431">
<input type=hidden name=stateflg value="%MRTWEB02.01.422">
<input type=hidden name=usngcpap value="%MRTWEB02.01.430">
<input type=hidden name=deceased value="%MRTWEB02.01.033">
<input type=hidden name=tickauto value="%MRTWEB02.01.035">
<input type=hidden name=ptmas031 value="">
<input type=hidden name=ptcnmvhc value="%STANDARD.01.025.124.120.0.1">
<input type=hidden name=mvrecord value="%MRTWEB02.01.322">
<input type=hidden name=ptcnbage value="%STANDARD.01.025.021.046.1.3">
<input type=hidden name=psageday value="%MRTWEB02.01.323">
<input type=hidden name=ckweight value="1">
<input type=hidden name=unplread value="%MRTWEB02.01.457">
<input type=hidden name=ptmis012 value="%MRTWEB02.01.113.3">
<input type=hidden name=d_ptmis036 value="%MRTWEB02.01.199.022">
<input type=hidden name=amhevent value="%MRTWEB02.01.329">
<input type=hidden name=ptcnuabf id=ptcnuabf 
 value="%STANDARD.01.025.128.105.0.1">
<input type=hidden name=ptcnhdps id="ptcnhdps" 
value="%STANDARD.01.025.080.250.1.1">

<table cellspacing=0 cellpadding=1 border=0 width=95% align=center>
<tr>
  <td class=DataLabel>Coding Date </td>
  <td>
    <input type="text" name=dummy001 size="12" readonly class=ReadOnly
     value="%MRTWEB02.01.414.0">
    Time
    <input type="text" name=dummy002 size="8" readonly class=ReadOnly
     value="%MRTWEB02.01.414.1">
  </td>
</tr>

<tr>
  <td class=DataLabel>Hours of Intensive Care</td>
  <td>
    <input type=text size=5 maxlength=5 name=hrsicu01 id=hrsicu01
     title="Hours of Intensive Care" value="%MRTWEB02.01.301">
    <script type="text/javascript">

    if (document.getElementById('ptcnhdps').value == "4"){
      document.write("minutes <input type=text size=4 maxlength=2 name=hrsicu14 id=hrsicu14 "+
      " title='Minutes of Intensive Care' class='Integer' min=0 max=59 value='%MRTWEB02.01.318'>");
      }
    </script>
  </td>
</tr>

<tr>
  <td class=DataLabel>Hours of Critical Care</td>
  <td>
    <input type=text size=5 maxlength=5 name=hrsicu02 id=hrsicu02
     title="Hours of Critical Care" value="%MRTWEB02.01.302">
  </td>
</tr>

<tr>
  <td class=DataLabel><span id=NurseryLabel></span></td>
  <td class=DataField><span id=NurseryField></span></td>
</tr>

<tr>
  <td class=DataLabel>Hours of Mechanical Ventilation </td>
  <td><input type=text size=5 maxlength=5 name=hrsicu03 id=hrsicu03
       title="Hours of Mechanical Ventilation" value="%MRTWEB02.01.303">

  <script type="text/javascript">
    if (document.getElementById('ptcnhdps').value == "3" ||
        document.getElementById('ptcnhdps').value == "4") {
      document.write("&nbsp;minutes&nbsp;" +
      "<input type=text size=2 maxlength=2 name=hrsicu15 id=hrsicu15 " +
      " class=Integer min=0 max=59 title='Minutes of Mechanical Ventilation'" +
      " value='%MRTWEB02.01.319'>");
    }
  </script>
  </td>
</tr>

<tr><td class=DataLabel>Hours of Non Invasive Ventilation</td>
    <td><input type=text size=5 maxlength=5 name=hrsicu10 id=hrsicu10
         title="Hours of Hours of Non Invasive Ventilation"
         value="%MRTWEB02.01.313">
    </td></tr>

<tr><td class=DataLabel><span id=CatKOLabel></span></td>
    <td class=DataField><span id=CatKOField></span></td></tr>

<tr><td class=DataLabel><span id=CatKBLabel></span></td>
    <td class=DataField><span id=CatKBField></span></td></tr>

<tr><td class=DataLabel><span id=CatVRLabel></span></td>
    <td class=DataField><span id=CatVRField></span></td></tr>

<tr><td class=DataLabel><span id=CatYELabel></span></td>
    <td class=DataField><span id=CatYEField></span></td></tr>

<tr><td class=DataLabel><span id=AmbulLabel></span></td>
    <td class=DataField><span id=AmbulField></span></td></tr>

<tr><td class=DataLabel><span id=AutopsyLabel></span></td>
    <td><span id=AutopsyField></span></td></tr>

<tr><td class=DataLabel><span id=WeightLabel></span></td>
    <td><span id=WeightField></span></td></tr>

<tr><td class=DataLabel><span id=CatPOLabel></span></td>
    <td><span id=CatPOField></span></td></tr>

<tr><td class=DataLabel><span id=babylabel1></span></td>
    <td><span id=babyfield1></span></td></tr>

<tr><td class=DataLabel><span id=babylabel2></span></td>
    <td><span id=babyfield2></span></td></tr>

<tr><td class=DataLabel><span id=babylabel3></span></td>
    <td><span id=babyfield3></span></td></tr>

<tr><td class=DataLabel><span id=charlsonlabel></span></td>
    <td><span id=charlsonfield></span></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.CP</td>
    <td><select name=ptecd008 id=ptecd008 class=SelectMed
         title="%STANDARD.01.017.CP">
        <option></option>
         %MRTWEB02.01.306.2
        </select>
    </td>
</tr>

<tr><td colspan=2 align=center><br>
    <input type=button class="button" value="Ok" id="okbutton"
     onclick="tempDisable(this);SubmitAssPrivate();">
    <input type=button class="button" value="Close"
     onclick='DFrameCloseRefresh();'>
    <input type=button class="button" value="AMHCC"
     onclick='AMHCCOption();'>
    <span id=ExtraMVField></span>
    </td></tr>
</table>
</form>

<span id=ExtraMVdisplay style="display:none">
    <input type=button class="button" value="Extra MV"
     name=mvbutton id =mvbutton
     onclick='ExtraMVOption("%MRTWEB02.01.003","%MRTWEB02.01.081");'>
</span>

<span id=weightdisplay style="display:none">
<input type=text size=5 maxlength=6 name=hrsicu04 id=hrsicu04
title="Admission Weight" class="JustifyLeft Integer Mandatory"
value="%MRTWEB02.01.412"> grams
</span>

<span id=Autopsydisplay style="display:none">
<input type=checkbox name=d_ptmas031 id=d_ptmas031 value=1 title="Autopsy">
</span>

<span id="NurseryDesc" style="display:none">Hours of Special Care Nursery</span>

<span id="NurseryCode" style="display:none">
    <input type=text size=4 maxlength=4 name=hrsicu07 id=hrsicu07
     title="Hours of Special Care Nursery"
     value="%MRTWEB02.01.308">
</span>

<span id="CatKODesc" style="display:none">%STANDARD.01.017.KO</span>

<span id="CatKOCode" style="display:none">
    <select title="%STANDARD.01.017.KO" name=hrsicu08 id=hrsicu08
         class="SelectBig">
        <option></option>
        %MRTWEB02.01.311.2
        </select>
</span>

<span id="CatKBDesc" style="display:none">%STANDARD.01.017.KB</span>

<span id="CatKBCode" style="display:none">
    <select title="%STANDARD.01.017.KB" name=hrsicu09 id=hrsicu09
         class="SelectBig">
        <option></option>
        %MRTWEB02.01.312.2
        </select>
</span>


<span id="CatVRDesc" style="display:none">%STANDARD.01.017.VR</span>

<span id="CatVRCode" style="display:none">
    <select title="%STANDARD.01.017.VR" name=hrsicu06 id=hrsicu06
         class="SelectBig">
        <option></option>
        %MRTWEB02.01.304.2
        </select>
</span>

<span id="CatYEDesc" style="display:none">%STANDARD.01.017.YE</span>

<span id="CatYECode" style="display:none">
    <select title="%STANDARD.01.017.YE" name=hrsicu17 id=hrsicu17
         class="SelectBig">
        <option></option>
        %MRTWEB02.01.324.2
        </select>
</span>

<span id="AmbulDesc" style="display:none">Ambulance Client Number</span>

<span id="AmbulCode" style="display:none">
    <input type=text size=12 maxlength=15 name=hrsicu11 id=hrsicu11
         title="Ambulance Client Number"
         value="%MRTWEB02.01.314">
</span>

<span id="CatPODesc" style="display:none">%STANDARD.01.017.PO</span>

<span id="CatPOCode" style="display:none">
    <select title="%STANDARD.01.017.PO" name=ptmis029 id=ptmis029
         class="SelectBig">
        <option></option>
        %MRTWEB02.01.128.2
        </select>
</span>

<span id="showbabylabel1" style="display:none">
No. of Babies Born With This Pregnancy
</span>

<span id="showbabyfield1" style="display:none">
  <select name=ptmis036 id=ptmis036
   title="No. of Babies Born With This Pregnancy">
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
  <option value="8">8</option>
  <option value="9">9</option>
  </select>
</span>

<span id="showbabylabel2" style="display:none">
Birth Order
</span>

<span id="showbabyfield2" style="display:none">
  <select name=ptmis042 id=ptmis042 title="%STANDARD.01.035.U6"
   class="SelectBig">
  <option value=" "></option>
  %MRTWEB02.01.138.2
  </select>
</span>

<span id="showbabylabel3" style="display:none">
Birth Weight
</span>

<span id="showbabyfield3" style="display:none">
  <input type=text name=ptmis051 id=ptmis051 size=8 maxlength=6
   value="%MRTWEB02.01.186" title="Birth Weight"
   class="Number" min=0 onchange=justifyRight(this);>&nbsp;grams
</span>

<span id="showcharlsonlabel" style="display:none">
Charlson Score
</span>

<span id="showcharlsonfield" style="display:none">
  <input type="text" value="%MRTWEB02.01.328" title="Charlson Score"
   class="Number" min=0 max=16 size=20 maxlength=15
   onblur='setFourNumberDecimal(this);' name="hrsicu18" id="hrsicu18">
</span>

<script type="text/javascript">

function setFourNumberDecimal(decimalfield) {
    if (isWhitespace(decimalfield.value)) {return;}

    if (!checkNumber(decimalfield)) {return;}

    decimalfield.value = parseFloat(decimalfield.value).toFixed(0);
}

 if(document.getElementById('ptcnhdps').value != "4") {
      document.getElementById("CatPOLabel").innerHTML="";
      document.getElementById("CatPOField").innerHTML="";
 } else {
      document.getElementById("CatPOLabel").innerHTML=CatPODesc.innerHTML;
      document.getElementById("CatPOField").innerHTML=CatPOCode.innerHTML;
 }
 if(isWhitespace(document.getElementById("CatKODesc").innerHTML)) {
      document.getElementById("CatKOLabel").innerHTML="";
      document.getElementById("CatKOField").innerHTML="";
 } else {
      document.getElementById("CatKOLabel").innerHTML=CatKODesc.innerHTML;
      document.getElementById("CatKOField").innerHTML=CatKOCode.innerHTML;
 }

 if(isWhitespace(document.getElementById("CatKBDesc").innerHTML)) {
      document.getElementById("CatKBLabel").innerHTML="";
      document.getElementById("CatKBField").innerHTML="";
 } else {
      document.getElementById("CatKBLabel").innerHTML=CatKBDesc.innerHTML;
      document.getElementById("CatKBField").innerHTML=CatKBCode.innerHTML;
 }

 if (document.getElementById('ptcnhdps').value == "2" ||
     document.getElementById('ptcnhdps').value == "9") {

      document.getElementById("NurseryLabel").innerHTML=NurseryDesc.innerHTML;
      document.getElementById("NurseryField").innerHTML=NurseryCode.innerHTML;

    if(isWhitespace(document.getElementById("CatVRDesc").innerHTML)) {
      document.getElementById("CatVRLabel").innerHTML="";
      document.getElementById("CatVRField").innerHTML="";
    } else {
      document.getElementById("CatVRLabel").innerHTML=CatVRDesc.innerHTML;
      document.getElementById("CatVRField").innerHTML=CatVRCode.innerHTML;
    }

    if(isWhitespace(document.getElementById("CatYEDesc").innerHTML)) {
      document.getElementById("CatYELabel").innerHTML="";
      document.getElementById("CatYEField").innerHTML="";
    } else {
      document.getElementById("CatYELabel").innerHTML=CatYEDesc.innerHTML;
      document.getElementById("CatYEField").innerHTML=CatYECode.innerHTML;
    }

    document.getElementById("AmbulLabel").innerHTML=AmbulDesc.innerHTML;
    document.getElementById("AmbulField").innerHTML=AmbulCode.innerHTML;

 } else {

    if(document.getElementById('ptcnhdps').value == "5" ||
       document.getElementById('ptcnhdps').value == "8" ||
       document.getElementById('ptcnhdps').value == "6") {

      document.getElementById("NurseryLabel").innerHTML=NurseryDesc.innerHTML;
      document.getElementById("NurseryField").innerHTML=NurseryCode.innerHTML;

      document.getElementById("CatVRLabel").innerHTML="";
      document.getElementById("CatVRField").innerHTML="";
      document.getElementById("CatYELabel").innerHTML="";
      document.getElementById("CatYEField").innerHTML="";

      document.getElementById("AmbulLabel").innerHTML="";
      document.getElementById("AmbulField").innerHTML="";

   } else {

      document.getElementById("NurseryLabel").innerHTML="";
      document.getElementById("NurseryField").innerHTML="";
   }
 }

 if(document.getElementById('ptcnuabf').value == "1") {
   document.getElementById("charlsonlabel").innerHTML=
   document.getElementById("showcharlsonlabel").innerHTML;
   document.getElementById("charlsonfield").innerHTML=
   document.getElementById("showcharlsonfield").innerHTML;
 }

function CheckUnplanned(){
  if(typeof NotUsingUnplannedReadmission != 'undefined'){
     if(NotUsingUnplannedReadmission=="1"){
        return;  //Don't care about entering value
     }
  }
  if(document.AddForm.unplread.value=="1"){
     document.getElementById("hrsicu08").className="SelectBig Mandatory";
  }
}
</script>

