<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="private">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/mrtweb02.js"></script>
<script type="text/javascript" src="../js/mrtweb0203.js"></script>
<script type="text/javascript">
%START.OF.PAGE
function init() {
  f = document.UpdateForm;
  ChkHoldInv();
  DisWeight();
  SetDestination();
  var grouper=document.UpdateForm.groupert.value;
  if (grouper=="1") {
    document.UpdateForm.grpbut.value="Export CME";  // Use PC Grouper
    }
  else {
    document.UpdateForm.grpbut.value="DRG Grouper";  // Use Unix Grouper
    }
  DisCareType();
  if(typeof(CodingDischargeStatus) != "undefined") {
    if(CodingDischargeStatus == true) {
      document.UpdateForm.ptecd008.className="SelectMed Mandatory";
    }
  }
  if (document.getElementById('ptcnoenc').value == "2" ) {
    WebInterface();
    if(GetCookieData("mrtweb02cf")=="1") {
      ExpireCookiePath("mrtweb02cf");
      EncInputFileExists(btnInitInstance);
    }
  }
  if((document.getElementById('ptcnuabf').value == "1") &&
     (document.getElementById('abfindic').value.substr(4,1) == "A")) {
          ABFMTXDIV.innerHTML=ABFSPAN.innerHTML;
  } else {

  if((document.getElementById('ptcnuabf').value == "1") &&
     (document.getElementById('abfindic').value.substr(4,1) == "N") &&
     (document.getElementById('cclsindc').value.substr(33,1) != "X")) {
          ABFMTXDIV.innerHTML=NWAUSPAN.innerHTML;
   } else {
          ABFMTXDIV.innerHTML=NONABFSPAN.innerHTML;
   }

  }
  if(document.getElementById('d_mrcnlink').value == "0") {
    document.getElementById('linkMRVisit').style.display = "";
  }
  if (f.mrcneaca.value=="1" || f.mrcneaca.value=="2") {
    document.getElementById('MissHdr').style.display = "";
    document.getElementById('MissDet').style.display = "";
  } else {
    document.getElementById('MissHdr').style.display = "none";
    document.getElementById('MissDet').style.display = "none";
  }
  if (grouper!="1") {                                // Use Unix Grouper
    if(document.UpdateForm.runautog.value=="1" &&
       document.UpdateForm.mrcnautg.value=="1") {
       document.UpdateForm.runautog.value="0";
      ShowWaitScreen();
      setTimeout('HideWaitScreen();',10000);         // 10 seconds
      tempDisable(document.UpdateForm.grpbut);
      Grouper();                                     // Call Unix grouper
    }
  }
  document.UpdateForm.runautog.value="0";

  // set value of Ok/Finalise button
  document.getElementById("codingdt").value = MRCodingOkButtonName;

  // Show AMHCC Grouper button
  showAMHCC();
}
function OKPressed() {
  if(!validateClusters()){ return; }
  p=document.UpdateForm;
  if(!getUnplannedReadmission()){return;}
  if(p.admweght!=undefined) {
   if(parseInt(p.psageday.value) <= parseInt(p.ptcnbage.value)) {
     if (!isWhitespace(p.admweght)) {
      if((p.admweght.value<125)||
         (p.admweght.valu>9999)) {
            alert("Warning: Patient <= " + p.ptcnbage.value +
                  " days and Admission weight < 125g or >  9999g");
      } else {
        if((p.psageday.value<28)||
           (p.admweght.value>6250)) {
             alert("Warning: Patient < 28 days and Admission weight > 6250g");
        }
      }
     }

    }
  }

  SetMissingDetails();
  Compall()
}
function SetMissingDetails() {
  f = document.UpdateForm;
  if (f.d_mscom001.checked) {
    f.mscom001.value = "1";
  }
  else {
    f.mscom001.value = "0";
  }
  if (f.d_mscom002.checked) {
    f.mscom002.value = "1";
  }
  else {
    f.mscom002.value = "0";
  }
  if (f.d_mscom003.checked) {
    f.mscom003.value = "1";
  }
  else {
    f.mscom003.value = "0";
  }
  if (f.d_mscom004.checked) {
    f.mscom004.value = "1";
  }
  else {
    f.mscom004.value = "0";
  }
  if (f.d_mscom005.checked) {
    f.mscom005.value = "1";
  }
  else {
    f.mscom005.value = "0";
  }
  if (f.d_mscom006.checked) {
    f.mscom006.value = "1";
  }
  else {
    f.mscom006.value = "0";
  }
}
function getUnplannedReadmission(){
  if(typeof NotUsingUnplannedReadmission != 'undefined'){
    if(NotUsingUnplannedReadmission=="1"){
      return true;
    }
  }
  if(document.UpdateForm.hrsicu08.value!=""){   // value already entered
    return true;
  }
  if (document.UpdateForm.unplread.value=="1") {
    alert("This patient's admission is a readmission within 28 days. Please\n" +
        "review this and the previous admission and complete the 'Unplanned\n" +
        "Readmission' field in Associated Details as appropriate..");
    return false;
  }
  return true;
}
function AddAudit(admissno,defltman) {
  linkurl='mrtweb05.pbl?reportno=1&template=2&admissno=' + admissno +
          '&defltman=' + defltman;
  Left=(document.body.clientWidth-800)/2;
  DFrameLink(linkurl,80,Left,800,420);
}
function VisitMRTLinkButton(admissno,ur,mrkey) {
  linkurl="mrtweb01.pbl?reportno=5&template=006" +
          "&admissno=" + admissno.replace(/ /g,"+") +
          "&urnumber=" + ur.replace(/ /g,"+") +
          "&mrtms008=" + mrkey.substr(8,3).replace(/ /g,"+") +
          "&mrtms001=" + mrkey.substr(11,4).replace(/ /g,"+") +
          "&mrtms002=" + mrkey.substr(15,3).replace(/ /g,"+") +
          "&docmtype=" + mrkey.substr(15,3).replace(/ /g,"+") +
          "&mrtms003=" + mrkey.substr(18,2).replace(/ /g,"+")
  Left=(document.body.clientWidth-600)/2;
  DFrameLink(linkurl,80,Left,600,300);
}
function ShowMissingDetailComment() {
  f = document.UpdateForm;
  if (isWhitespace(f.mrpsfmt1.value)) {
    f.commflag.checked = false;
  }
  else {
    f.commflag.checked = true;
  }

  linkurl="mrtweb02.pbl?reportno=1&template=005" +
          "&urnumber=" + f.urnumber.value + "&admissno=" + f.admissno.value +
          "&retfield=commflag" + "&cdatafld=mrpsfmt1"
  Left=(document.body.clientWidth-800)/2
  DFrameLink(linkurl,200,Left,800,200)
}
function SetMissingCommentFlag(CflagFld,CdataFld,DataComm) {
  f = document.UpdateForm;
  var cflgCtrl = document.getElementById(CflagFld);
  var cdatCtrl = document.getElementById(CdataFld);
  if (cflgCtrl != undefined) {
    if (isWhitespace(DataComm)) {
      cflgCtrl.checked = false;
      cdatCtrl.value = "";
    }
    else {
      cflgCtrl.checked = true;
      cdatCtrl.value = DataComm;
    }
  }
}
function ShowStatusHistory() {
  f = document.UpdateForm;

  linkurl="mrtweb04.pbl?reportno=8&template=001" +
          "&urnumber=" + f.urnumber.value + "&admissno=" + f.admissno.value
  location.href=linkurl
}
</script>
<body onLoad="PageLoad(event);">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%MRTWEB02.03.003";
PatientVIS="%MRTWEB02.03.081";
PatientNAM="%MRTWEB02.03.002";
PatientSTA="%MRTWEB02.03.086.078";
PatientALT="%MRTWEB02.03.084";
PatientSEX="%MRTWEB02.03.019";
PatientDOB="%MRTWEB02.03.020";
PatientAGE="%MRTWEB02.03.021";
PatientLOC="%MRTWEB02.03.083";
PatientPRI="%MRTWEB02.03.086.066.1";
PatientUNT="%MRTWEB02.03.066.0";
DoctorCOD="%MRTWEB02.03.082.003";
DoctorNAM="%MRTWEB02.03.082.002";
PatientAID="%MRTWEB02.03.086.090";
PatientIND="%MRTWEB02.03.086.091";
PatientCUR="%MRTWEB02.03.086.092";
PatientCLC="%MRTWEB02.03.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%MRTWEB02.03.086.094";
PatientCDM="%MRTWEB02.03.086.095";
PatientVDH="%MRTWEB02.03.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>

<div id=PageBodySection>

<form name=UpdateForm method=post action=mrtweb02.pbl style="margin:0">
  <input type=hidden name=reportno value="3">
  <input type=hidden name=template value="001">
  <input type=hidden name=updttype value="">
  <input type=hidden name=urnumber value="%MRTWEB02.03.003">
  <input type=hidden name=admissno value="%MRTWEB02.03.081">
  <input type=hidden name=ptecd001 value="">
  <input type=hidden name=ptecd002 value="">
  <input type=hidden name=ptecd003 value="">
  <input type=hidden name=epsoindc value="%MRTWEB02.03.308">
  <input type=hidden name=wghtindc value="%MRTWEB02.03.310">
  <input type=hidden name=neonindc value="%MRTWEB02.03.319">
  <input type=hidden name=pripre value="%MRTWEB02.03.301">
  <input type=hidden name=seqpre value="%MRTWEB02.03.302">
  <input type=hidden name=compre value="%MRTWEB02.03.303">
  <input type=hidden name=asspre value="%MRTWEB02.03.304">
  <input type=hidden name=lofpre value="%MRTWEB02.03.305">
  <input type=hidden name=dispre value="%MRTWEB02.03.306">
  <input type=hidden name=oprpre value="%MRTWEB02.03.307">
  <input type=hidden name=morpre value="%MRTWEB02.03.320">
  <input type=hidden name=stateflg value="%MRTWEB02.03.322">
  <input type=hidden name=newseqnc>
  <input type=hidden name=nextpage value="0">
  <input type=hidden name=redirect value="">
  <input type=hidden name=encoderf>
  <input type=hidden name=moveswap>
  <input type=hidden name=setfunct>
  <input type=hidden name=hrsinmec value="%MRTWEB02.03.603">
  <input type=hidden name=admweght value="%MRTWEB02.03.312">
  <input type=hidden name=intubatn value="%MRTWEB02.03.326">
  <input type=hidden name=hspbirth value="%MRTWEB02.03.110.3">
  <input type=hidden name=groupert value="%MRTWEB02.03.327">
  <input type=hidden name=mechwarn value="%MRTWEB02.03.328">
  <input type=hidden name=diffhosp value="%MRTWEB02.03.315">
  <input type=hidden name=override value="">
  <input type=hidden name=cancerov value="">
  <input type=hidden name=usngcpap value="%MRTWEB02.03.330">
  <input type=hidden name=hrsinniv value="%MRTWEB02.03.613">
  <input type=hidden name=mrcnepsc value="%STANDARD.01.025.060.133.1.1">
  <input type=hidden name=dischdrg value="%MRTWEB02.03.538.1">
  <input type=hidden name=mrcngrup id=mrcngrup value="%STANDARD.01.025.097.145.1.1">
  <input type=hidden name=admnclss id=admnclss value="%MRTWEB02.03.112.3">
  <input type=hidden name=admistat id=admistat value="%MRTWEB02.03.199.020">
  <input type=hidden name=admndate id=admndate value="%MRTWEB02.03.102">
  <input type=hidden name=admntime id=admntime value="%MRTWEB02.03.103">
  <input type=hidden name=discdate id=discdate value="%MRTWEB02.03.201">
  <input type=hidden name=disctime id=disctime value="%MRTWEB02.03.202">
  <input type=hidden name=exiretdt id=exiretdt value="%MRTWEB02.03.361">
  <input type=hidden name=recretdt id=recretdt value="%MRTWEB02.03.362">
  <input type=hidden name=ageyears id=ageyears value="%MRTWEB02.03.363">
  <input type=hidden name=ptcnoenc id=ptcnoenc value="%STANDARD.01.025.079.092.1.1">
  <input type=hidden name=webcoder id=webcoder value="%MRTWEB02.03.365">
  <input type=hidden name=ptcnbage value="%STANDARD.01.025.021.046.1.3">
  <input type=hidden name=psageday value="%MRTWEB02.03.623">
  <input type=hidden name=nvalwght value="1">
  <input type=hidden name=hrsicu08 value="%MRTWEB02.03.611.1">
  <input type=hidden name=unplread value="%MRTWEB02.03.357">
  <input type=hidden name=invchold value="%MRTWEB02.03.625">
  <input type=hidden name=hinvcode value="%MRTWEB02.03.627.3">
  <input type="hidden" name=abfindic id= abfindic value="%MRTWEB02.03.126.3">
  <input type="hidden" name=cclsindc id=cclsindc value="%MRTWEB02.03.113.3">
  <input type=hidden name=ptcnuabf id=ptcnuabf 
   value="%STANDARD.01.025.128.105.0.1">
  <input type=hidden name=d_mrcnlink id=d_mrcnlink
   value="%STANDARD.01.025.097.163.0.1">
  <input type=hidden name=d_mrcnunwa id=d_mrcnunwa
   value="%STANDARD.01.025.061.240.0.1">
  <input type=hidden name=d_mrcnenwa id=d_mrcnenwa
   value="%STANDARD.01.025.061.241.0.8">

  <input type="hidden" id="3MURL" value="%MRTWEB02.03.366">
  <input type="hidden" id="3MSession" value="%MRTWEB02.03.367">
  <input type="hidden" id="3MUser" value="%STANDARD.01.043">
  <input type=hidden name=mscom001 id=mscom001 value="%MRTWEB02.03.373">
  <input type=hidden name=mscom002 id=mscom002 value="%MRTWEB02.03.374">
  <input type=hidden name=mscom003 id=mscom003 value="%MRTWEB02.03.375">
  <input type=hidden name=mscom004 id=mscom004 value="%MRTWEB02.03.376">
  <input type=hidden name=mscom005 id=mscom005 value="%MRTWEB02.03.377">
  <input type=hidden name=mscom006 id=mscom006 value="%MRTWEB02.03.378">
  <input type=hidden name=mscom007 id=mscom007 value="%MRTWEB02.03.379">
  <input type=hidden name=mscom008 id=mscom008 value="%MRTWEB02.03.380">
  <input type=hidden name=mrcneaca id=mrcneaca
   value="%STANDARD.01.025.097.248.1.1">
  <input type=hidden name=mrcnautg id=mrcnautg
   value="%STANDARD.01.025.060.247.0.1">
  <input type=hidden name=runautog id=runautog
   value="%MRTWEB02.03.381">
  <input type=hidden name=mrpsfmt1 id=mrpsfmt1 value="%MRTWEB02.03.383">
  <input type=hidden name=amhevent value="%MRTWEB02.03.629">
<input type=hidden name=ptcnhdps id=ptcnhdps value="%STANDARD.01.025.080.250.1.1">
  <input type=hidden name=mrcnicct id=mrcnicct
   value="%STANDARD.01.025.097.249.1.1">
  <input type=hidden name=ckviscmt value="%MRTWEB02.03.631">
  <input type=hidden name=ckvismdt value="%MRTWEB02.03.620">

<table cellspacing=0 cellpadding=1 border=0 width=100% bgcolor=#cccccc>
<tr><td class=DataLabel>Episode No. </td>
    <td><select id=epscd001 name=epscd001 class=SelectTny 
         onchange='ChangeEps(this);'>
         %MRTWEB02.03.318
        </select></td>
    <td class=DataLabel width=16%>Coding Complete </td>
    <td><input type=checkbox name=medcd001 checked value="1"></td>

    <td class=DataLabel>%STANDARD.01.017.CP</td>
    <td><select name=ptecd008 class=SelectMed onchange="SetDestination();"
         id="ptecd008" title="%STANDARD.01.017.CP">
        <option></option>
        %MRTWEB02.03.606.2
        </select></td>
</tr>

<tr><td class=DataLabel>Grouper DRG/VER </td>
    <td class=DataField>%MRTWEB02.03.541.0</td>
    <td class=DataLabel>Destination</td>
    <td><input type=hidden name=mrtme019 value="%MRTWEB02.03.355.0">
        <select name=mrtme003 class=SelectMed title="Destination"
         onchange="checkMovementReason();">
        <option></option>
        %MRTWEB02.03.355.1
        </select>
    </td>
    <td id=MissHdr>Missing Details</td>
    <td id=MissDet rowspan=2>
      <table cellspacing=0 cellpadding=1 border=0 width=100% align=center>
      <tr>
        <td width=6% align=center class=DataLabel>1</td>
        <td width=6% align=center class=DataLabel>2</td>
        <td width=6% align=center class=DataLabel>3</td>
        <td width=6% align=center class=DataLabel>4</td>
        <td width=6% align=center class=DataLabel>5</td>
        <td width=6% align=center class=DataLabel>6</td>
        <td width=10% align=center class=DataLabel>&nbsp;</td>
        <td width=10% align=center class=DataLabel>Comment</td>
        <td width=44%>&nbsp;</td>
      </tr>
      <tr>
        <td align=center class=DataLabel>
          <input type=checkbox name=d_mscom001 value="0"
           onmouseover="showMouseOverText(MRCodingMissingDetails1);">
        </td>
        <td align=center class=DataLabel>
          <input type=checkbox name=d_mscom002 value="0"
           onmouseover="showMouseOverText(MRCodingMissingDetails2);">
        </td>
        <td align=center class=DataLabel>
          <input type=checkbox name=d_mscom003 value="0"
           onmouseover="showMouseOverText(MRCodingMissingDetails3);">
        </td>
        <td align=center class=DataLabel>
          <input type=checkbox name=d_mscom004 value="0"
           onmouseover="showMouseOverText(MRCodingMissingDetails4);">
        </td>
        <td align=center class=DataLabel>
          <input type=checkbox name=d_mscom005 value="0"
           onmouseover="showMouseOverText(MRCodingMissingDetails5);">
        </td>
        <td align=center class=DataLabel>
          <input type=checkbox name=d_mscom006 value="0"
           onmouseover="showMouseOverText(MRCodingMissingDetails6);">
        </td>
        <td align=center class=DataLabel>

          <img notab src="../images/MaintenanceIcon.gif" class=Icon
           onmouseover="showMouseOverText('Post Discharge Status History details');"
           onclick="ShowStatusHistory();">
        </td>
        <td align=center class=DataLabel>
          <input type=checkbox name=commflag id=commflag
           title="Click to maintain missing details comment" value="0"
           onclick="ShowMissingDetailComment();">
        </td>
        <td>&nbsp;</td>
      </tr>

      </table>
    </td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Reason</td>
    <td class=DataField>
      <select name=mrtme005 class=SelectMed title="Reason" disabled>
        <option></option>
        %MRTWEB02.03.359.2
      </select>
    </td>
    <td>&nbsp;</td>
    <td></td>
</tr>

<tr><td class=DataLabel>
      <div id="divDisDRGLabel" style="display:none"></div>
    </td>
    <td class=DataField>
      <div id="divDisDRGField" style="display:none"></div>
    </td>
    <td class=DataLabel><div id="divPerLabel" style="display:none"></div></td>
    <td class=DataField><div id="divPerField" style="display:none"></div></td>
    <td class=DataLabel><div id="divDatLabel" style="display:none"></div></td>
    <td class=DataField><div id="divDatField" style="display:none"></div></td>
</tr>

<tr><td class=DataLabel>Health Fund DRG/VER </td>
    <td class=DataField>%MRTWEB02.03.532.1/%MRTWEB02.03.533 -
        %MRTWEB02.03.532.0</td>

    <td class=DataLabel><div id="divRPerLabel" style="display:none"></div></td>
    <td class=DataField><div id="divRPerField" style="display:none"></div></td>
    <td class=DataLabel><div id="divRDatLabel" style="display:none"></div></td>
    <td class=DataField><div id="divRDatField" style="display:none"></div></td>
</tr>
</table>

<table cellspacing=0 cellpadding=1 border=0 width=100% bgcolor=#cccccc>
<tr><td class=DataLabel width=13%>%STANDARD.01.017.KO</td>
    <td class=DataField width=17%>%MRTWEB02.03.611   </td>
    <td class=DataLabel width=13%>%STANDARD.01.017.KB</td>
    <td class=DataField width=17%>%MRTWEB02.03.612   </td>
      <td><div id=CareTypeLab></div></td>
      <td class=DataField><div id=CareTypeDes></div></td>

      <td><div id=InvOnHold></div></td>
      <td><div id=InvReasonHold1></div></td></tr>

<tr><td class=DataLabel><div id="divWIESABFLabel" style="display:none"></div>
    </td>
    <td class=DataField><div id="divWIESABFField" style="display:none"></div>
    <td><div id=divScoreLbl></div></td>
    <td class=DataField><div id=divScoreVal></div></td>
    <td>Current Volume - Location</td>
    <td><b>Vol %MRTWEB02.03.090.3 - %MRTWEB02.03.090.4</b></td>

    <td>&nbsp;</td>
    <td><div id=InvReasonHold2></div></td></tr>
</table>

<table align=center border=0 cellspacing=0 cellpadding=1 width=100%>       
  <tr><td class=DataLabel>Attendance</td>  
    <td class=DataLabel>Length of Stay Days </td>
    <td class=DataLabel>Ward</td>
    <td class=DataLabel>Unit</td>
    <td class=DataLabel>Hrs ICU </td>
    <td class=DataLabel>Hrs CCU </td>
    <td class=DataLabel>Hrs <span id="minsMVLbl"></span> MV</td>
    <td class=DataLabel>Hrs NIV</td>
    <td><div id=WeightLabel></div></td></tr> 
<tr><td class=DataField>* %MRTWEB02.03.344 - %MRTWEB02.03.345 </td>
    <td class=DataField>* %MRTWEB02.03.347 </td>
    <td class=DataField>* %MRTWEB02.03.224 </td>
    <td class=DataField>* %MRTWEB02.03.124.0  </td>
    <td class=DataField>* %MRTWEB02.03.601</td>
    <td class=DataField>* %MRTWEB02.03.602</td>
    <td class=DataField>* %MRTWEB02.03.603 <span id="minsMVVal"></span></td>
    <td class=DataField>* %MRTWEB02.03.613</td>
    <td class=DataField><div id=WeightField></div></td></tr> 
</table>

<table cellspacing=0 cellpadding=0 border=1 width=100%>
<tr><td>
  <table cellspacing=0 cellpadding=1 border=0 width=100%>
  %MRTWEB02.03.401.mrtweb02.03.003
  </table>
</td></tr>

<tr><td>
  <table cellspacing=0 cellpadding=1 border=0 width=100%>
  %MRTWEB02.03.402.mrtweb02.03.004.1
  </table>
</td></tr>

<tr><td align=center>   
  <table cellspacing=0 cellpadding=1 border=0 width=100%>
  <tr><td align=left> 
    <input class="button" type=button id=ptPrev name=btPrev value="Previous"
     onclick='location.href="%MRTWEB02.03.425"'></td>
    <td align=center>
   <div id="ABFMTXDIV" style="display: inline"></div>
   <span id=grupbutt>
    <input type=button class="button" name="grpbut" value="Grouper"
     id="grouper" onclick='tempDisable(this);Grouper();'>
   </span>
   <span id=cmebutt style="display: %MRTWEB02.03.339;">
    <input type=button class="button" name="inpgrp" value="Load CME"
     id="loadcme" onclick='tempDisable(this);LoadGrp();'>
   </span>
   <span id=encbutts style="display: %MRTWEB02.03.336;">
   <input class="button" type=button value="Export Encoder"
    id="exportencoder" onclick='tempDisable(this);Export();'>
   <input class="button" type=button value="Load Encoder"
    id="loadencoder" onclick='tempDisable(this);Encoder();'>
   </span>
   <span id=tbobutts style="display: %MRTWEB02.03.369;">
   <input class="button" type=button value="Export TG"
    id="exportturbo" onclick='tempDisable(this);TurboExport();'>
   <input class="button" type=button value="Import TG"
    id="loadturbo" onclick='tempDisable(this);TurboLoad();'>
   </span>
    <input class="button" type=button value=Add
     onclick='PatientLinkTo("mrtweb02.pbl","03","002",1,850,600);'>
    <span style="display: %MRTWEB02.03.324;">
    <input class="button" name="codingdt" type=button  
     id="codingdt" onclick='OKPressed();'></span>
    <input class="button" type=button value="Delete All"
     id="deleteall" onclick='tempDisable(this);deleAll();'>
    <input class="button" type=button value="Add Audit"
     id="addaudit" onclick="tempDisable(this);
     AddAudit('%MRTWEB02.03.081','%MRTWEB02.03.370')">
    <span id="linkMRVisit" style="display: none;">
    <input type=button class="button" name="linkmrtv" id="linkmrtv"
      value="Link Volume"
      onclick="VisitMRTLinkButton('%MRTWEB02.03.081','%MRTWEB02.03.003',
                                  '%MRTWEB02.03.371');"></span>
    <span id="showAMHCCButton" style="display: none;">
    <input class="button" type=button value="AMHCC"
     id="amhccgroup" onclick='tempDisable(this);AMHCCGroup();'></span>

    <span id=spnCommButt>
      <input type=button class=button name=CommButton
        value="Comments" style="width:100px"
        onclick='commentButtonClicked();'>
    </span>

    </td>
    <td align=right>
    <input class="button" type=button id=btNext name=btNext value="Next"
     onclick='location.href="%MRTWEB02.03.426"'></td></tr>
  </table>  
</td></tr>
</table>

<table cellspacing=0 cellpadding=1 border=0 width=100%>
<tr><td class=HeadingCell align=center>
     Summary </td></tr>
</table>

<table cellspacing=0 cellpadding=1 border=1 width=95% align=center>
<tr><td class=DataLabel width=20%>Admission Dates </td>
    <td class=DataField width=25%> %MRTWEB02.03.344 - %MRTWEB02.03.345  </td>
    <td class=DataLabel width=20%>Length of Stay</td>
    <td class=DataField> %MRTWEB02.03.347 </td></tr>

<tr>
    <td class=DataLabel>State LOS    </td>
    <td class=DataField> %MRTWEB02.03.526.0 &nbsp;</td>
    <td class=DataLabel>Coding Date & Time    </td>
    <td class=DataField id=CodingDateTime> %MRTWEB02.03.388.0 at %MRTWEB02.03.388.1  </td></tr>

<tr><td class=DataLabel>Ward    </td>
    <td class=DataField> %MRTWEB02.03.428 &nbsp;</td>
    <td class=DataLabel>Audit Date</td>
    <td class=DataField> %MRTWEB02.03.338</td></tr>

<tr><td class=DataLabel>Unit    </td>
    <td class=DataField> %MRTWEB02.03.124.0 &nbsp;</td>
    <td class=DataLabel>%STANDARD.01.017.CL  </td>
    <td class=DataField> %MRTWEB02.03.126.0 </td></tr>

<tr><td class=DataLabel>Trim Low  </td>
    <td class=DataField> %MRTWEB02.03.526.1 &nbsp;</td>
    <td class=DataLabel>Trim High </td>
    <td class=DataField> %MRTWEB02.03.526.2 &nbsp;</td></tr>

<tr><td class=DataLabel>Coder ID  </td>
    <td class=DataField> %MRTWEB02.03.321.2 &nbsp;</td>
    <td class=DataLabel>Health Fund</td>
    <td class=DataField> %MRTWEB02.03.114.0</td></tr>

<tr><td colspan=6 class=HeadingCell align=center >
      Coding Comments </td></tr>
<tr>
  <td colspan=6 align=center id=ViscmtData>
    <textarea wrap=hard name=codcmmnt rows=4 cols=100 readonly>%MRTWEB02.03.340</textarea>
  </td>
  <td colspan=6 align=center id=VismdtData>
    <textarea wrap=hard name=codcmmnt rows=4 cols=100 readonly>%MRTWEB02.03.387</textarea>
  </td>
</tr>

</table>

<table cellspacing="0" width="100%" align=center>
  <tr>
    <td><textarea name="3MInput" id="3MInput" cols="50" rows="25"
         style="display:none">%MRTWEB02.03.364</textarea></td>
    <td><textarea name="3MOutput" id="3MOutput" cols="50" rows="25"
         style="display:none">
        </textarea></td>
  </tr>
  <tr>
    <td colspan="2"><input type="hidden" id="3MMessage" value="" size="137"
        readonly=""/></td>
  </tr>
</table>
</form>
</div>

<iframe name="wcFrame" id="wcFrame" height="0" width="0"
 frameborder="0" style="display: none;"></iframe>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%MRTWEB02.03.003">
<input type=hidden name=admissno value="%MRTWEB02.03.081">
<input type=hidden name=MenuType value="%MRTWEB02.03.088">
<input type=hidden name=epscd001 value="%MRTWEB02.03.313">
</form>

<span id="spDisDRGLabel" style="display:none">Discharge DRG/VER</span>
<span id="spDisDRGField" style="display:none">
  %MRTWEB02.03.538.1/%MRTWEB02.03.540 - %MRTWEB02.03.538.0
</span>

<span id=weightlabel style="display:none">Adm. Weight </span>
<span id=weightfield style="display:none">* %MRTWEB02.03.312 gm</span>

<span id=showCareType style="display:none">Care Type</span>
<span id=showCareTypeDes style="display:none">%MRTWEB02.03.346.0</span>

<span id="spPCCLLbl" style="display:none">PCCL</span>
<span id="spPCCLVal" style="display:none">%MRTWEB02.03.516</span>

<span id="spECCSLbl" style="display:none">ECCS</span>
<span id="spECCSVal" style="display:none">%MRTWEB02.03.544</span>

<span id="spRetPerLabel" style="display:none">Existing Retention Period</span>
<span id="spRetPerField" style="display:none">%MRTWEB02.03.360.0</span>

<span id="spRetDatLabel" style="display:none">Existing Retention End Date</span>
<span id="spRetDatField" style="display:none">%MRTWEB02.03.361</span>

<span id="spRtPerLabel" style="display:none">%STANDARD.01.017.rt</span>
<span id="spRtPerField" style="display:none">
    <select name=recrt001 id=recrt001 title="%STANDARD.01.017.rt"
         class="SelectMed" onchange="RetentionOverRide();">
        <option></option>
        %MRTWEB02.03.360.4
        </select>
</span>

<span id="spRtDatLabel" style="display:none">Retain Until</span>
<span id="spRtDatField" style="display:none">
    <input type=text name=recrt002 id=recrt002 size=12
         title="Retain Until Date" value="%MRTWEB02.03.361"
         onblur="CheckRetention();">
        <img notab src="../images/DateLookup.gif" class="Icon"
         alt="Show Calendar" date="UpdateForm.recrt002">
</span>

<span id=DispOnHold style="display:none">
    <input type=button class="button" value="On Hold"
     onclick="OnHold();">
</span>

<span class="DataField" id=DispHoldDes1 style="display:none">
    <font color=red>%MRTWEB02.03.626.0</font>
</span>

<span class="DataField" id=DispHoldDes2 style="display:none">
    <font color=red>%MRTWEB02.03.626.1</font>
</span>

<span id=NWAUSPAN style="display:none">
    <input type="button" value="NWAU Details" name="nwaubutton" class="button"
                  onclick="NWAUDetail();" />
</span>

<span id=ABFSPAN style="display:none">
    <input type="button" value="ABF Details" name="abfbutton" class="button"
                  onclick="ABFDetail();" />
</span>

<span id=NONABFSPAN style="display:none">
</span>

<span id=WIESLabel style="display:none">WIES</span>
<span id=WIESField style="display:none">%MRTWEB02.03.519</span>
<span id=ABFLabel style="display:none">NWAU</span>
<span id=ABFField style="display:none">%MRTWEB02.03.545</span>
<span id=NWAULabel style="display:none">NWAU</span>

<span id=WaitBoxDisplay class=WaitBox style="display:none">
<img class=WaitImage src="../images/wait.gif">
<p>Please Wait ...</p>
</span>

<div id=PageLayer class=DimmedLayer style="display:none"></div>

<span id="spMinsMVLbl" style="display:none">/ mins</span>
<span id="spMinsMVVal" style="display:none">/ %MRTWEB02.03.619</span>

<script type="text/javascript">

if (document.getElementById('ptcnhdps').value == '3' || 
    document.getElementById('ptcnhdps').value == '4') {
  // show mins MV for VIC only
  document.getElementById('minsMVLbl').innerHTML = document.getElementById('spMinsMVLbl').innerHTML;
  document.getElementById('minsMVVal').innerHTML = document.getElementById('spMinsMVVal').innerHTML;
}

f = document.UpdateForm;

if ("%MRTWEB02.03.427"=="1") {
  document.UpdateForm.medcd001.checked=0;
}
CoddingDate="%MRTWEB02.03.196";
if (isWhitespace(CoddingDate)) {
   document.UpdateForm.codingdt.className="RedButton";
}

ShowDiscDRGField();

if (document.getElementById('mrcngrup').value == "2" ) {
  document.getElementById('grupbutt').style.display = "none";
  document.getElementById('encbutts').style.display = "none";
  document.getElementById('cmebutt').style.display = "none";
}

var DRGVer = "%MRTWEB02.03.540";
ShowScore(DRGVer);

var href="%MRTWEB02.03.425";
if (isWhitespace(href)) {
  UpdateForm.btPrev.disabled = true;
}
else {
  UpdateForm.btPrev.disabled = false;
}
href="%MRTWEB02.03.426";
if (isWhitespace(href)) {
  UpdateForm.btNext.disabled = true;
}
else {
  UpdateForm.btNext.disabled = false;
}

ExistingRetention="%MRTWEB02.03.361";
if (!isWhitespace(ExistingRetention)) {
  document.getElementById('recrt001').value = "";
  document.getElementById('recrt002').value = "";
}
DisplayRetention();                              // Display Retention Details
DisplayWIESABF();

if(f.mscom001.value=="1") {
  f.d_mscom001.checked=1;
}
if(f.mscom002.value=="1") {
  f.d_mscom002.checked=1;
}
if(f.mscom003.value=="1") {
  f.d_mscom003.checked=1;
}
if(f.mscom004.value=="1") {
  f.d_mscom004.checked=1;
}
if(f.mscom005.value=="1") {
  f.d_mscom005.checked=1;
}
if(f.mscom006.value=="1") {
  f.d_mscom006.checked=1;
}
if(!isWhitespace(f.mrpsfmt1.value)) {
  f.commflag.checked=1;
}

ShowCodingCommentButton();
ShowCodingCommentData();

function ABFDetail() {
  if (UpdateForm.amhevent.value==1) {
    LinkURL="patweb71.pbl?reportno=01&template=027&urnumber=" +
             document.UpdateForm.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.UpdateForm.admissno.value.replace(/ /g,"+")
  } else {
    LinkURL="patweb71.pbl?reportno=01&template=012&urnumber=" +
             document.UpdateForm.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.UpdateForm.admissno.value.replace(/ /g,"+")
  }
    Left=(document.body.clientWidth-980)/2;
    DFrameLink(LinkURL,0,Left,980,650);
}

function NWAUDetail() {
  if (UpdateForm.amhevent.value==1) {
    LinkURL="patweb71.pbl?reportno=01&template=026&urnumber=" +
             document.UpdateForm.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.UpdateForm.admissno.value.replace(/ /g,"+")
  } else {

//  check for Palliative Phase of Care (Cat CC UDF6=3 AND THCSCOD=8

    if ((document.getElementById('cclsindc').value.substr(189,1) == "3") &&
        (document.getElementById('cclsindc').value.substr(14,1) == "8")) {
    LinkURL="patweb71.pbl?reportno=01&template=054&urnumber=" +
             document.UpdateForm.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.UpdateForm.admissno.value.replace(/ /g,"+")
    } else {

    LinkURL="patweb71.pbl?reportno=01&template=025&urnumber=" +
             document.UpdateForm.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.UpdateForm.admissno.value.replace(/ /g,"+")
    }
  }
    Left=(document.body.clientWidth-1010)/2;
    DFrameLink(LinkURL,0,Left,1010,650);
}

function DisplayWIESABF() {
  if((document.getElementById('ptcnuabf').value == "1") &&
     (document.getElementById('abfindic').value.substr(4,1) == "A")) {

    var divWIESABFLabel = document.getElementById('divWIESABFLabel');
    var divWIESABFField = document.getElementById('divWIESABFField');
    divWIESABFLabel.innerHTML = document.getElementById('ABFLabel').innerHTML;
    divWIESABFField.innerHTML = document.getElementById('ABFField').innerHTML;
    divWIESABFLabel.style.display = "";
    divWIESABFField.style.display = "";

  } else {
    var divWIESABFLabel = document.getElementById('divWIESABFLabel');
    var divWIESABFField = document.getElementById('divWIESABFField');
    divWIESABFLabel.innerHTML = document.getElementById('WIESLabel').innerHTML;
    divWIESABFField.innerHTML = document.getElementById('WIESField').innerHTML;
    divWIESABFLabel.style.display = "";
    divWIESABFField.style.display = "";
  }
}
if(showNWAUTitle(UpdateForm.d_mrcnunwa,UpdateForm.d_mrcnenwa,
   UpdateForm.discdate)) {
   var divWIESABFLabel = document.getElementById('divWIESABFLabel');
   divWIESABFLabel.innerHTML=document.getElementById('NWAULabel').innerHTML;
}
function showNWAUTitle(usingNWAU,effdate,ddate) {
  if(usingNWAU.value != "1") {
    return false;
  }
  if(SetDateYYYYMMDD(ddate.value) < effdate.value) {
     return false;
  }
  return true;
}
var DispCodingDateTime = "%MRTWEB02.03.388.0";
if (isWhitespace(DispCodingDateTime)) {
   document.getElementById('CodingDateTime').innerHTML="";
}
</script>
