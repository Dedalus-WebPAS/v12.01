<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="private">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/IBA_Category_C_.js"></script>
<script type="text/javascript" src="../js/patweb89.js"></script>
%START.OF.PAGE
<script type="text/javascript">
if("%STANDARD.01.025.119.182.0.1" == "1") {  // Episoft ptcnepis
  var src="../js/eAdmissionReg.js"
  var script = document.createElement("script");
               script.setAttribute("src", src);
               script.setAttribute("type", "text/javascript");
  document.getElementsByTagName("head")[0].appendChild(script);
}

var arrElemVals = {};  // associative array of original element values on load
var arrElemNames = ['ptmas005','ptmas015','ptmas017','ptmas023','ptmas026',
                    'pmpmi084','ptmsx045'];

function SaveOrigVals() {
  StoreElemVals(arrElemNames, arrElemVals);
}

function VerifyChanges() {
  // verify that the field values have actually changed since page load
  for(var i=0; i<arrElemNames.length; i++) {
      if(VerifyElemValChange(arrElemNames[i], arrElemVals)) {
         document.UpdateForm.chngmade.value = "1";
         break;
      }
  }
}

function checkOverseas(){
  if(trim(document.UpdateForm.ptmas012.value)=="8888"){
     document.UpdateForm.oseasflg.checked=true;
  }
  else{
     document.UpdateForm.oseasflg.checked=false;
  }
  setAddrLine4(UpdateForm);
}

function clickUpdateButton(){
  var dU = document.UpdateForm;
  if(!checkMedicare(dU.ptmas023)){
    return;
  }
  if(!CheckValPostCode()){
    return;
  }
  if(document.getElementById("ptcnepis").value == "1") {  // Episoft ptcnepis
    var admisnid=getQueryString('admisnid').replace(/\+/g," ").substring(0,20);
    if (!isWhitespace(admisnid)) {
      var xhr = createHttpObject();
      var url = "patweb14.pbl?reportno=07&websrvno=2" +
                "&statcode=3&admisnid="+admisnid.replace(/ /g,"+") +
                "&urnumber="+PatientURN.replace(/ /g,'+');
      xhr.open('GET',url,false);
      xhr.send("statcode=3");
      SetCookie("eAdmission",eAdmCookie);
      if (document.UpdateForm.ptcnnewc.value=='1') {
        UpdateForm.redirect.value=
        "patweb07.pbl?reportno=06&template=004&urnumber="
        +PatientURN.replace(/ /g,"+")+"&admisnid="+admisnid.replace(/ /g,"+");
      } else {
        UpdateForm.redirect.value =
        "patweb14.pbl?reportno=03&template=001&urnumber="
        +PatientURN.replace(/ /g,"+")+"&admisnid="+admisnid.replace(/ /g,"+");
      }
    }
  }
  checkSecondName(dU.ptcnusgn,dU.ptmas006,dU.pmpmi084,dU.pmpmi085);
  validateDeath01();
  checkAge(dU.ptmas017.value,dU.maxage.value);
  UpdHealthFund();
  SetOptOutSMS();
  submitForm01();
 
}
function CheckUser() {
  if(document.UpdateForm.genericu.value=="1") {
     document.UpdateForm.username.disabled = false;
     document.UpdateForm.username.className = "Mandatory";
     document.UpdateForm.password.disabled = false;
     document.UpdateForm.password.className = "Mandatory";
  }
}
function GenericPass() {
  var serverURL  = "../cgi-bin/patweb80.pbl?reportno=11" +
              "&secureid=" + document.UpdateForm.username.value +
              "&securepw=" + document.UpdateForm.password.value +
              "&valdtype=1";

  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    return true;
  }
  else {
    return false;
  }
}
function displayUserDefined() {
  if (PMIUserDefinedFields!=true) {return;}

  P1HeadingDIV.innerHTML=P1HeadingSPAN.innerHTML;
  P1FieldDIV.innerHTML=P1FieldSPAN.innerHTML;

  P2HeadingDIV.innerHTML=P2HeadingSPAN.innerHTML;
  P2FieldDIV.innerHTML=P2FieldSPAN.innerHTML;

}
function clrMandatory(Sname,Gname,Sex,Dob) {
  if (document.UpdateForm.quickreg.checked==true) {
    for (i=0; i<document.UpdateForm.elements.length; i++) {
      el=document.UpdateForm.elements[i];
      if (el.className.match(/Mandatory/)) {
        el.className="";
      }
    }
    if (isWhitespace(document.UpdateForm.ptmas017.value)){
      checkDefDOB(document.UpdateForm.ptmas017,document.UpdateForm.d_cwebDDOB);
      document.UpdateForm.ptmas017.focus();
      document.UpdateForm.ptmas017.blur();
      document.UpdateForm.ptmas017.className="Mandatory PastDate";
    }

    if (!isWhitespace(Sex)) {
      //document.UpdateForm.ptmas015.value=Sex.substr(0,1);
    }

    if (isWhitespace(Sname)) {
      if (isWhitespace(document.UpdateForm.ptmas005.value)) {
      document.UpdateForm.ptmas005.value="Unknown";
      }
    }
    if (isWhitespace(Gname)) {
      if (isWhitespace(document.UpdateForm.pmpmi084.value)) {
        document.UpdateForm.pmpmi084.value="Unknown";
      }
    }

    if (isWhitespace(Dob)) {
      if (isWhitespace(document.UpdateForm.ptmas017.value)) {
      document.UpdateForm.ptmas017.value="";
      }
    }
    else {
      document.UpdateForm.ptmas017.value=Dob;
    }
  } else {
    location.reload();
  }
}
function chkCancelButton() {
  if(document.getElementById("ptcnepis").value != "1") {  // Episoft ptcnepis
    PatientLinkTo("patweb98.pbl",1,1,0,0);
    return;
  }
  var admisnid = getQueryString('admisnid').replace(/\+/g," ").substring(0,20);
  if (isWhitespace(admisnid)) {
     PatientLinkTo("patweb98.pbl",1,1,0,0);
     return;
  }
  var isSuccess = existingPatient();
  chkeAdmCancel();
}
function existingPatient() {
  var admisnid = getQueryString('admisnid').replace(/\+/g," ").substring(0,20);
  var urn="UNK"
  var xhr = createHttpObject();
  var url = "patweb14.pbl?reportno=07&websrvno=2&urnumber="+urn
            +"&statcode=1&admisnid="+admisnid;
  xhr.open('GET',url,false);
  xhr.send();
  return xhr.responseText;
}
// eAdmission change of health fund
function findHFunddesc() {
  if (!isWhitespace(document.UpdateForm.admisnid.value)) {
     if (document.UpdateForm.ptmas036.value !=
                  document.UpdateForm.d_ptmas036.value ) {
        if (!isWhitespace(document.UpdateForm.ptmas036.value)) {
            if (!validateCode(16,document.UpdateForm.ptmas036,document.UpdateForm.funddesc)) {
                document.UpdateForm.ptmas036.value="";
                document.UpdateForm.funddesc.value="";
            }
            if (!validateHFT(20,UpdateForm.ptmas036,UpdateForm.ptmas037,UpdateForm.funddesc,UpdateForm.tabldesc)) {
                document.UpdateForm.ptmas037.value="";
                document.UpdateForm.tabldesc.value="";
            }
        } else {
          document.UpdateForm.ptmas036.value="";
          document.UpdateForm.funddesc.value="";
       }
     }
  }
}
function displayQuickReg() {

  if (document.UpdateForm.qckreghd.value!='1') {return;}

  QuickRegHeadingDIV.innerHTML=QuickRegHeadingSPAN.innerHTML;
  QuickRegFieldDIV.innerHTML=QuickRegFieldSPAN.innerHTML;

}
function PageInit() {
  setTimeout('portalPMI()',700);
}
function portalPMI() {
  if(document.getElementById("ptcnepis").value == "1") {  // Episoft ptcnepis
    OnlinePreadmission();
    eAdmPreList();
  }
}
</script>
</head>
<body onload="PageLoad(event);SetPostCode01();
              InitPostCodes();setDeathfields();
              turnOnSecondGivenName(document.UpdateForm.ptcnusgn.value,
                                    document.UpdateForm.ptmas006,
                                    document.UpdateForm.pmpmi084,
                                    document.UpdateForm.pmpmi085);
              displayUserDefined();displayQuickReg();
              ChkIdentifyGenderPronounTitle(document.UpdateForm);
              PageInit();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>

<script>
function valPostCode(){
  var suburb = trim("%PATWEB89.01.014");
  if(document.UpdateForm.ptmas010.value==suburb){
     return;
  }
  UpCase(UpdateForm.ptmas010);
  if(trim(UpdateForm.ptmas012.value)!="8888"){
     LookupPostCode(UpdateForm.ptmas010.value);
     checkAdd01();
  }
}
</script>

<div id=PatientMenu></div>
<div id=PageBodySection>

<form name=UpdateForm action=patweb89.pbl method=post
 onsubmit="return validateDeath01(this);">
<input type=hidden name="reportno" value="2">
<input type=hidden name="template" value="002">
<input type=hidden name="updatety" value="4">
<input type=hidden name="urnumber" value="%PATWEB89.01.003">
<input type=hidden name="admissno" value="%PATWEB89.01.081">
<input type=hidden name="praflag" value="0">
<input type=hidden name="redirect" value="%PATWEB89.01.001.patweb98.01.001">
<input type=hidden name="savealia" value="0">
<input type=hidden name="aliasset" value="0">
<input type=hidden name="prevaddr" value="0">
<input type=hidden name="preaddset" value="0">
<input type=hidden name=addchgfl value="0">
<input type=hidden name="oldaddre" value="%PATWEB89.01.014">
<input type=hidden name="dummy" value="">
<input type=hidden name="ptcnhdps" id="ptcnhdps" 
       value="%STANDARD.01.025.080.250.1.1">
<input type=hidden name="ptcnusgn" value="%STANDARD.01.025.114.219.0.1">
<input type=hidden name="ptcnnewc" value="%STANDARD.01.025.118.138.0.1">
<input type=hidden name="oldpcode" value="%PATWEB89.01.016">
<input type=hidden name="d_ptmas061" value="%PATWEB89.01.064">
<input type=hidden name="maxage" value="%PATWEB89.01.092">
<input type=hidden name="chngmade" value="0">
<input type=hidden name=genericu value="%PATWEB89.01.999.044">
<input type=hidden name=qckreghd value="%PATWEB89.01.999.051">
<input type=hidden name=hidsname id=hidsname value="%PATWEB89.01.009">
<input type=hidden name=hidgname id=hidgname value="%PATWEB89.01.010">
<input type=hidden name=updhfund value="">
<input type=hidden name=admhfund value="%PATWEB89.01.114.0">
<input type=hidden name=admhftab value="%PATWEB89.01.115.0">
<input type=hidden name=admnstat value="%PATWEB89.01.199.020">
<input type=hidden name=admninvc value="%PATWEB89.01.950">
<input type=hidden name="ptcnvshf" id="ptcnvshf"
                                 value="%STANDARD.01.025.124.158.0.1">
<input type=hidden name="ptcnsmsn" id="ptcnsmsn"
                                 value="%STANDARD.01.025.120.243.0.1">
<input type=hidden name="ptmsx050" id="ptmsx050" value="%PATWEB89.01.085.066.1">
<input type="hidden" name="ptcnepis" id="ptcnepis"
                                 value="%STANDARD.01.025.119.182.0.1">
<input type=hidden name="admisnid" id=admisnid value="%PATWEB89.01.999.036">
<input type=hidden name="showflag" value="0" />
<input type=hidden name="ptmas049" value="%PATWEB89.01.053" />
<input type=hidden name="ptmas057" value="%PATWEB89.01.061.0" />
<input type=hidden name="ptmas050" value="%PATWEB89.01.054" />
<input type=hidden name="ptmas052" value="%PATWEB89.01.056" />
<input type=hidden name="ptmas053" value="%PATWEB89.01.057" />
<input type=hidden name="ptmas054" value="%PATWEB89.01.058" />
<input type=hidden name="ptmas055" value="%PATWEB89.01.059" />
<input type=hidden name="ptmas056" value="%PATWEB89.01.060" />
<input type=hidden name="pmpmi010" value="%PATWEB89.01.810" />
<input type=hidden name="ptmsx010" value="%PATWEB89.01.611" />
<input type=hidden name="ptmsx018" value="%PATWEB89.01.619" />
<input type=hidden name="ptmsx012" value="%PATWEB89.01.613" />
<input type=hidden name="ptmsx013" value="%PATWEB89.01.614" />
<input type=hidden name="ptmsx014" value="%PATWEB89.01.615" />
<input type=hidden name="ptmsx015" value="%PATWEB89.01.616" />
<input type=hidden name="ptmsx016" value="%PATWEB89.01.617" />
<input type=hidden name="ptmsx017" value="%PATWEB89.01.618" />
<input type=hidden name="pmpmi007" value="%PATWEB89.01.807" />
<input type=hidden name="pmpmi008" value="%PATWEB89.01.808" />
<input type=hidden name="d_cwebDDOB" value="%STANDARD.01.025.101.098.0.8">
<input type=hidden name=prfachkf id=prfachkf value="1">
<input type=hidden name=prfadata id=prfadata value="%PATWEB89.01.999.134">
<input type=hidden name=prfanewa id=prfanewa value="0">
<table border=0 width=100% cellspacing=0 cellpadding=1>
<tbody>
  <tr>
    <td colspan=6 class=HeadingCell align=center>
      Demographic Details 
    </td>
  </tr> 

  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><div id=QuickRegHeadingDIV></div></td>
    <td><div id=QuickRegFieldDIV></div></td>
  </tr>

  <tr>
    <td class=DataLabel>Title</td>
    <td>
      <select title="Patient Title" name=ptmas001 id=ptmas001 tabindex=2>
        <option></option>
        %STANDARD.01.029
      </select>
    </td>
    <td class=DataLabel>Address</td>
    <td>
      <input type=text name=ptmas008 title="Address Line 1" class=Mandatory 
       value="%PATWEB89.01.012" size=25 maxlength=25 
       onchange="checkAdd01();UpCase(this);checkAddressChanged();"
       tabindex=18>
    </td>
    <td class=DataLabel>Home Phone</td>
    <td>
      <input type=text size=23 maxlength=20 name=ptmas013 title="Home Phone No"
        value="%PATWEB89.01.017" tabindex=28 onchange="checkAdd01();">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Surname</td>
    <td>
      <input type=text size=40 name=ptmas005 title="Patient Surname" maxlength=40 
       class=Mandatory value="%PATWEB89.01.009" onchange="UpCase(this);checkAlias01();"
       tabindex=4>
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td>
      <input type=text size=35 maxlength=35 name="ptmas009" title="Address Line 2" 
       value="%PATWEB89.01.013" tabindex=20
       onchange="checkAdd01();UpCase(this);checkAddressChanged();">
    </td>
    <td class=DataLabel>Work Phone</td>
    <td>
      <input type=text size=23 maxlength=20 name=ptmas014 title="Work Phone No"
       value="%PATWEB89.01.018" tabindex=30>
    </td>
  </tr>

  <tr>
    <td class=DataLabel id="givenNameLabel">Given Names</td>
    <td>
      <input type=hidden name=ptmas006 title="Given Name"
       value="%PATWEB89.01.010">
      <input type=text size=42 maxlength=40 title="First Given Name"
       class=Mandatory name=pmpmi084 value="%PATWEB89.01.899.001"
       onchange="UpCase(this);" tabindex=6>
    </td>
    <td class=DataLabel>Suburb</td>
    <td>
      <input type=text size=35 maxlength=35 name=ptmas010 title="Suburb"
       value="%PATWEB89.01.014" class="Mandatory" tabindex=22
       onchange="valPostCode();checkAddressChanged();">
    </td>
    <td class=DataLabel>Mobile Phone</td>
    <td>
      <input type=text maxlength=20 name=ptmsx039 title="Mobile Phone No"
        value="%PATWEB89.01.643" size=23 tabindex=32 class=MobilePhone>
        <span id=DisplaySMS style="display: none">
         Opt-Out SMS
         <input type=checkbox name="d_ptmsx050" id="d_ptmsx050" value=1
          tabindex=32 onclick="checkAdd01();">
        </span>
    </td>
  </tr>

  <tr>
    <td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td>
      <input type=text size=42 maxlength=40 id="secondGivenName" name=pmpmi085
       title="Second Given Name" value="%PATWEB89.01.899.002" tabindex=8
       onchange="checkAlias01();UpCase(this);">
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td>
      <input type=text size=35 maxlength=35 name=ptmas011 title="Address Line 4" 
       value="%PATWEB89.01.015" tabindex=24
       onchange="checkAdd01();UpCase(this);checkAddressChanged();">
    </td>
    <td class=DataLabel>E-Mail</td>
    <td>
      <input type=text size=23 maxlength=80 name=pmpmi005 title="E-Mail" 
       value="%PATWEB89.01.805" tabindex=34>
    </td>
  </tr>

  <tr>
    <td class=DataLabel>%STANDARD.01.017.G </td>
    <td>
      <select name="ptmas015" class=Mandatory 
       tabindex=10 title="%STANDARD.01.017.G "
       onchange="ChkIdentifyGenderPronounTitle(document.UpdateForm);
                 checkAlias01()">
        <option></option>
        %PATWEB89.01.086.099.061.9.1.19.3.H
      </select>
    </td>
    <td class=DataLabel>Post Code</td>
    <td>
      <input type=text size=4 maxlength=4 name=ptmas012 title="Post Code"
       class=Mandatory value="%PATWEB89.01.016" tabindex=25
       onchange="LookupSuburb(ptmas012.value);checkAddressChanged();">
    </td>
    <td>&nbsp;</td>
  </tr>

  <tr>
    <td class=DataLabel>Date of Birth</td>
    <td>
      <input type=text size=12 name=ptmas017 title="Date of Birth"
       value="%PATWEB89.01.020" class="Mandatory PastDate" tabindex=12
       onblur="checkAlias01();checkDate(this,this.title);
       checkAge(this.value,'%PATWEB89.01.092');">
    </td>     
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>

  <tr>
    <td class=DataLabel>Estimated DOB</td>
    <td>
      <input type=checkbox name="" title="Estimated DOB" tabindex=13>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>

  <tr>
    <td class=DataLabel>Preferred Given Names</td>
    <td>
      <input type=text size="25" maxlength=25 name="pmpmi083" title="Preferred Given Names" 
       value="%PATWEB89.01.898" tabindex=14 onchange="UpCase(this);">
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>

<tr id=GenderExtra>
  <td><div id=IdenGenLbl></div></td>
  <td><div id=IdenGenDetail></div></td>
  <td><div id=IdenProLbl></div></td>
  <td><div id=IdenProDetail></div></td>
</tr>

  <tr>
    <td colspan=6 class=HeadingCell align=center>
      PMI Details 
    </td>
  </tr> 

  <tr>
    <td class=DataLabel>Marital Status</td>
    <td>
      <select name=ptmas016 class="select120 Mandatory" title="Marital Status"
       tabindex=40>
        <option></option>
         %PATWEB89.01.069.2
      </select>
    </td>
    <td class=DataLabel>Medicare Number</td>
    <td>
      <input type=text size=10 maxlength=50 name=ptmas023 id=ptmas023 
       title="Medicare Number" value="%PATWEB89.01.027" tabindex=54
       onblur="checkMedicare(ptmas023,pmpmi016);">
      <input type=text size=3 maxlength=2 name=ptmsx045 id=ptmsx045 tabindex=56
     title="Medicare IRN" value="%PATWEB89.01.649" onblur="checkIRN(ptmsx045);">
    </td>

    <td class=DataLabel>Local GP</td>
    <td>
      <input type=hidden name=pmpmi059 id=pmpmi059 value="%PATWEB89.01.884.001"
       title="Local GP">
      <input type=text readonly name=genpname id=genpname value="%PATWEB89.01.884.081" tabindex=-1>
      <img src="../images/SearchIcon.gif" class=Icon tabindex=68
       onclick="GPHCPSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,genpprac,pmpmi061,3)">
      <img src="../images/erase.gif" class=Icon 
       onclick="clrFields(pmpmi059,genpname);">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Religion</td>
    <td>
      <select name=ptmas020 class="select120" title="Religion" tabindex=42>
        <option></option>
        %PATWEB89.01.023.2
      </select>
    </td>

    <td class=DataLabel>Valid to</td>
    <td>
      <input type=text size=12 name=pmpmi016 id=pmpmi016 title="Valid to" 
       tabindex=58 value="%PATWEB89.01.816" 
       onblur="checkDateSV(this,'Valid to');">
      <img src="../images/erase.gif" class=Icon onclick="clrFields(pmpmi016);">
    </td>
    <td class=DataLabel>Practice</td>
    <td>
      <input type=hidden name=pmpmi060 id=pmpmi060 value="%PATWEB89.01.885.001"
       title="Local GP Practice">
      <input type=hidden name=pmpmi061 id=pmpmi061 value="%PATWEB89.01.861">
      <input type=hidden name=genpprov id=genpprov value="">
      <input type=text readonly name=genpprac id=genpprac 
       value="%PATWEB89.01.885.005" tabindex=-1>
      <img src="../images/SearchIcon.gif" class=Icon tabindex=68
       onclick="GPHCGSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                 genpprac,pmpmi061)">
      <img src="../images/erase.gif" class=Icon
       onclick="clrFields(pmpmi060,genpprac,pmpmi061,genpprov);">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Country of Birth</td>
    <td>
      <select name="ptmas019" class="select120 Mandatory" title="Country of Birth"
       tabindex=44>
        <option></option>
      </select>
    </td>

    <script type="text/javascript"> 
     SetCategoryC_(document.UpdateForm.ptmas019,"%PATWEB89.01.022.1") 
    </script>

    <td class=DataLabel>Usual PRFA</td>
    <td><div id=PRFAField></div></td>
    <td class=DataLabel>Privacy Indicator</td>
    <td>
      <select name=pmpmi066 class=select120 tabindex=68
       title="Privacy Indicator">
        <option></option>
         %PATWEB89.01.866.2
      </select>
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Resident</td>
    <td>
      <select name=ptmas021 class=Mandatory title="Resident" tabindex=46>
        <option></option>
        %PATWEB89.01.024.2
      </select>
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Folder Selection</td>
    <td>
      <select name=pmpmi077 title="Folder Selection" tabindex=70>
        <option></option>
        %PATWEB89.01.879.2
      </select>
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Indigenous Status</td>
    <td>
      <select name=pmpmi065 class="select120 Mandatory" title="Indigenous Status"
       tabindex=48>
        <option></option>
         %PATWEB89.01.865.2
      </select>
    </td>
    <td class=DataLabel>Safety Net Number</td>
    <td>
      <input type=text size=12 maxlength=10 name=pmpmi075 tabindex=62
       value="%PATWEB89.01.875" title="Safety Net Number">
    </td>
    <td class=DataLabel>Health Fund</td>
    <td>
      <input type=text size=6 maxlength=6 name=ptmas036 id=ptmas036 
       title="Health Fund" value="%PATWEB89.01.040.0" tabindex=72
       onchange="validateCode(16,ptmas036,funddesc);checkTable();">
      <input type=text size=25 maxlength=30 name=funddesc id=funddesc 
       class=readonly Readonly notab value="%PATWEB89.01.040.1" tabindex=-1>
      &nbsp;Alias&nbsp;
      <input type=checkbox name=fndalias title="Health Fund Alias"
       value="1" notab onclick="ShowFundAlias(UpdateForm);">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Interpreter Required</td>
    <td>
      <select title="Interpreter Required" name=pmpmi001 tabindex=50>
        %PATWEB89.01.801.2
      </select>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Level</td>
    <td>
      <input name="ptmas037" id=ptmas037 maxlength=8 size=8 tabindex=73
       value="%PATWEB89.01.041.0" title=Level
       onblur="validateHFT(20,ptmas036,ptmas037,funddesc,tabldesc);">
      <input type="text" size=15 maxlength=17 name="tabldesc" id=tabldesc
       class=readonly Readonly notab value="%PATWEB89.01.041.1" tabindex=-1>
      <img src="../images/SearchIcon.gif" class=Icon
       onclick="HealthFundSearchFrame(ptmas036,funddesc,ptmas037,tabldesc);">
      <img src="../images/erase.gif" class=Icon onclick="clrDoc(ptmas036,
       ptmas037);clrDoc(funddesc,tabldesc);checkTable();">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>Pref Language 1</td>
    <td>
      <select name=pmpmi002 class="select120 Mandatory" title="Preferred Language"
       tabindex=52>
        <option></option>
        %PATWEB89.01.802.2
      </select>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Member Number</td>
    <td>
      <input type=text size=20 maxlength=19 name=ptmas038
       value="%PATWEB89.01.042" title="Member Number"
       tabindex=74>
    </td>
  </tr>
</tbody>

<tbody id="HealthFundAlias" style="display: none">
  <tr>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Health Fund Surname</td>
    <td>
      <input type=text size=42 maxlength=40 onblur="UpCase(this)" name=pmpmi087
       title="Health Fund Surname" tabindex=76 value="%PATWEB89.01.899.004">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Health Fund Given Name</td>
    <td>
      <input type=text size=42 maxlength=40 onblur="UpCase(this)" name=pmpmi086
       title="Health Fund Surname" tabindex=78 value="%PATWEB89.01.899.003">
    </td>
  </tr>

  <tr>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Health Fund UPI</td>
    <td>
      <input type=text size=3 maxlength=2 title="Health Fund UPI" class="Number"
       name=pmpmi088 tabindex=80 value="%PATWEB89.01.899.005">
    </td>
  </tr>
</tbody>

<tr>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td><div id=P1HeadingDIV></div></td>
   <td><div id=P1FieldDIV></div></td>
</tr>

<tr>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td><div id=P2HeadingDIV></div></td>
   <td><div id=P2FieldDIV></div></td>
</tr>

<tbody>
  <tr>
    <td colspan=6 class=HeadingCell align=center>Death Details</td>
  </tr> 

  <tr>
    <td class=DataLabel>Date of Death</td>
    <td>
      <input type=hidden name=ptmas029>
      <input type=text size=12 name=ptmas061 id=ptmas061 class=Date
       value="%PATWEB89.01.064" tabindex=90 title="Date of Death"
       onblur="confirmDeath(this,'Date of Death')">
      <img notab src="../images/DateLookup.gif" class=Icon tabindex=-1
       onclick="DateLookupFrame(ptmas061);">
    </td>
    <td class=DataLabel>Unknown Date of Death</td>
    <td>
      <input type=checkbox name=ptmas067 id=ptmas067 value="Y"
       title="Unknown Date of Death"
       onclick="confirmUnknownDeath();" tabindex=92>
    </td>
    <td class=DataLabel>Death Notification</td>
    <td>
      <select name=pmpmi017 id=pmpmi017 class=select120
       title="Death Notification" tabindex=94 onchange="CheckUser();">
        <option></option>
        %PATWEB89.01.817.2
      </select>
    </td>
  </tr>

  <tr>
    <td colspan=6 class=HeadingCell align=center>
      <script type="text/javascript">URDesc();</script> Comments</td>
  </tr>

  <tr><td valign=top>
     <input type=button value="Add Comments" class="button" tabindex=96
      name="AddComm" id="AddComm"
      onclick="tempDisable(this);AddURComment();"></td>
    <td colspan=4><textarea wrap=hard name=urcommna class=Readonly readonly
         rows=4 cols=70>%PATWEB89.01.068.005</textarea>
    </td>
  </tr>

  <tr><td>&nbsp;</td></tr>

  <tr>
    <td colspan=6 align=center>
      <input type=button value="Update" class="button" id=pat89sub tabindex=100
       onclick="tempDisable(this);VerifyChanges();clickUpdateButton();">
      <input type=button class="button" name="aliasbut" value="Alias" tabindex=101
       onclick='PatientLinkTo("patweb89.pbl",6,1,1,550,300);'>
      <input type=button class="button" name="alternatebut" tabindex=102
       value="Alternate ID" onclick='PatientLinkTo("patweb07.pbl",1,1,1,550,300);'>
      <input type=button class="button" name="linksbut" value="Links" tabindex=103
       onclick='PatientLinkTo("patweb96.pbl",2,1,1,780,600);'>
      <input type=button class="Bigbutton" name="emergbut" style="width:110px"
       value="Emerge Contact" onclick="contacts()" tabindex=104>
      <input type=button class="button" name="preadbut" value="Prev Address"
       onclick='PatientLinkTo("patweb98.pbl",1,38,1,900,400);' tabindex=105>
      <input type=button class="button" name="certibut" value="Certificates"
       onclick='PatientLinkTo("hosweb01.pbl",4,1,1,900,400);' tabindex=106>
      <input type=button class="Bigbutton" name="concebut" style="width:110px"
       value="Concession Card" onclick="concession();" tabindex=107>
      <input type=button class="button"  value="BMI" name=bmibuttn tabindex=108
       onclick='PatientLinkTo("patweb07.pbl",17,1,1,700,400);'>
      <input type=button class="button"  value="Cancel" tabindex=109
       onclick='chkCancelButton();'>
    </td>
  </tr>
</tbody>
</table>
</form>

<div id=SelectHeading></div>
<div id=SelectLocation></div>
</div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>

<span id=UsualPRFARow style="display:none">
    <select name=pmpmi076 id=pmpmi076 class=select120 tabindex=60
         title="Usual PRFA" id="ContactNames">
        <option></option>
        <option value="0">Patient</option>
        <option value="1">Contact 1</option>
        <option value="2">Contact 2</option>
        <option value="3">Contact 3</option>
        <option value="4">Contact 4</option>
        <option value="5">Contact 5</option>
        <option value="6">Contact 6</option>
        <option value="7">Postal</option>
        </select>
</span>

<span id=CodePRFARow style="display:none">
    <select name=pmpmi104 id=pmpmi104 class=select120 tabindex=60
        title="Usual PRFA" id="ContactFields">
        <option></option>
        %PATWEB89.01.899.040.2
    </select>
</span>

<script type="text/javascript">

if(document.UpdateForm.urnumber.value.substring(0,1)=="T") {
   document.UpdateForm.ptmas021.className="";
}
//
function init() {

  if("%PATWEB89.01.033" == "Yes") {
     alert("Warning: Patient is Deceased");
  }
  if("%PATWEB89.01.091" == "1") {
     alert("Warning: Invalid permissible age");
  }
//
  for(var i=0; i<document.UpdateForm.ptmas001.length; i++) {
      if(document.UpdateForm.ptmas001.options[i].value=="%PATWEB89.01.005.0"){
         document.UpdateForm.ptmas001.selectedIndex=i;
      }
  }
//
/*
  if (document.UpdateForm.ptcnhdps.value=="3") {
    intersexoption = document.createElement("option");
    intersexoption.text = "Other";
    intersexoption.value = "R";
    document.UpdateForm.ptmas015.add(intersexoption);
  } else {
    intersexoption = document.createElement("option");
    intersexoption.text = "Intersex";
    intersexoption.value = "R";
    document.UpdateForm.ptmas015.add(intersexoption);
  }

  PatientSex="%PATWEB89.01.086.082";
  for(var i =0 ; i<document.UpdateForm.ptmas015.length; i++) {
      if(document.UpdateForm.ptmas015.options[i].value==PatientSex.substr(0,1)) {
         document.UpdateForm.ptmas015.selectedIndex=i;
      }
  }
*/
//
 if (document.UpdateForm.ptcnnewc.value=='1') {
   PRFAField.innerHTML=CodePRFARow.innerHTML;
 }else{
   PRFAField.innerHTML=UsualPRFARow.innerHTML;
   PRAContact="%PATWEB89.01.880"
    for (var i =0 ; i < document.UpdateForm.pmpmi076.length; i++) {
     if (document.UpdateForm.pmpmi076.options[i].value==PRAContact) {
          document.UpdateForm.pmpmi076.selectedIndex=i } };
 }
//
  AltIDIndicator="%PATWEB89.01.086.083";
  if(AltIDIndicator =="1") {
     document.UpdateForm.alternatebut.className="RedButton";
  }
//
  AliasIndicator="%PATWEB89.01.093";
  if(AliasIndicator =="1") {
     document.UpdateForm.aliasbut.className="RedButton";
  }
//
  LinksIndicator="%PATWEB89.01.094";
  if(LinksIndicator =="1") {
     document.UpdateForm.linksbut.className="RedButton";
  }
//
  PreAddIndicator="%PATWEB89.01.095";
  if(PreAddIndicator =="1") {
     document.UpdateForm.preadbut.className="RedButton";
  }
//
  EmergeIndicator="%PATWEB89.01.096";
  if(EmergeIndicator =="1") {
     document.UpdateForm.emergbut.className="RedButton";
  }
//
  CertificIndicator="%PATWEB89.01.948";
  if(CertificIndicator =="1") {
     document.UpdateForm.certibut.className="RedButton";
  }
//
  ConcessIndicator="%PATWEB89.01.934";
  if(ConcessIndicator != "0") {
     document.UpdateForm.concebut.className="RedButton";
  }
//
  BMIIndicator="%PATWEB89.01.999. 43";
  if(BMIIndicator =="1") {
     document.UpdateForm.bmibuttn.className="RedButton";
  }
//
  praflag="0"
  DateofDeath="%PATWEB89.01.064"
  if(!isWhitespace(DateofDeath)){
     document.UpdateForm.ptmas067.checked=false;
     document.UpdateForm.ptmas067.disabled=true;
     document.UpdateForm.pmpmi017.disabled=false;
  }
  UnknownDDeath="%PATWEB89.01.079.0";
  if(UnknownDDeath == "Y") {
     document.UpdateForm.ptmas067.checked=1;
     document.UpdateForm.pmpmi017.className="Mandatory";
     document.UpdateForm.pmpmi017.disabled=false;
  }
  if(UnknownDDeath=="N") {
     if(isWhitespace(DateofDeath)){
        document.UpdateForm.pmpmi017.disabled=true;
     }
  }

  if(!isWhitespace("%PATWEB89.01.899.003")||
     !isWhitespace("%PATWEB89.01.899.004") ||
     !isWhitespace("%PATWEB89.01.899.005")) {
     document.UpdateForm.fndalias.checked=true;
     ShowFundAlias(UpdateForm);
  }
  ShowOptOutSMS();
}

function contacts() {
 if (document.UpdateForm.ptcnnewc.value=='1') {
   location.href='patweb07.pbl?reportno=06&template=004&urnumber='+
                 '%PATWEB89.01.003&admissno=%PATWEB89.01.081&othrcont=0'
 } else {
   location.href='patweb89.pbl?reportno=01&template=022&urnumber='+
                 '%PATWEB89.01.003&admissno=%PATWEB89.01.081&othrcont=0'
 }
}

function concession() {
  location.href='patweb07.pbl?reportno=04&template=004&urnumber=%PATWEB89.01.003&admissno=%PATWEB89.01.081'
}

// Set Field titles for eAdmission
  document.UpdateForm.ptmas049.title=ContactName1+" Name";
  document.UpdateForm.ptmas057.title=ContactName1+" Relation";
  document.UpdateForm.ptmas050.title=ContactName1+" Address";
  document.UpdateForm.ptmas052.title=ContactName1+" Suburb";
  document.UpdateForm.ptmas053.title=ContactName1+" State";
  document.UpdateForm.ptmas054.title=ContactName1+" Post Code";
  document.UpdateForm.ptmas055.title=ContactName1+" Home Phone";
  document.UpdateForm.ptmas056.title=ContactName1+" Work Phone";
  document.UpdateForm.pmpmi010.title=ContactName1+" Mobile";
  document.UpdateForm.ptmsx010.title=ContactName2+" Name";
  document.UpdateForm.ptmsx018.title=ContactName2+" Relation";
  document.UpdateForm.ptmsx012.title=ContactName2+" Address";
  document.UpdateForm.ptmsx013.title=ContactName2+" Suburb";
  document.UpdateForm.ptmsx014.title=ContactName2+" State";
  document.UpdateForm.ptmsx015.title=ContactName2+" Post Code";
  document.UpdateForm.ptmsx016.title=ContactName2+" Home Phone";
  document.UpdateForm.ptmsx017.title=ContactName2+" Work Phone";
  document.UpdateForm.pmpmi007.title=ContactName2+" Mobile";
  document.UpdateForm.pmpmi008.title=ContactName2+" Email";

  if (document.UpdateForm.ptcnnewc.value=='1') {
    document.UpdateForm.ptmas049.className="IgnoreOldContacts";
    document.UpdateForm.ptmas057.className="IgnoreOldContacts";
    document.UpdateForm.ptmas050.className="IgnoreOldContacts";
    document.UpdateForm.ptmas052.className="IgnoreOldContacts";
    document.UpdateForm.ptmas053.className="IgnoreOldContacts";
    document.UpdateForm.ptmas054.className="IgnoreOldContacts";
    document.UpdateForm.ptmas055.className="IgnoreOldContacts";
    document.UpdateForm.ptmas056.className="IgnoreOldContacts";
    document.UpdateForm.pmpmi010.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx010.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx018.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx012.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx013.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx014.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx015.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx016.className="IgnoreOldContacts";
    document.UpdateForm.ptmsx017.className="IgnoreOldContacts";
    document.UpdateForm.pmpmi007.className="IgnoreOldContacts";
    document.UpdateForm.pmpmi008.className="IgnoreOldContacts";
  }
</script>

<span id=AustStateH style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
<td class=DataLabel>&nbsp;</td>
</table>
</span>

<span id=AustState style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
  <td>
    <input type=text size=35 maxlength=35 name=ptmas011 id=ptmas011 
     title="Address Line 4" value="%PATWEB89.01.015" 
     onchange="checkAdd01();UpCase(this);checkAddressChanged();">
  </td>
</table>
</span>

<span id=OseasCountryH style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
  <td class=DataLabel>Country</td>
</table>
</span>

<span id=OseasCountry style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
<td>
  <select name="ptmas011" id=ptmas011 class="select120 Mandatory" 
   title="Country Address">
    <option></option>
    %PATWEB89.01.085.060
  </select>
</td>
</table>
</span>

<span id=userpassw style="display:none">
<input type=text size=12 name=username id=username class=Mandatory 
 title="User ID">
<input type=password size =12 name=password id=password class=Mandatory 
 title="Password" onblur="GenericPass();">
</span>

<span id=P1HeadingSPAN style="display:none">
  %STANDARD.01.017.P1
</span>

<span id=P1FieldSPAN style="display:none">
  <select title="%STANDARD.01.017.P1" name=ptmas039 id=ptmas039 tabindex=80>
     <option></option>
     %PATWEB89.01.043.2
  </select>
</span>

<span id=P2HeadingSPAN style="display:none">
%STANDARD.01.017.P2
</span>

<span id=P2FieldSPAN style="display:none">
  <select title="%STANDARD.01.017.P2" name=ptmas040 id=ptmas040 tabindex=80>
     <option></option>
     %PATWEB89.01.044.2
  </select>
</span>

<span id=QuickRegHeadingSPAN style="display:none">
<font color=red> QUICK REGISTRATION </font>
</span>

<span id=QuickRegFieldSPAN style="display:none">
<input type=checkbox name=quickreg id=quickreg tabindex=-1 value="1" 
 onclick='clrMandatory(hidsname,hidgname,"%PATWEB89.01.019","%PATWEB89.01.020");'>
</span>

<span id=idenGenLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gi</td>
</span>
<span id=idenGenDetailShow style="display:none">
  <td><select name=pmpmi125 id=pmpmi125 class=Mandatory tabindex=15
       title="%STANDARD.01.035.Gi"
       onchange="IdenGenderChange(document.UpdateForm);">
      <option></option>
       %PATWEB89.01.086.099.063.9.2
      </select><br>
      <span id=IdenGenFreeTxt></span>
  </td>
</span>
<span id=idenGenDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi125 value=""></td>
  <td><input type=hidden name=pmpmi126 value=""></td>
</span>
<span id=idenGenFreeTxtShow style="display:none">
  <input type=text name=pmpmi126 id=pmpmi126 size=80 maxlength=80
   class=Mandatory tabindex=15
   title="Identifying Gender Free Text"
   value="%PATWEB89.01.086.099.065">
</span>
<span id=idenGenFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>

<span id=idenProLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gp</td>
</span>
<span id=idenProDetailShow style="display:none">
  <td><select name=pmpmi127 id=pmpmi127 class=Mandatory tabindex=26
       title="%STANDARD.01.035.Gp"
       onchange="IdenPronounChange(document.UpdateForm);">
      <option></option>
       %PATWEB89.01.086.099.064.9.2
      </select><br>
      <span id=IdenProFreeTxt></span>
  </td>
</span>
<span id=idenProDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi127 value=""></td>
  <td><input type=hidden name=pmpmi128 value=""></td>
</span>
<span id=idenProFreeTxtShow style="display:none">
  <input type=text name=pmpmi128 id=pmpmi128 size=80 maxlength=80
   class=Mandatory tabindex=26
   title="Identifying Pronoun Free Text"
   value="%PATWEB89.01.086.099.066">
</span>
<span id=idenProFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>

