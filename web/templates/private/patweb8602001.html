<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="private">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/patweb86.js></script>
<script type="text/javascript" src=../js/TableSort.js></script>
<script type="text/javascript">
// ------------------------------------------------------------
// Columns Available
//  0 - HTML Link    
//  1 - Patient Name
//  2 - UR          
//  3 - Adm No          
//  4 - Adm Date
//  5 - Discharge Date
//  6 - Discharge Unit
//  7 - Discharge Ward
//  8 - LOS
//  9 - MR Location
// 10 - Terminal Digit UR
// 11 - Deceased & Alert Indicators
// 12 - Adm Date (ccyymmdd)
// 13 - Doctors Name
// 14 - Fund (code)
// 15 - Alert Link
// 16 - Alert Icon   
// 17 - Patient Folder image
// 18 - Theatre Complete
// ------------------------------------------------------------
function InitTable(TableView) {
switch (TableView) {
case 0: {
 t = new Table(1,0,1,"100%","center");
 t.addColumn("Patient","ImageText",1,1,"left","PatientFolder","0",180,"17")
 t.addColumn("Alerts","String",16,16,"left","","15",60)
 t.addColumn("UR No.","String",2,10,"center","","",50)
//
 if(document.SelectPeriod.mrcnepsc.value=="1") {
   t.addColumn("Adm. No.","String",24,24,"center","","",50)
 } else {
   t.addColumn("Adm. No.","String",3,3,"center","","",50)
 }
 if(document.SelectPeriod.mrcnepsc.value=="1") {
   t.addColumn("Care Type","String",25,25,"center","","",70)
   t.addColumn("Admission Date","String",20,21,"center","","",70)
   t.addColumn("Discharge Date","String",22,23,"center","","",70)
 } else {
   t.addColumn("Admission Date","String",4,12,"center","","",70)
   t.addColumn("Discharge Date","String",5,5,"center","","",70)
 }
 t.addColumn("Disc. Unit","String",6,6,"center","","",40)
 t.addColumn("Disc. Ward","String",7,7,"center","","",40)
 t.addColumn("Length of Stay","String",8,8,"center","","",40)
 t.addColumn("Current Location","String",9,9,"left","","",90)
 t.addColumn("Theatre Complete","String",18,18,"center","","",40)
 AddTableRows()
 TableOutput(2,1);    // Order Column,Asc Dsc
 break;
 }
 }
}
function SelectDateFrame() { //This is a customised version for this template!!
  DFrameStart()
  document.getElementById('PopUpFrame').src="../lookups/SelectDateFrame.html"
  if (document.all.PatientMenu == undefined) {
    PopUpScreen.style.top=document.body.scrollTop+70 
    PopUpScreen.style.left=document.body.clientWidth-205
  }
  PopUpScreen.style.width=205
  PopUpScreen.style.height=245
  PopUpScreen.style.display=""
}
function formatHealthFund() {
  if (!isWhitespace(SelectPeriod.fgrpcode.value))
  {
    SelectPeriod.fundcode.value='';
    SelectPeriod.funddesc.value='';
    SelectPeriod.fundcode.disabled=true;
    SelectPeriod.SearchIconGIF.disabled=true;
  }else{
    SelectPeriod.fundcode.disabled=false;
    SelectPeriod.SearchIconGIF.disabled=false;
  }
}
function formatHealthFundGroup() {
  if (!isWhitespace(SelectPeriod.fundcode.value))
  {
    SelectPeriod.fgrpcode.selectedIndex=0;
    SelectPeriod.fgrpcode.disabled=true;
  }else{
    SelectPeriod.fgrpcode.disabled=false;
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0);formatHealthFund();
              formatHealthFundGroup();sortMrtLocation(mrlocncd);">
<div id=HeadingSection>
 <form name=SelectPeriod action=patweb86.pbl method=get style="margin:0"
   onsubmit="return validateMandatory(this)">
 <input type=hidden name=reportno value=2>
 <input type=hidden name=template value=1>
 <input type=hidden name=viewtype value="%PATWEB86.02.010">
 <input type=hidden name=uncodkey value="">
 <input type=hidden name=dummy1 value="  ">
 <input type=hidden name=dummy2 value="  ">
 <input type=hidden name=dummy3 value="  ">
 <input type=hidden name=dummy4 value="  ">
 <input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
 <input type=hidden name=mrcnepsc value="%STANDARD.01.025.060.133.1.1">
<table cellpadding=1 cellspacing=1 bgcolor=#CCCCCC border=1 width=100%>
<tr><td>
 <table cellpadding=0 cellspacing=0 bgcolor=#CCCCCC border=0 width=100%>
<tr><td colspan=2><input type=button value="<<" class=smallbutton
    onclick='%PATWEB86.02.003'>
    %PATWEB86.02.001
    <input type=button value=">>" class=smallbutton
    onclick='%PATWEB86.02.002'></td>

  <td colspan=2 class=DataLabel>Health Fund
      <input type=text size=6 name=fundcode id=fundcode maxlength=6
      title="Health Fund" tabindex=2 value="%PATWEB86.02.017.0"
      onblur="valHfund(fundcode,funddesc);" onchange="formatHealthFundGroup();">
     <input type=text size=30 name=funddesc id=funddesc
      title="Health Fund" readonly
      class=Readonly notab tabindex=-1 value="%PATWEB86.02.017.1">
     <img src=../images/SearchIcon.gif border=0 hspace=0 align=absmiddle notab
      onclick="HealthFundSearchFrame1(fundcode,funddesc,dummy1,dummy2,
                                      dummy3,dummy4,formatHealthFundGroup);"
      id="SearchIconGIF">
     <img src="../images/erase.gif" align=absmiddle notab
      onclick="clrFields(fundcode,funddesc);formatHealthFundGroup();">
    <span id=NextPage><span>
    </td>

   <td class=DataLabel>Health Fund Group</td>
   <td>
     <select name=fgrpcode id=fgrpcode class=SelectLarge
      onchange="formatHealthFund();">
       <option value="      ">All</option>
       %PATWEB86.02.020
     </select>
   </td>
   <td></td>

   <td align=right>
   <a href='javascript:SelectDateFrame();'>
   <img src="../images/DateLookup.gif" border=0
    alt="Select Date" align=absmiddle></a> 
   <a href='javascript:SelectView("0");'>
   <img src=../images/DayIcon.gif border=0
    alt="View Today" align=absmiddle></a>
   <a href='javascript:SelectView("1");'>
   <img src=../images/WeekIcon.gif border=0
    alt="View This Week" align=absmiddle></a>
   <a href='javascript:SelectView("2");'>
   <img src=../images/MonthIcon.gif border=0
    alt="View This Month" align=absmiddle></a>
   </td></tr>
<tr><td class=DataLabel> Unit  <br>
    <select name=unitcode id=unitcode class=SelectMed>
    <option value="   ">All</option>
    %PATWEB86.02.011
    </select></td>
    <td class=DataLabel> %STANDARD.01.017.CL <br>
    <select name=claimcod id=claimcod class=SelectMed>
    <option value="   ">All</option>
    %PATWEB86.02.012
    </select></td>
    <td class=DataLabel> Adm.Type <br>      
    <select name=admistyp id=admistyp class=SelectMed>
    <option value="   ">All</option>
    %PATWEB86.02.013
    </select></td>
    <td class=DataLabel> M/R Location <br>     
    <select name=mrlocncd id=mrlocncd class=SelectMed>
    <option value="   ">All</option>
    %PATWEB86.02.015
    </select></td>      
    <td class=DataLabel>&nbsp;Ward<br>
    <select name=wardcode id=wardcode class=SelectMed>
    <option value="   ">All</option>
    %PATWEB86.02.014
    </select></td>
   <td class=DataLabel>Option<br>
    <select name=curradmn id=curradmn class="Mandatory SelectMed"
     title="Option">
    %PATWEB86.02.016
    </select></td>
    <td></td>
    <td align=right>&nbsp;
    <br><input type=submit value="Go" class=SmallButton></td></tr>
</table>
</td></tr>
</table>
</form>
</div>
<div id=TableLocation></div>
<script type="text/javascript">
function AddTableRows() {
 if(document.SelectPeriod.mrcnepsc.value=="1") {
    document.title="Uncoded Discharges and Episodes";
 } else {
    document.title="Uncoded Discharges";
 }
 %PATWEB86.02.007.mrtweb02.01.001.mrtweb02.03.001.0
}
function PatientAlerts(urnumber,admissno) {
  linkurl="patweb98.pbl?reportno=1&template=003" +
          "&urnumber=" + urnumber + "&admissno=" + admissno
  location.href=linkurl
}
</script>

