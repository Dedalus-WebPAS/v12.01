<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome"    content="cab">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/IBA_Category_LA.js"></script>
<script type="text/javascript" src="../js/IBA_Category_C_.js"></script>
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/patweb89.js"></script>
<script type="text/javascript" src="../js/patweb69.js"></script>
<script type="text/javascript" src="../js/AddressSearch.js"></script>
%START.OF.PAGE
<script type="text/javascript">
function MediMandfield() {
  if(document.AddForm.medicard.value=="1") {
    document.AddForm.ptmas023.className="Mandatory";
    document.AddForm.ptmsx045.className="Mandatory";
    document.AddForm.pmpmi016.className="Mandatory";
  } else {
    document.AddForm.ptmas023.value="";
    document.AddForm.ptmsx045.value="";
    document.AddForm.pmpmi016.value="";
    document.AddForm.ptmas023.className="";
    document.AddForm.ptmsx045.className="";
    document.AddForm.pmpmi016.className="";
  }
}
function checkNames()
{
  var str = document.AddForm.ptmas006.value;
  document.AddForm.ptmas006.value = str.replace(/^\s+|\s+$/g,'');
  str = document.AddForm.pmpmi084.value;
  document.AddForm.pmpmi084.value = str.replace(/^\s+|\s+$/g,'');

  checkSecondName(document.AddForm.ptcnusgn,
                   document.AddForm.ptmas006,document.AddForm.pmpmi084,
                   document.AddForm.pmpmi085);
}
function valPostCode(){
  if (document.AddForm.quickreg.checked==true
      && isWhitespace(AddForm.ptmas010.value)) return;
  UpCase(AddForm.ptmas010);
  if(trim(AddForm.ptmas012.value)!="8888"){
    LookupPostCode(AddForm.ptmas010.value);}
}
function clrMandatory(Sname,Gname,Sex,Dob) {
  if (document.AddForm.quickreg.checked) {
    if (document.getElementById('ptcnuadv').value == "1") {
      ToggleSearchAddressFields(false);  // not readonly
    }
    for (i=0; i<document.AddForm.elements.length; i++) {
      el=document.AddForm.elements[i];
      if (el.className.match(/Mandatory/)) {
        if (el.className.match(/MobilePhnospaces/)) {
          el.className="MobilePhnospaces";
        }
        else {
          if (el.className.match(/Phonenumnospaces/)) {
            el.className="Phonenumnospaces";
          }
          else if (el.name != "ptmas015") {
            el.className="";
          }
        }
      }
    }
    if (isWhitespace(document.AddForm.ptmas017.value)){
      checkDefDOB(document.AddForm.ptmas017,document.AddForm.d_cwebDDOB);  
      document.AddForm.ptmas017.focus();
      document.AddForm.ptmas017.blur();
      document.AddForm.ptmas017.className="Mandatory PastDate";
    }

    if (!isWhitespace(Sex)) {
      //document.AddForm.ptmas015.value=Sex.substr(0,1);
    }

    if (isWhitespace(Sname)) {
      if (isWhitespace(document.AddForm.ptmas005.value)) {
      document.AddForm.ptmas005.value="Unknown";
      }
    }  
    if (isWhitespace(Gname)) {
      if (isWhitespace(document.AddForm.ptmas006.value)) {
      document.AddForm.ptmas006.value="Unknown";
      }  
    }

    if (isWhitespace(Dob)) {
      if (isWhitespace(document.AddForm.ptmas017.value)) {
      document.AddForm.ptmas017.value="";
      }
    }  
    else {
      document.AddForm.ptmas017.value=Dob;
    }
  } else {
    location.reload();
  }
}
function init() {
  SetPostCode05();
  InitPostCodes();
  SetCategoryC_(document.AddForm.ptmas019,"","1");
  SetCategoryLA(document.AddForm.pmpmi002,"","1");
  if(top.content.PatientLinks!=undefined){
    document.AddForm.admissno.value=top.content.PatientLinks.admissno.value
    document.PatientLinks.admissno.value=top.content.PatientLinks.admissno.value
  }
  if ( HiddenFields.cgenrur.value == "0" ) {
    URField.innerHTML=URFieldRow.innerHTML; }
  else{
    document.AddForm.ptmas001.focus(); }
  MandatoryGP();

  //Checks to see if the cab value has been set, and if so displays cab inputs
  ptcnsspf = "%STANDARD.01.025.128.229.1.1";

  if (ptcnsspf == "1") {
    displayCabFields(false);
  } else {
    document.AddForm.d_ptmas046.className="select120";
  }

//T0879283-start
  DisplayFieldsHEA();
  turnOnSecondGivenName(document.AddForm.ptcnusgn.value,
                        document.AddForm.ptmas006,
                        document.AddForm.pmpmi084,
                        document.AddForm.pmpmi085);
  resizeFields();
  MandLocalGPAdd();
  checkContactCorrespondenceHEA(AddForm);
  DefaultUPIData();
  valPatTypeHEA();
  NoEmailOptOutHEA();
//T0879283-end
  ShowOptOutSMS();
  InitAddressSearch();
}
function resizeFields()
{
  if(document.AddForm.ptcnusgn.value == "1")
  {
    document.AddForm.urcommnt.rows = "2";
    document.AddForm.ptmas037.size = "4";
  }
}
function MandatoryGP() {
  if(isWhitespace(document.AddForm.pmpmi059.value) &&
     isWhitespace(document.AddForm.pmpmi060.value)) {
     document.AddForm.genpname.className="Mandatory";
     document.AddForm.genpprac.className="Mandatory";
     return;
  }
  if(!isWhitespace(document.AddForm.pmpmi059.value)) {
    document.AddForm.genpname.className="Mandatory";
    document.AddForm.genpprac.className="";
    return;
  }
  if(!isWhitespace(document.AddForm.pmpmi060.value)) {
    document.AddForm.genpname.className="";
    document.AddForm.genpprac.className="Mandatory";
    return;
  }
}
function genderName(){
  if (document.AddForm.ptcnhdps.value=="3") {
    intersexoption = document.createElement("option");
    intersexoption.text = "Other";
    intersexoption.value = "R";
    document.AddForm.ptmas015.add(intersexoption);
  } else {
    intersexoption = document.createElement("option");
    intersexoption.text = "Intersex";
    intersexoption.value = "R";
    document.AddForm.ptmas015.add(intersexoption);
  }
}
function DefaultUPIData() {
  var p = document.AddForm;

  if (p.ptcnuepm.value == "1") {
    if (!isWhitespace(p.d_sgname.value)) {
      p.pmpmi085.value = p.d_sgname.value;  // Second Given Name
    }

    if (!isWhitespace(p.d_medicn.value)) {
      p.ptmas023.value = p.d_medicn.value.substr(0,10);  // Medicare No.
      p.ptmsx045.value = p.d_medicn.value.substr(10,2);  // Medicare Ref No.
    }

    // Set other fields using UPI retrieved data
    if (!isWhitespace(p.upinumbr.value)) {
      var datArr = GetUPIData(p.upinumbr.value,p.upinspid.value);
      if (datArr != undefined) {
        p.ptmas001.value = CharPadEnd(datArr[0].split("~")[1]," ",4);  // Title
        p.ptmas005.value = datArr[1];  // Surname
        p.pmpmi084.value = datArr[2];  // First Given Name
        p.pmpmi085.value = datArr[3];  // Second Given Name

        // Gender/Sex
        for (i=0; i < p.ptmas015.length; i++) {
          if (p.ptmas015.options[i].value.substr(0,1) == datArr[4]) {
            p.ptmas015.selectedIndex = i;
          }
        }

        p.ptmas017.value = GetFullDateString(datArr[5]);  // DOB

        p.ptmas008.value = datArr[6];  // Addr Line 1
        p.ptmas009.value = datArr[7];  // Addr Line 2
        p.ptmas010.value = datArr[8];  // Addr Line 3 (Suburb)
        p.ptmas011.value = datArr[9];  // Addr Line 4 (State)
        p.ptmas012.value = datArr[10]; // Addr Line 5 (Post Code)
        p.ptmas013.value = datArr[11]; // Home Phone
        p.ptmsx039.value = datArr[12]; // Mobile Phone
        p.ptmas014.value = datArr[13]; // Work Phone

        // Country of birth
        code = GetCatgCode("C",trim(datArr[14].split("~")[1]));
        SelectCatListCode(p.ptmas019,code);

        // Preferred Language
        code = GetCatgCode("LA",trim(datArr[15].split("~")[1]));
        SelectCatListCode(p.pmpmi002,code);

        // Interpreter Required
        var ans;
        switch (datArr[16]) {
          case 'N':
            ans = '0';
            break;
          case 'Y':
            ans = '1';
            break;
          default:
            ans = 'U';
            break;
        }
        p.pmpmi001.value = ans;

        // Race (Aboriginality)
        code = GetCatgCode("VA",trim(datArr[17].split("~")[1]));
        SelectCatListCode(p.pmpmi065,code);

        p.ptmas023.value = datArr[18].substr(0,10); // Medicare No.
        p.ptmsx045.value = datArr[18].substr(10,2); // Medicare Reference No.

        // Medicare Valid to Date
        p.pmpmi016.value = SetDateDDMMMYYYY(datArr[19]);
      }
    }
  }
}
function PostForm() {
  if(document.AddForm.emexp001.value!="~~~~~~~~~~"){
     document.AddForm.redirect.value="emrweb02.pbl?reportno=2&template=021"+
     "&regiflag=1&emexp001="+document.AddForm.emexp001.value.replace(/ /g,"+")+
     "&formactn=SP";
  }

  //Adds 'Do Not Contact' value to database
  if (document.AddForm.d_pmpmi062.checked == true) {
    document.AddForm.pmpmi062.value = "1";
  } else {
    document.AddForm.pmpmi062.value = "0";
  }

  //Adds 'Opt-Out Email' value to database
  if (document.AddForm.d_ptmas045.checked == true) {
    document.AddForm.ptmas045.value = "1";
  } else {
    document.AddForm.ptmas045.value = "0";
  }

  //Adds 'Foundation' value to database
  document.AddForm.ptmas046.value = document.AddForm.d_ptmas046.value;

  //T0879283 - Set No Email/Opt-out value
  SetNoEmailOptoutValHEA();
  CheckVerifiedAddr();
  SubmitHidden05(document.AddForm);
}

//
// Functions called from AddressSearch.js
//
function InitAddressSearch() {
  // line1 - 'ptmas008'
  // line2 - 'ptmas009'
  // suburb - 'ptmas010'
  // state - 'ptmas011'
  // postcode - 'ptmas012'

  InitAddressSearchFields('trAddrSrch','ptmas008','ptmas009','ptmas010','ptmas011','ptmas012');
}
function ShowAddressSearch() {
  OpenAddressSearch('2',PopulateAddress,ClearSearchAddress);
}
function PopulateAddress(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('ptmas008', true);
  ToggleFieldReadOnly('ptmas009', false);
  ToggleFieldReadOnly('ptmas010', true);
  ToggleFieldReadOnly('ptmas011', true);
  ToggleFieldReadOnly('ptmas012', true);

  SetFieldValue('ptmas008',StreetLine);
  SetFieldValue('ptmas009','');
  SetFieldValue('ptmas010',Suburb);
  SetFieldValue('ptmas011',State);
  SetFieldValue('ptmas012',Postcode);

  document.getElementById('verifiedLabl').style.display = "";
}
function ClearSearchAddress() {
  ToggleFieldReadOnly('ptmas008', false);
  ToggleFieldReadOnly('ptmas009', false);
  ToggleFieldReadOnly('ptmas010', false);
  ToggleFieldReadOnly('ptmas011', false);
  ToggleFieldReadOnly('ptmas012', false);

  SetFieldValue('ptmas008','');
  SetFieldValue('ptmas009','');
  SetFieldValue('ptmas010','');
  SetFieldValue('ptmas011','');
  SetFieldValue('ptmas012','');

  document.getElementById('verifiedLabl').style.display = "none";
}
function ToggleSearchAddressFields(ReadOnly) {
  ToggleFieldReadOnly('ptmas008', ReadOnly);
  ToggleFieldReadOnly('ptmas009', ReadOnly);
  ToggleFieldReadOnly('ptmas010', ReadOnly);
  ToggleFieldReadOnly('ptmas011', ReadOnly);
  ToggleFieldReadOnly('ptmas012', ReadOnly);
}
function CheckVerifiedAddr() {
  if (document.getElementById('ptcnuadv').value == "1") {
    if (document.getElementById('verifiedLabl').style.display == "") {
      document.getElementById('pmpmi113').value = "1";  // verified address
    }
    else {
      document.getElementById('pmpmi113').value = "0";  // address not verified
    }
  }
  else {
    document.getElementById('pmpmi113').disabled = true;
  }
}
function ClearVerified() {
  if (document.getElementById('ptcnuadv').value != "1")
    return;

  document.getElementById('verifiedLabl').style.display = "none";
}
</script>
</head>

<!--T0879283-start
<body onLoad="PageLoad(event);DisplayFieldsHEA();
turnOnSecondGivenName(document.AddForm.ptcnusgn.value,
                      document.AddForm.ptmas006,
                      document.AddForm.pmpmi084,
                      document.AddForm.pmpmi085);
resizeFields();MandLocalGPAdd();checkContactCorrespondenceHEA(AddForm);
DefaultUPIData();">
 see function init() -->
<body onLoad="PageLoad(event);ChkIdentifyGenderPronounTitle1(document.AddForm);">
<!--T0879283-end-->

<span class=DFrameTitleBar>
  <img align="right" alt="Exit" class="MenuIcon"
   src="../images/ExitIcon.gif" onclick="DFrameExit();">
</span>
<div id=PageBodySection style="overflow: auto;">
<form name=AddForm action="patweb89.pbl" method=post style="margin:0" 
 onsubmit='return validateMandatory(this)'>
<input type=hidden name=reportno value="05">
<input type=hidden name=formactn value="NR">
<input type=hidden name=updttype value="">
<input type=hidden name=chckname>
<input type=hidden name=redirflg value="1">
<input type=hidden name=nextpage value="3">
<input type=hidden name=updateky value="%PATWEB89.05.700">
<input type=hidden name=redirect value="emrweb02.pbl?reportno=1&template=001">
<input type=hidden name=admissno>
<input type=hidden name=dummy value="">
<input type=hidden name=pmpmi076 value="">
<input type=hidden name=praflag value="0">
<input type=hidden name=sesskeys value="%PATWEB89.05.918">
<input type=hidden name=noofdays value="%PATWEB89.05.919">
<input type=hidden name=theaflag value="%PATWEB89.05.920">
<input type=hidden name=hidsname id=hidsname value="%PATWEB89.05.009">
<input type=hidden name=hidgname id=hidgname value="%PATWEB89.05.010">
<input type=hidden name=ptcnusgn  value="%STANDARD.01.025.114.219.0.1">
<input type=hidden name=upemmrin  value="1">
<input type=hidden name=ptcnnewc value="%STANDARD.01.025.118.138.0.1">
<input type=hidden name=ptcnhdps id=ptcnhdps 
       value="%STANDARD.01.025.080.250.1.1">
<input type=hidden name=ptcnuepm value="%STANDARD.01.025.125.155.0.1">
<input type=hidden name=upinumbr value="%PATWEB89.05.999.095">
<input type=hidden name=d_sgname value="%PATWEB89.05.999.096">
<input type=hidden name=d_medicn value="%PATWEB89.05.999.097">
<input type=hidden name=upinspid value="%PATWEB89.05.999.098">
<input type=hidden name=confdemo value="0">
<input type=hidden name=emexp001 value="%PATWEB89.05.999.061">
<input type=hidden name=ptcnuadv id=ptcnuadv
                                 value="%STANDARD.01.025.123.247.0.1">
<input type=hidden name=pmpmi113 id=pmpmi113>
<input type=hidden name="ptcnsmsn" id="ptcnsmsn"
                                 value="%STANDARD.01.025.120.243.0.1">
<input type=hidden name="ptmsx050" id="ptmsx050" value="">
<input type=hidden name=ptmas045 id=ptmas045>
<input type=hidden name=ptmas046 id=ptmas046>
<input type=hidden name=pmpmi062 id=pmpmi062>
<input type=hidden name="d_cwebDDOB" value="%STANDARD.01.025.101.098.0.8">

<table align=center width=100% border=1 cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell colspan=6 align=center>
     New Patient Details </td></tr>
</table>

<table align=center width=100% border=0 cellspacing=0 cellpadding=1>
<tr><td colspan=4>
      <div id=URField></div>
    </td>
    <td nowrap class=DataLabel><font color=red> QUICK REGISTRATION </font></td>
    <td><input type=checkbox name=quickreg id=quickreg tabindex=1 
         onclick='clrMandatory(hidsname,hidgname,"%PATWEB89.05.019",
                               "%PATWEB89.05.020");'></td></tr>

<tr id=trAddrSrch style="display:none">
  <td class=DataLabel></td>
  <td class=DataLabel></td>
  <td class=DataLabel nowrap>Search Address</td>
  <td><input type=text readonly size=42
       style="cursor:pointer;text-align:center;"
       value="Click here to search for an address"
       title="Click here to search for an address"
       onclick="ShowAddressSearch();">
  </td>
</tr>

<tr><td class=DataLabel>Title</td>
    <td><select title="Patient Title"
        name=ptmas001 id=ptmas001 tabindex=1>
        <option></option>
        %STANDARD.01.029
        </select>
        </td>
    <td class=DataLabel>Residential Address&nbsp;
      <span id=verifiedLabl style="display:none;color:red">(Verified)</span>
    </td>
    <td><input type=text size=42 maxlength=35  tabindex=16
        name="ptmas008" id="ptmas008" title="Address Line 1" class=Mandatory
        onblur="UpCase(this);ClearVerified();"></td>
    <td class=DataLabel>%STANDARD.01.035.Pn</td>
    <td><select name=pmpmi095 id=pmpmi095 tabindex=28 title="%STANDARD.01.035.Pn"
         class="SelectMed" onchange="checkContactCorrespondenceHEA(AddForm);">
         <option></option>
          %PATWEB89.05.899. 12.4
         </select></td>


<tr><td class=DataLabel>Surname</td>
    <td><input type=text size=35 maxlength=40 class=Mandatory tabindex=2
         name=ptmas005 id=ptmas005 value="%PATWEB89.05.009"
         title="Patient Surname" onblur="UpCase(this)"></td>
    <td class=DataLabel></td>
    <td><input type=text size=42 maxlength=35 tabindex=17
         name=ptmas009 id=ptmas009 title="Address Line 2"
         onblur="UpCase(this)"></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmas013 id=ptmas013 onchange="checkPhoneNumberNoSpaces(this);"
        title="Home Phone Number" tabindex=29></td></tr>

<tr><td class=DataLabel id="givenNameLabel">Given Names</td>
    <td><input type=hidden name=ptmas006 id=ptmas006 title="Given Name"
         value="%PATWEB89.05.010">
        <input type=text size=35 maxlength=40
         title="First Given Name" tabindex=3 class=Mandatory 
         name=pmpmi084 id=pmpmi084 value="%PATWEB89.05.010"
         onblur="UpCase(this)">
    </td>
    <td class=DataLabel>Suburb</td>
    <td><input type=text size=42 maxlength=35 class=Mandatory tabindex=18
         name=ptmas010 id=ptmas010 title="Suburb" value="%PATWEB89.05.015"
         onchange="valPostCode();ClearVerified();">
    </td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20
         name=ptmas014 id=ptmas014 onchange="checkPhoneNumberNoSpaces(this);"
         title="Work Phone Number" tabindex=30></td></tr>

<tr><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=35 maxlength=40 id="secondGivenName"
        title="Second Given Name" tabindex=4
        name=pmpmi085 value="" onblur="UpCase(this);">
    </td>
    <td class=DataLabel>State</td>
    <td><input type=text size=42 maxlength=35 tabindex=19
         name=ptmas011 id=ptmas011 title="State"
         onchange="UpCase(this);ClearVerified();"></td>
    <td class=DataLabel>Mobile Phone</td>
    <td nowrap><input type=text size=23 maxlength=20
        name=ptmsx039 id=ptmsx039 onchange="checkMobilePhoneNoSpaces(this);"
        title="Mobile Phone Number" tabindex=31>
    <span id=DisplaySMS style="display: none">
    Opt-Out SMS<input type=checkbox name="d_ptmsx050" id="d_ptmsx050" value=1
    tabindex=32>
    </span>
    </td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.G </td>
    <td><select name="ptmas015" id="ptmas015" tabindex=5 class=Mandatory
          title="%STANDARD.01.017.G "
          onchange="ChkIdentifyGenderPronounTitle1(document.AddForm);">
         <option></option>
         %PATWEB89.05.086.099.061.9.1.19.3.H
         </select></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4
         name=ptmas012 id=ptmas012 title="Post Code" Class=Mandatory tabindex=20
         value="%PATWEB89.05.016"
         onchange="LookupSuburb(this.value);ClearVerified();">
    </td>
    <td class=DataLabel>E-Mail</td>
    <td><input type=text size=23 maxlength=80 class=Mandatory tabindex=33
         name=pmpmi005 id=pmpmi005 title="E-Mail">
       No email/Opt-out
       <input type=checkbox name=d_ptmas045 id=d_ptmas045 value="1" tabindex=34
        onclick="NoEmailOptOutHEA();">
       </td></tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 id=ptmas017 title="Date of Birth"
         value="%PATWEB89.05.020" tabindex=6 class="Mandatory PastDate"
       onblur="checkDate(this,'Date of Birth');" >
       &nbsp;Estimated DOB&nbsp;
       <input type=hidden name=pmpmi006 id=pmpmi006>
       <input type=checkbox name=d_pmpmi006 id=d_pmpmi006 title="Est DOB"
         value="0" tabindex=7 >
    </td>
    <td class=DataLabel>Does this patient have <br> a Medicare Card?</td>
    <td><select name=medicard id=medicard
         title="Does this patient have a Medicare Card?"
         tabindex=21 onchange="MediMandfield();">
      <option>  </option>
      <option value="0">No</option>
      <option value="1">Yes</option>
    </select></td>
    <td class=DataLabel>Local GP Practice and/or</td>
    <td><input type=hidden name=pmpmi060 id=pmpmi060>
        <input type=hidden name=pmpmi061 id=pmpmi061>
        <input type=hidden name=genpprov id=genpprov>
        <input type=text readonly name=genpprac id=genpprac
         title="Local GP Practice">
        <img src="../images/SearchIcon.gif" class=Icon tabindex=35
         onclick="GPHCGSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                   genpprac,pmpmi061,MandLocalGPAdd)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pmpmi060,genpprac,pmpmi061,genpprov);"></td>
    </tr>

<tr><td class=DataLabel>Preferred Given Names</td>
    <td><input type=text size="25" maxlength=25 name="pmpmi083" id="pmpmi083"
         title="Preferred Given Names"
         tabindex=8 onchange="UpCase(this);">
    </td>
    <td class=DataLabel>Medicare #</td>
    <td><input type=text size=10 maxlength=10 tabindex=22 
         name=ptmas023 id=ptmas023
         onblur="if(!checkMedicare(ptmas023)){this.value='';}">
    <input type=text size=5 maxlength=2 name=ptmsx045 id=ptmsx045 tabindex=23
     onblur="checkIRN(ptmsx045);"></td>
    <td class=DataLabel>Local GP</td>
    <td><input type=hidden name=pmpmi059 id=pmpmi059>
        <input type=text readonly name=genpname id=genpname>
        <img src="../images/SearchIcon.gif" class=Icon tabindex=34
         onclick="GPHCPSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                   genpprac,pmpmi061,3,MandLocalGPAdd)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pmpmi059,genpname);"></td>
    </tr>

<tr><td class=DataLabel>%STANDARD.01.035.M </td>
    <td><select name=ptmas016 id=ptmas016 tabindex=9 class="SelectMed Mandatory"
         title="%STANDARD.01.035.M ">
        <option></option>
         %PATWEB89.05.069.4
        </select></td>
    <td class=DataLabel>Valid to (Expiry Date)</td>
    <td><input type=text size=12 tabindex=24
         name=pmpmi016 id=pmpmi016 title="Valid to (Expiry Date)"
         onblur="checkDateSV(this,'Valid to');" ></td>
    <td class=DataLabel>%STANDARD.01.035.PV</td>
    <td><select name=pmpmi066 id=pmpmi066 class=SelectMed tabindex=37
        title="%STANDARD.01.035.PV">
        <option></option>
        %STANDARD.01.021.PV
        </select></td>
    </tr>

<tr><td class=DataLabel>%STANDARD.01.035.R </td>
    <td><select name=ptmas020 id=ptmas020 tabindex=10 class="SelectMed Mandatory"
         title="%STANDARD.01.035.R ">
        <option></option>
        %PATWEB89.05.023.4
        </select></td>
    <td class=DataLabel>Occupation</td>
    <td><input type=text size=20 maxlength=14 tabindex=25
         name=ptmas022 id=ptmas022 onchange="UpCase(this);"></td>
    <td class=DataLabel>%STANDARD.01.035.FS</td>
    <td><select name=pmpmi077 tabindex=38 title="%STANDARD.01.035.FS"
         id=pmpmi077 class="SelectMed Mandatory">
         <option></option>
         %STANDARD.01.021.FS
         </select></td>
    </tr>

<tr><td class=DataLabel>%STANDARD.01.035.C </td>
    <td><select name="ptmas019" id="ptmas019" tabindex=11 class="SelectMed Mandatory"
         title="%STANDARD.01.035.C " >
        <option></option>
        </select></td>
    <td class=DataLabel>Transport Required</td>
    <td><select name=pmpmi092 id=pmpmi092 title="Transport Required" tabindex=27
         class="SelectMed">
        <option></option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
    </td>
    <td class=DataLabel>Health Fund </td>
    <td><input type=hidden name="ptmas036" id=ptmas036 title="Health Fund">
       <input type=text size=25 name="funddesc" id=funddesc maxlength="30"
         readonly onblur="UpCase(this)">
    </td>
    </tr>

<tr><td class=DataLabel>%STANDARD.01.035.T </td>
    <td><select name=ptmas021 id=ptmas021 tabindex=12
         class="Mandatory SelectMed" title="%STANDARD.01.035.T " 
         onchange="valPatTypeHEA();">
         <option></option>
         %PATWEB89.05.024.4
        </select>
    </td>
    <td></td><td></td>
    <td class=DataLabel>Level</td>
    <td>
    <input type=hidden name="ptmas037" id=ptmas037 title="Level">
        <input type="text" size=15 maxlength=17 name="tabldesc" id=tabldesc
         readonly >
        <img src="../images/SearchIcon.gif" class=Icon tabindex=40
         onclick="HealthFundSearchFrameNoFocus(ptmas036,funddesc,
                                               ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onclick="clrHealthFund(ptmas036,funddesc,ptmas037,tabldesc);">
    </td>
    </tr>

<tr>
    <td></td><td></td>
    <td></td><td></td>
    <td class=DataLabel>Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038 id=ptmas038
          tabindex=41>
        &nbsp;Alias&nbsp;
        <input type=checkbox name=fndalias id=fndalias title="Health Fund Alias"
         tabindex=42
         value="1" onclick="ShowFundAlias2(AddForm);">
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.VA</td>
    <td><select name=pmpmi065 id=pmpmi065 tabindex=13 class="SelectMed Mandatory"
         title="%STANDARD.01.035.VA">
        <option></option>
        %STANDARD.01.021.VA
        </select></td>
    <td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>
    <span id="HealthFundAlias" style="Display:none">
    Health Fund Surname
    </span>
    </td>
    <td>
    <span id="HealthFundAlias1" style="Display:none">
     <input type=text size=42 maxlength=40 
      title="Health Fund Surname" onblur="UpCase(this)" tabindex=43
      name=pmpmi087 id=pmpmi087>
    </span>
    </td>
    </tr>

<tr><td class=DataLabel>Interpreter Required</td>
    <td><select name=pmpmi001 id=pmpmi001 title="Interpreter Required" tabindex=14
         class="SelectMed">
         %PATWEB89.05.801.2
        </select></td>
    <td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>
    <span id="HealthFundAlias2" style="Display:none">
    Health Fund Given Name
    </span>
    </td>
    <td>
    <span id="HealthFundAlias3" style="Display:none">
        <input type=text size=42 maxlength=40
        title="Health Fund Given Name" onblur="UpCase(this)" tabindex=44
        name=pmpmi086 id=pmpmi086>
    </span>
    </td>
    </tr>

<tr><td class=DataLabel>%STANDARD.01.035.LA</td>
    <td><select name=pmpmi002 id=pmpmi002 tabindex=15 class="SelectMed Mandatory"
         title="%STANDARD.01.035.LA">
        <option></option>
        </select></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>
    <span id="HealthFundAlias4" style="Display:none">
    Health Fund UPI
    </span>
    </td>
    <td>
    <span id="HealthFundAlias5" style="Display:none">
    <input type=text size=3 maxlength=2 tabindex=45
        title="Health Fund UPI" class="Number"
        name=pmpmi088 id=pmpmi088>
    </span>
    </td>
    </tr>

<tr id=GenderExtra>
    <td><div id=IdenGenLbl></div></td>
    <td><div id=IdenGenDetail></div></td>
    <td><div id=IdenProLbl></div></td>
    <td><div id=IdenProDetail></div></td>
    <td class=DataLabel><font color=red>Demographics Confirmed Date</font></td>
    <td><input type="text" class="PastDate" 
         name="ptmas069" id="ptmas069" tabindex=46
       title="Demographics Confirmed Date"
       onblur="checkDate(this,this.title);document.AddForm.confdemo.value=1;"
       tabindex=14>
        <img notab src="../images/DateTimeStamp.gif" border="0" hspace="4"
         align="absmiddle" onclick="SetCurrentDateTime(ptmas069,null);" />
    </td></tr>

<tr><td colspan=6 align=center id="headerline"><hr></td></tr>

<!-- Cab fields -->
<tr id="doNtCnt" style="display:none">
    <td class=DataLable>Do Not Contact</td>
    <td><input type=checkbox name=d_pmpmi062 id=d_pmpmi062 value="0"
               tabindex=50 title="Do Not Contact"
               onclick="ToggleDNC(this,'d_ptmas046')">
    </td>
</tr>
<tr id="fndField" style="display:none">
    <td class=DataLabel>Foundation</td>
    <td><select name=d_ptmas046 id=d_ptmas046 class="select120 Mandatory"
                title=Foundation tabindex=51>
            <option></option>
            <option value=1>No</option>
            <option value=2>Yes</option>
        </select>
    </td>
</tr>
<tr id="cabSpace" style="display:none">
    <td>&nbsp;</td>
</tr>
<tr id="cabHeaderLine" style="display:none">
   <td colspan=6 align=center id="headerline"><hr></td>
</tr>     

<tr><td class=DataLabel  id="PMIDef1L">%STANDARD.01.035.P1</td>
    <td class=DataField id="PMIDef1F">
    <select title="%STANDARD.01.017.P1" name=ptmas039 id=ptmas039
         class="SelectMed" tabindex=68>
        <option></option>
        %PATWEB89.05.043.2
        </select>
    </td>
    </tr>

<tr><td class=DataLabel  id="PMIDef2L">%STANDARD.01.035.P2</td>
    <td class=DataField id="PMIDef2F">
    <select title="%STANDARD.01.017.P2" name=ptmas040 id=ptmas040
         class="SelectMed" tabindex=69>
        <option></option>
        %PATWEB89.05.044.2
        </select>
    </td>
    </tr>

<tr><td class=DataLabel  id="PMIDef3L">%STANDARD.01.035.P3</td>
    <td class=DataField id="PMIDef3F">
    <select title="%STANDARD.01.017.P3" name=ptmas041 id=ptmas041
         class="SelectMed" tabindex=70>
        <option></option>
        %PATWEB89.05.045.2
        </select>
    </td>
    </tr>

<tr><td class=DataLabel  id="PMIDef4L">%STANDARD.01.035.P4</td>
    <td class=DataField id="PMIDef4F">
    <select title="%STANDARD.01.017.P4" name=ptmas042 id=ptmas042
         class="SelectMed" tabindex=71>
        <option></option>
        %PATWEB89.05.046.2
        </select>
    </td>
    </tr>

<tr><td class=DataLabel  id="PMIDef5L">%STANDARD.01.035.P5</td>
    <td class=DataField id="PMIDef5F">
    <select title="%STANDARD.01.017.P5" name=ptmas043 id=ptmas043
         class="SelectMed" tabindex=72>
        <option></option>
        %PATWEB89.05.047.2
        </select>
    </td>
    </tr>

<tr><td colspan=6 class=HeadingCell align=center > 
  <script type="text/javascript">URDesc();</script> Comments </td></tr>
<tr><td colspan=6 align=center>
    <textarea wrap=hard name=urcommnt id=urcommnt rows=3 cols=70 tabindex=81>
    </textarea></td></tr>
</table>

<table width=100% border=0>
<tr><td>&nbsp;</td></tr>
<tr><td align=center>
    <input type=button value="Register" class="button" tabindex=101 id="pat89sub"
     onclick="tempDisable(this,5);checkNames();SetOptOutSMS();PostForm();">
    <input type=button value="Cancel" class="button" tabindex=102
     onclick="history.go(-1)"></td></tr>
</table>
<div id=SelectHeading></div>
<div id=SelectLocation></div>

</table>
</form>
</div>

<script type="text/javascript"> 
   UsualPRFA="%PATWEB89.05.909"
    
   for (var i =0 ; i < document.AddForm.pmpmi001.length; i++) {
     if (document.AddForm.pmpmi001.options[i].value=="0") {
         document.AddForm.pmpmi001.selectedIndex=i } };
</script>

<div id=URFieldRow style="display:none">
<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
<tr><td class=DataLabel style="width:117px"> U/R Number </td>
    <td><input type=text name=urnumber id=urnumber class=mandatory size=10 
        tabindex=1 maxlength=8 title="U/R Number" 
        onchange="justifyRight(this)"></td></tr>
</table>
</div>

<form name=HiddenFields>
<input type=hidden name=cgenrur id=cgenrur value="%PATWEB89.05.097">
</form>

<form name=PatientLinks method=get>                         
<input type=hidden name=reportno value=1>                   
<input type=hidden name=template value=004>                 
<input type=hidden name=regexstm value=102>                 
<input type=hidden name=urnumber>                           
<input type=hidden name=admissno>                           
<input type=hidden name=MenuType value="11">                
</form>                        

<span id=idenGenLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gi</td>
</span>
<span id=idenGenDetailShow style="display:none">
  <td><select name=pmpmi125 id=pmpmi125 class=Mandatory tabindex=15
       title="%STANDARD.01.035.Gi"
       onchange="IdenGenderChange(document.AddForm);">
      <option></option>
       %STANDARD.01.018.Gi.   .9.2
      </select><br>
      <span id=IdenGenFreeTxt></span>
  </td>
</span>
<span id=idenGenDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi125 id=pmpmi125 value=""></td>
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>
<span id=idenGenFreeTxtShow style="display:none">
  <input type=text name=pmpmi126 id=pmpmi126 size=80 maxlength=80
   class=Mandatory tabindex=15
   title="Identifying Gender Free Text"
   value="">
</span>
<span id=idenGenFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>

<span id=idenProLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gp</td>
</span>
<span id=idenProDetailShow style="display:none">
  <td><select name=pmpmi127 id=pmpmi127 class=Mandatory tabindex=28
       title="%STANDARD.01.035.Gp"
       onchange="IdenPronounChange(document.AddForm);">
      <option></option>
       %STANDARD.01.018.Gp.   .9.2
      </select><br>
      <span id=IdenProFreeTxt></span>
  </td>
</span>
<span id=idenProDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi127 id=pmpmi127 value=""></td>
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>
<span id=idenProFreeTxtShow style="display:none">
  <input type=text name=pmpmi128 id=pmpmi128 size=80 maxlength=80
   class=Mandatory tabindex=28
   title="Identifying Pronoun Free Text"
   value="">
</span>
<span id=idenProFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>

