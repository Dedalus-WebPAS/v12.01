<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome"    content="cab">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src=../js/IBA_Category_C_.js></script>
<script type="text/javascript" src=../js/IBA_Category_LA.js></script>
<script type="text/javascript" src=../js/patweb83.js></script>
<script type="text/javascript" src=../js/patweb8301.js></script>
<script type="text/javascript" src="../js/AddressSearch.js"></script>

<script type="text/javascript">
function MediMandfield() {
  if(document.UpdateForm.medicard.value=="1") {
    document.UpdateForm.ptmas023.className="Mandatory";
    document.UpdateForm.ptmsx045.className="Mandatory";
    document.UpdateForm.pmpxi016.className="Mandatory";
  } else {
    document.UpdateForm.ptmas023.value="";
    document.UpdateForm.ptmsx045.value="";
    document.UpdateForm.pmpxi016.value="";
    document.UpdateForm.ptmas023.className="";
    document.UpdateForm.ptmsx045.className="";
    document.UpdateForm.pmpxi016.className="";
  }
}
function AdmitBabySubmit() {
  SetNoEmailOptoutValHEA();
  SetOptOutSMS();

  if (document.UpdateForm.ptcnnewc.value=="0") {
    admitNewborn();
    return;
  }

  if (UpdateForm.pmcex009 != undefined) {
    if (((!isWhitespace(UpdateForm.pmcex009.value)) &&
       (isWhitespace(UpdateForm.pmcex011.value))) ||
       ((!isWhitespace(UpdateForm.pmcex011.value)) &&
       (isWhitespace(UpdateForm.pmcex009.value)))) {
      alert("Invalid Suburb/Post Code Combination for Next of Kin");
      return;
    }
    if (document.getElementById('ptcnuadv').value != "1" &&
        !CheckValPostCodeNOKnewc()) {
      return;
    }
  }

  var ans=true;
  if (!isWhitespace(document.UpdateForm.ptmas023.value)) {
    if (isWhitespace(document.UpdateForm.ptmsx045.value)) {
       ans=confirm("Warning : no medicare reference number entered");
      if (ans==false) {
          document.UpdateForm.ptmsx045.focus();
          return;
      } else {
        if (DefaultMedicareReferenceto9=="1") {
            document.UpdateForm.ptmsx045.value=" "
        } else {
            document.UpdateForm.ptmsx045.value=9}
    } }
  }
  if (ans==false){return;}
  if (document.UpdateForm.ptmsx045.value==9) {
     ans=confirm("Warning: medicare reference is 9");
    if (ans==false){return;}
  }

  //Loads 'Email Opt-Out' details into DB 
  if (document.UpdateForm.d_ptmas045.checked == true) {
    document.UpdateForm.ptmas045.value = "1";
  } else {
    document.UpdateForm.ptmas045.value = "0";
  }

  //Loads 'Email Opt-Out' details into DB 
  if (document.UpdateForm.d_pmpxi062.checked == true) {
    document.UpdateForm.pmpxi062.value = "1";
  } else {
    document.UpdateForm.pmpxi062.value = "0";
  }

  //Loads 'Foundation' details into DB
  document.UpdateForm.ptmas046.value = document.UpdateForm.d_ptmas046.value;

  AdmitBaby();
}

function CheckValPostCodeNOKnewc() {
  if ((isWhitespace(UpdateForm.pmcex011.value)) &&
      (isWhitespace(UpdateForm.pmcex009.value)))
     { return true; }
  suburb   = document.UpdateForm.pmcex009;
  state    = document.UpdateForm.pmcex010;
  postcode = document.UpdateForm.pmcex011;
  if (trim(postcode.value)=="8888") {
    if (confirm("Click OK to confirm an Overseas Address"))
    { return true; }
  }
  var fulladdress = trim(postcode.value) + "," +
                    trim(suburb.value) + "," +
                    trim(state.value);
  var tmp1 = fulladdress.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");

  for (var i =0; i<PC.length ; i++) {
    var tmp2 = PC[i].replace(/[-[\]{}()*+?.,\\^$|#\s]/g, " ");
    if  (tmp2.match(tmp1)) {
        SelectPC[SelectPC.length] = PC[i]
        return true;
    }
  }
  alert("Invalid Suburb/Post Code Combination for Next of Kin");
  return false;
}
function genderName(){
  if (document.UpdateForm.ptcnhdps.value=="3") {
    intersexoption = document.createElement("option");
    intersexoption.text = "Other";
    intersexoption.value = "R";
    document.UpdateForm.ptmas015.add(intersexoption);
  } else {
    intersexoption = document.createElement("option");
    intersexoption.text = "Intersex";
    intersexoption.value = "R";
    document.UpdateForm.ptmas015.add(intersexoption);
  }
}

//
// Functions called from AddressSearch.js
//
function AddressSearch() {
  if (document.getElementById('ptcnuadv').value != "1")
    return;

  InitAddressSearch1();
  if (document.UpdateForm.ptcnnewc.value=="1") {
    InitAddressSearch2();
  }
  else {
    InitAddressSearch3();
  }
}
function InitAddressSearch1() {
  // line1 - 'ptmas008'
  // line2 - 'ptmas009'
  // suburb - 'ptmas010'
  // state - 'ptmas011'
  // postcode - 'ptmas012'

  InitAddressSearchFields('trAddrSrch1','ptmas008','ptmas009','ptmas010','ptmas011','ptmas012');
}
function ShowAddressSearch1() {
  OpenAddressSearch('2',PopulateAddress1,ClearSearchAddress1);
}
function PopulateAddress1(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('ptmas008', true);
  ToggleFieldReadOnly('ptmas009', false);
  ToggleFieldReadOnly('ptmas010', true);
  ToggleFieldReadOnly('ptmas011', true);
  ToggleFieldReadOnly('ptmas012', true);

  SetFieldValue('ptmas008',StreetLine);
  SetFieldValue('ptmas009','');
  SetFieldValue('ptmas010',Suburb);
  SetFieldValue('ptmas011',State);
  SetFieldValue('ptmas012',Postcode);

  document.getElementById('verifiedLabl').style.display = "";
}
function ClearSearchAddress1() {
  ToggleFieldReadOnly('ptmas008', false);
  ToggleFieldReadOnly('ptmas009', false);
  ToggleFieldReadOnly('ptmas010', false);
  ToggleFieldReadOnly('ptmas011', false);
  ToggleFieldReadOnly('ptmas012', false);

  SetFieldValue('ptmas008','');
  SetFieldValue('ptmas009','');
  SetFieldValue('ptmas010','');
  SetFieldValue('ptmas011','');
  SetFieldValue('ptmas012','');

  document.getElementById('verifiedLabl').style.display = "none";
}


//
// Address Search - Next Of Kin (New)
//
function InitAddressSearch2() {
  // line1 - 'pmcex007'
  // line2 - 'pmcex008'
  // suburb - 'pmcex009'
  // state - 'pmcex010'
  // postcode - 'pmcex011'

  InitAddressSearchFields('trAddrSrch2','pmcex007','pmcex008','pmcex009','pmcex010','pmcex011');
}
function ShowAddressSearch2() {
  OpenAddressSearch('2',PopulateAddress2,ClearSearchAddress2);
}
function PopulateAddress2(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('pmcex007', true);
  ToggleFieldReadOnly('pmcex008', false);
  ToggleFieldReadOnly('pmcex009', true);
  ToggleFieldReadOnly('pmcex010', true);
  ToggleFieldReadOnly('pmcex011', true);

  SetFieldValue('pmcex007',StreetLine);
  SetFieldValue('pmcex008','');
  SetFieldValue('pmcex009',Suburb);
  SetFieldValue('pmcex010',State);
  SetFieldValue('pmcex011',Postcode);
}
function ClearSearchAddress2() {
  ToggleFieldReadOnly('pmcex007', false);
  ToggleFieldReadOnly('pmcex008', false);
  ToggleFieldReadOnly('pmcex009', false);
  ToggleFieldReadOnly('pmcex010', false);
  ToggleFieldReadOnly('pmcex011', false);

  SetFieldValue('pmcex007','');
  SetFieldValue('pmcex008','');
  SetFieldValue('pmcex009','');
  SetFieldValue('pmcex010','');
  SetFieldValue('pmcex011','');
}
function ToggleSearchAddressFields(ReadOnly) {
  ToggleFieldReadOnly('pmcex007', ReadOnly);
  ToggleFieldReadOnly('pmcex008', ReadOnly);
  ToggleFieldReadOnly('pmcex009', ReadOnly);
  ToggleFieldReadOnly('pmcex010', ReadOnly);
  ToggleFieldReadOnly('pmcex011', ReadOnly);
}
function ToggleSearchAddress(Show) {
  ToggleSearchAddressRow('trAddrSrch2', Show);
  ToggleSearchAddressFields(Show);
}
function ToggleOverseas() {
  if (document.getElementById('ptcnuadv').value == "1") {
    if (document.getElementById('oseasnok').checked) {  // Overseas address
      ToggleSearchAddress(false);  // hide 'Search Address' row
    }
    else {
      ToggleSearchAddress(true);  // show 'Search Address' row
    }
  }

  setAddrLine4N(UpdateForm);
  MandatoryNOK();
}
function ToggleState() {
  if (document.getElementById('ptcnuadv').value == "1") {
    if (!document.getElementById('oseasnok').checked) {
      ToggleFieldReadOnly('pmcex010', false);  // enable 'State' field
    }
  }
}


//
// Address Search - Next Of Kin (Old)
//
function InitAddressSearch3() {
  // street - 'ptmas050'
  // suburb - 'ptmas052'
  // state - 'ptmas053'
  // postcode - 'ptmas054'

  InitAddressSearchFields('trAddrSrch3','ptmas050','ptmas052','ptmas053','ptmas054');
}
function ShowAddressSearch3() {
  OpenAddressSearch('2',PopulateAddress3,ClearSearchAddress3);
}
function PopulateAddress3(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('ptmas050', true);
  ToggleFieldReadOnly('ptmas052', true);
  ToggleFieldReadOnly('ptmas053', true);
  ToggleFieldReadOnly('ptmas054', true);

  SetFieldValue('ptmas050',StreetLine);
  SetFieldValue('ptmas052',Suburb);
  SetFieldValue('ptmas053',State);
  SetFieldValue('ptmas054',Postcode);
}
function ClearSearchAddress3() {
  ToggleFieldReadOnly('ptmas050', false);
  ToggleFieldReadOnly('ptmas052', false);
  ToggleFieldReadOnly('ptmas053', false);
  ToggleFieldReadOnly('ptmas054', false);

  SetFieldValue('ptmas050','');
  SetFieldValue('ptmas052','');
  SetFieldValue('ptmas053','');
  SetFieldValue('ptmas054','');
}
function CheckVerifiedAddr() {
  if (document.getElementById('ptcnuadv').value == "1") {
    if (document.getElementById('verifiedLabl').style.display == "") {
      document.getElementById('pmpxi113').value = "1";  // verified address
    }
    else {
      document.getElementById('pmpxi113').value = "0";  // address not verified
    }
  }
  else {
    document.getElementById('pmpxi113').disabled = true;
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitPostCodes();
              DisplayFieldsHEA();MandLocalGPUpd();
              validateNewContact();defaultRelationshipNok();
              valPatTypeHEA();NoEmailOptOutHEA();
              checkGenderInd(document.UpdateForm.ptmas015);AddressSearch();
              ToggleDNC(document.UpdateForm.d_pmpxi062,'d_ptmas046');
              ChkIdentifyGenderPronounTitle(document.UpdateForm);">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB83.01.003";
PatientVIS="%PATWEB83.01.081";
PatientNAM="%PATWEB83.01.002";
PatientSTA="%PATWEB83.01.086.078";
PatientALT="%PATWEB83.01.084";
PatientSEX="%PATWEB83.01.019";
PatientDOB="%PATWEB83.01.020";
PatientAGE="%PATWEB83.01.021";
PatientLOC="%PATWEB83.01.083";
PatientPRI="%PATWEB83.01.086.066.1";
PatientUNT="%PATWEB83.01.066.0";
DoctorCOD="%PATWEB83.01.082.003";
DoctorNAM="%PATWEB83.01.082.002";
PatientAID="%PATWEB83.01.086.090";
PatientIND="%PATWEB83.01.086.091";
PatientCUR="%PATWEB83.01.086.092";
PatientCLC="%PATWEB83.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB83.01.086.094";
PatientCDM="%PATWEB83.01.086.095";
PatientVDH="%PATWEB83.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<form name=UpdateForm action="patweb83.pbl" method=post style="margin:0"> 
<input type=hidden name=reportno value="1">
<input type=hidden name=template value="001">
<input type=hidden name=urnumber value="">
<input type=hidden name=admitnow value="">
<input type=hidden name=admissno value="%PATWEB83.01.081">
<input type=hidden name=updttype value="1"> <!-- register new born -->
<input type=hidden name=ptmas016 value="%PATWEB83.01.305">
<input type=hidden name=redirect value="%PATWEB83.01.001.patweb98.01.001">
<input type=hidden name=ptcnnewc value="%STANDARD.01.025.118.138.0.1">
<input type=hidden name=d_ptmas011 value="%PATWEB83.01.015">
<input type=hidden name=ptcnhdps id=ptcnhdps 
       value="%STANDARD.01.025.080.250.1.1">
<input type=hidden name=pnkrelp value="%PATWEB83.01.061.0">
<input type=hidden name=confdemo value="0">
<input type=hidden name=ptcnuadv id=ptcnuadv
 value="%STANDARD.01.025.123.247.0.1">
<input type=hidden name=pmpxi113 id=pmpxi113 value="%PATWEB83.01.499.049">
<input type=hidden name="ptcnsmsn" id="ptcnsmsn"
 value="%STANDARD.01.025.120.243.0.1">
<input type=hidden name="ptmsx050" id="ptmsx050" value="%PATWEB83.01.085.066.1">
<input type=hidden name=ptmas045 id=ptmas045>
<input type=hidden name=ptmas046 id=ptmas046>
<input type=hidden name=pmpxi062 id=pmpxi062>

<table border=0 colspan=1 width=100% cellspacing=0 cellpadding=0>
<tbody>

<tr><td class=HeadingCell align=center colspan=6>
      Input New Born Details </td>
</tr>

<tr id=trAddrSrch1 style="display:none">
    <td colspan=2>&nbsp;</td>
    <td class=DataLabel nowrap>Search Address</td>
    <td><input type=text readonly size=42 tabindex="-1"
         style="cursor:pointer;text-align:center;"
         value="Click here to search for an address"
         title="Click here to search for an address"
         onclick="ShowAddressSearch1();">
    </td>
</tr>

<tr><td class=DataLabel>Title</td>
    <td><select title="Patient Title"
        name=ptmas001 id=ptmas001 tabindex=1>
        <option></option>
        %STANDARD.01.029
        </select>
    </td>
    <td class=DataLabel>Residential Address&nbsp;
      <span id=verifiedLabl style="display:none;color:red">(Verified)</span>
    </td>
    <td><input type=text size=42 maxlength=35  tabindex=16
        name="ptmas008" id="ptmas008" title="Address Line 1" class=Mandatory
        value="%PATWEB83.01.012" onchange="UpCase(this)"></td>
    <td class=DataLabel>%STANDARD.01.035.Pn</td>
    <td><select class="SelectMed" tabindex=28
         name=pmpxi095 id=pmpxi095 title="%STANDARD.01.035.Pn"
         onchange="checkContactCorrespondenceHEA(UpdateForm);">
         <option></option>
          %PATWEB83.01.499. 12.2
         </select></td>
</tr>

<tr><td class=DataLabel>Surname</td>
    <td><input type=text size=42 name=ptmas005 id=ptmas005
        title="Patient Surname" maxlength=40 class=Mandatory
        value="%PATWEB83.01.009" tabindex=2 onblur="UpCase(this)"></td>
    <td class=DataLabel></td>
    <td><input type=text size=42 maxlength=35
        name=ptmas009 id=ptmas009 title="Address Line 2" tabindex=17
        value="%PATWEB83.01.013" onchange="UpCase(this)"></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20 class="Phonenumnospaces"
        name=ptmas013 id=ptmas013 title="Home Phone No" tabindex=29
        value="%PATWEB83.01.017"></td>
</tr>

<tr><tr><td class=DataLabel>First Given Name</td>
    <td><input type=hidden name=ptmas006 id=ptmas006 title="First Given Name"
         maxlength=25 value="">
        <input type=text size=42 maxlength=40 value="%PATWEB83.01.303"
        title="First Given Name" class=Mandatory tabindex=3
        name=pmpxi084 id=pmpxi084
        onblur="UpCase(this);SetGivenName(UpdateForm);"></td>
    <td class=DataLabel>Suburb</td>
    <td><input type=text size=42 maxlength=35 tabindex=18
         name=ptmas010 id=ptmas010 title="Address Line 3"
         value="%PATWEB83.01.014"
         onchange="valPostCodeNB();" /></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20 class="Phonenumnospaces"
        name=ptmas014 id=ptmas014 title="Work Phone No" tabindex=30
        value="%PATWEB83.01.018" ></td>
</tr>

<tr><td class=DataLabel>Second Given Name</td>
    <td><input type=text size=42 maxlength=40 title="Second Given Name"
        name=pmpxi085 id=pmpxi085 tabindex=4
        onblur="UpCase(this);SetGivenName(UpdateForm);"></td>
    <td class=DataLabel>State</td>
    <td><input type=text size=42 maxlength=35
       name=ptmas011 id=ptmas011 title="Address Line 4" tabindex=19
        value="%PATWEB83.01.015"></td>
    <td class=DataLabel>Mobile Phone</td>
    <td><input type=text size=23 maxlength=20 class="MobilePhnospaces"
        name=ptmsx039 id=ptmsx039 title="Mobile Phone No" tabindex=31
        value="%PATWEB83.01.243">
        <span id=DisplaySMS style="display: none">
         Opt-Out SMS
         <input type=checkbox name="d_ptmsx050" id="d_ptmsx050" value=1
          tabindex=32 title="Opt-out of SMS">
        </span>
        </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.G </td>
    <td><select name=ptmas015 id=ptmas015 tabindex=5
        title="%STANDARD.01.017.G " class=Mandatory
        onchange="checkGenderInd(this);
         ChkIdentifyGenderPronounTitle(document.UpdateForm);">
        <option></option>
          %PATWEB83.01.086.099.061.9.1.19.3.H 
        </select></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4 tabindex=20
         name=ptmas012 id=ptmas012 title="Post Code" value="%PATWEB83.01.016"
         onchange="lookSuburbNB();" /></td>
    <td class=DataLabel>E-Mail</td>
    <td><input type=text size=23 maxlength=80 class=Mandatory
        name=pmpxi005 id=pmpxi005 title="E-Mail" tabindex=33
        value="%PATWEB83.01.405">
        No email/Opt-Out
        <input type=checkbox name=d_ptmas045 id=d_ptmas045 value="1"
         tabindex=34
         onclick="NoEmailOptOutHEA();">
    </td>
</tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 id=ptmas017 title="Date of Birth"
         value="%PATWEB83.01.301" tabindex=6 class=Mandatory
       onblur="checkDate(this,'Date of Birth')" ></td>
    <td class=DataLabel>Does this patient have a Medicare Card?</td>
    <td><select name=medicard id=medicard
         title="Does this patient have a Medicare Card?"
         tabindex=21 onchange="MediMandfield();">
      <option>  </option>
      <option value="0">No</option>
      <option value="1">Yes</option>
    </select></td>
    <td class=DataLabel>Local GP Practice and/or</td>
    <td ><input type=hidden name=pmpxi060 id=pmpxi060
        value="%PATWEB83.01.485.001">
        <input type=hidden name=pmpxi061 id=pmpxi061
         value="%PATWEB83.01.461">
        <input type=hidden name=genpprov id=genpprov
         value="">
        <input type=text readonly name=genpprac id=genpprac
         value="%PATWEB83.01.485.005" title="Local GP Practice">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCGSearchFrame(pmpxi059,genpname,genpprov,pmpxi060,
                                   genpprac,pmpxi061,MandLocalGPUpd)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pmpxi060,genpprac,pmpxi061,genpprov);
                  MandLocalGPUpd();"></td>
</tr>

<tr id=GenderExtra>
  <td><div id=IdenGenLbl></div></td>
  <td><div id=IdenGenDetail></div></td>
  <td><div id=IdenProLbl></div></td>
  <td><div id=IdenProDetail></div></td>
</tr>

<tr><td class=DataLabel>Preferred Given Names</td>
    <td><input type=text size="25" maxlength=25 name="pmpxi083" id="pmpxi083"
         title="Preferred Given Names"
         value="%PATWEB83.01.498" tabindex=8 onchange="UpCase(this);">
    </td>
    <td class=DataLabel>Medicare #</td>
    <td><input type=text size=10 maxlength=10 tabindex=22
         name=ptmas023 id=ptmas023 title="Medicare Number"
         value="%PATWEB83.01.027" onblur="checkMedicare(ptmas023);" />
        <input type=text size=3 maxlength=2 tabindex=23
         name=ptmsx045 id=ptmsx045 title="Medicare IRN"
         value="%PATWEB83.01.249" onblur="checkIRN(ptmsx045);"></td>
    <td class=DataLabel>Local GP</td>
    <td><input type=hidden name=pmpxi059 id=pmpxi059
        value="%PATWEB83.01.484.001">
        <input type=text readonly name=genpname id=genpname
         value="%PATWEB83.01.484.081" title="Local GP">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCPSearchFrame(pmpxi059,genpname,genpprov,pmpxi060,
                                   genpprac,pmpxi061,3,MandLocalGPUpd)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pmpxi059,genpname);MandLocalGPUpd();"></td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.M </td>
    <td><select name=ptmas016 id=ptmas016 tabindex=9 class="SelectMed Mandatory"
         title="%STANDARD.01.035.M ">
        <option></option>
         %PATWEB83.01.069.2
        </select></td>
    <td class=DataLabel>Valid to (Expiry Date)</td>
    <td><input type=text size=12 tabindex=24
         name=pmpxi016 id=pmpxi016 title="Valid to (Expiry Date)"
         value="%PATWEB83.01.416"
         onblur="checkDateSV(this,'Valid to');" >
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pmpxi016);"></td>
    <td class=DataLabel>%STANDARD.01.035.PV</td>
    <td><select class="SelectMed" tabindex=37
         name=pmpxi066 id=pmpxi066 title="%STANDARD.01.035.PV">
        <option></option>
         %PATWEB83.01.466.2
        </select></td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.R </td>
    <td><select class="SelectMed Mandatory" tabindex=10
         name=ptmas020 id=ptmas020 title="%STANDARD.01.035.R ">
        <option></option>
        %PATWEB83.01.023.2
        </select></td>
    <td class=DataLabel>Occupation</td>
    <td><input type=text size=20 maxlength=14 tabindex=25
         name=ptmas022 id=ptmas022 value="%PATWEB83.01.025"
         onchange="UpCase(this);"></td>
    <td class=DataLabel>%STANDARD.01.035.FS</td>
    <td><select class="SelectMed Mandatory" tabindex=38
         name=pmpxi077 id=pmpxi077 title="%STANDARD.01.035.FS">
         <option></option>
         %PATWEB83.01.479.2
         </select></td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.C </td>
    <td><select class="SelectMed Mandatory" tabindex=11
         name="ptmas019" id="ptmas019" title="%STANDARD.01.035.C ">
        <option></option>
        </select>
        <script type="text/javascript"> {
         SetCategoryC_(document.UpdateForm.ptmas019,"%PATWEB83.01.022.1") }
        </script></td>
    <td class=DataLabel>Transport Required</td>
    <td><select class="SelectMed" tabindex=27
         name=pmpxi092 id=pmpxi092 title="Transport Required">
        <option></option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
    </td>
    <td class=DataLabel>Health Fund </td>
    <td><input type=hidden name=ptmas036 id=ptmas036 title="Health Fund"
         value="%PATWEB83.01.040.0">
        <input type=text size=25 name=funddesc id=funddesc maxlength="30"
         readonly value="%PATWEB83.01.040.1" tabindex=-1>
     </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.T </td>
    <td><select class="Mandatory SelectMed" tabindex=12
         name=ptmas021 id=ptmas021 title="%STANDARD.01.035.T "
         onchange="valPatTypeHEA();">
         <option></option>
         %PATWEB83.01.024.2
        </select></td>
    <td></td><td></td>
    <td class=DataLabel>Level</td>
    <td><input type=hidden name=ptmas037 id=ptmas037 title="Level"
        value="%PATWEB83.01.041.0" >
        <input type="text" size=15 maxlength=22 name=tabldesc id=tabldesc
         readonly value="%PATWEB83.01.041.1" tabindex=-1>
        <img src="../images/SearchIcon.gif" class=Icon tabindex=-1
         onclick="HealthFundSearchFrame(ptmas036,funddesc,ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onclick="clrDoc(ptmas036,ptmas037);clrDoc(funddesc,tabldesc);">
    </td>
</tr>

<tr>
    <td></td><td></td>
    <td></td><td></td>
        <td class=DataLabel>Member Number</td>
    <td><input type=text size=20 maxlength=19 tabindex=41
         name=ptmas038 id=ptmas038 value="%PATWEB83.01.042">
        &nbsp;Alias&nbsp;
        <input type=checkbox name=fndalias id=fndalias title="Health Fund Alias"
         tabindex=42
         value="1" notab onclick="ShowFundAlias2(UpdateForm);">
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.VA</td>
    <td><select class="SelectMed Mandatory" tabindex=13
         name=pmpxi065 id=pmpxi065 title="%STANDARD.01.035.VA">
        <option></option>
         %PATWEB83.01.465.2
        </select></td>
    <td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>
    <span id="HealthFundAlias" style="Display:none">
    Health Fund Surname
    <span>
    </td>
    <td>
    <span id="HealthFundAlias1" style="Display:none">
    <input type=text size=42 maxlength=40 tabindex=43
     title="Health Fund Surname" name=pmpxi087 id=pmpxi087>
    </span>
    </td>
</tr>

<tr><td class=DataLabel>Interpreter Required</td>
    <td><select class="SelectMed" tabindex=14 
         name=pmpxi001 id=pmpxi001 title="Interpreter Required">
          %PATWEB83.01.401.2
        </select>
        </td>
    <td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>
    <span id="HealthFundAlias2" style="Display:none">
    Health Fund Given Name
    </span>
    </td>
    <td>
    <span id="HealthFundAlias3" style="Display:none">
    <input type=text size=42 maxlength=40 tabindex=44
     title="Health Fund Surname" name=pmpxi086 id=pmpxi086>
    </span>
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.LA</td>
    <td><select class="SelectMed Mandatory" tabindex=15
         name=pmpxi002 id=pmpxi002 title="%STANDARD.01.035.LA">
        <script type="text/javascript"> {
         SetCategoryLA(document.UpdateForm.pmpxi002,"%PATWEB83.01.402.1") }
        </script>
        </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>
    <span id="HealthFundAlias4" style="Display:none">
    Health Fund UPI
    </span>
    </td>
    <td>
    <span id="HealthFundAlias5" style="Display:none">
    <input type=text size=3 maxlength=2 tabindex=45
     title="Health Fund UPI" class="Number" name=pmpxi088 id=pmpxi088>
    <span>
    </td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel><font color=red>Demographics Confirmed Date</font></td>
    <td><input type="text" class="PastDate" tabindex=46
         name="ptmas069" id="ptmas069" title="Demographics Confirmed Date"
       onblur="checkDate(this,this.title);document.UpdateForm.confdemo.value=1">
        <img notab src="../images/DateTimeStamp.gif" class=Icon
         onclick="SetCurrentDateTime(ptmas069,null);" />
    </td>
</tr>

<tr><td colspan=6 align=center id="headerline"><hr></td></tr>

<!-- fields that are displayed if cab is selected -->
<tr id="doNtCnt" style="display:none">
    <td class=DataLabel>Do Not Contact</td>
    <td><input type=checkbox name=d_pmpxi062 id=d_pmpxi062 value="0"
               tabindex=46 title="Do Not Contact"
               onclick="ToggleDNC(this,'d_ptmas046')">
    </td>
</tr>
<tr id="fndField" style="display:none">
    <td class=DataLabel>Foundation</td>
    <td><select name=d_ptmas046 id=d_ptmas046 class="select120 Mandatory"
                title=Foundation tabindex=47>
            <option></option>
            <option value=1>No</option>
            <option value=2>Yes</option>
        </select>
    </td>
</tr>
<tr id="cabSpace" style="display:none">
    <td>&nbsp;</td>
</tr>
<tr id="cabHeaderLine" style="display:none">
    <td colspan=6 align=center id="headerline"><hr></td>
</tr>

<tr><td class=DataLabel  id="PMIDef1L">%STANDARD.01.035.P1</td>
    <td class=DataField id="PMIDef1F">
    <select title="%STANDARD.01.017.P1" name=ptmas039 id=ptmas039
         class="SelectMed" tabindex=58>
        <option></option>
        %PATWEB83.01.043.2
        </select>
    </td>
</tr>

<tr><td class=DataLabel  id="PMIDef2L">%STANDARD.01.035.P2</td>
    <td class=DataField id="PMIDef2F">
    <select title="%STANDARD.01.017.P2" name=ptmas040 id=ptmas040
         class="SelectMed" tabindex=59>
        <option></option>
        %PATWEB83.01.044.2
        </select>
    </td>
</tr>

<tr><td class=DataLabel  id="PMIDef3L">%STANDARD.01.035.P3</td>
    <td class=DataField id="PMIDef3F">
    <select title="%STANDARD.01.017.P3" name=ptmas041 id=ptmas041
         class="SelectMed" tabindex=60>
        <option></option>
        %PATWEB83.01.045.2
        </select>
    </td>
</tr>

<tr><td class=DataLabel  id="PMIDef4L">%STANDARD.01.035.P4</td>
    <td class=DataField id="PMIDef4F">
    <select title="%STANDARD.01.017.P4" name=ptmas042 id=ptmas042
         class="SelectMed" tabindex=61>
        <option></option>
        %PATWEB83.01.046.2
        </select>
    </td>
</tr>

<tr><td class=DataLabel id="PMIDef5L">%STANDARD.01.035.P5</td>
    <td class=DataField id="PMIDef5F">
    <select title="%STANDARD.01.017.P5" name=ptmas043 id=ptmas043
         class="SelectMed" tabindex=62>
        <option></option>
        %PATWEB83.01.047.2
        </select>
    </td>
</tr>

<tr><td colspan=6 class=HeadingCell align=center >
  <script type="text/javascript">URDesc();</script> Comments </td>
</tr>

<tr><td colspan=6 align=center>
    <textarea wrap=hard 
     name=urcommnt id=urcommnt rows=4 cols=70 tabindex=63></textarea>
    </td>
</tr>

</table>

<div id="nextofkinDIV">
<table border=0 colspan=1 width=100% cellspacing=1 cellpadding=1>
<tr><td colspan=6 class=HeadingCell align=center >
    <input type=hidden name=pmcex002 id=pmcex002 value="%PATWEB83.01.318.1.1">
    %PATWEB83.01.318.1.0</td>
</tr>

<tr><td colspan=2>&nbsp;</td>
    <td class=DataLabel width=12%>Overseas Address</td>
    <td width=20%><input type=checkbox name=oseasnok id=oseasnok tabindex=65
         onclick='ToggleOverseas();'>
    </td>
</tr>

<tr id=trAddrSrch2 style="display:none">
    <td colspan=2>&nbsp;</td>
    <td class=DataLabel nowrap>Search Address</td>
    <td><input type=text readonly size=42 tabindex=-1
         style="cursor:pointer;text-align:center;"
         value="Click here to search for an address"
         title="Click here to search for an address"
         onclick="ShowAddressSearch2();">
    </td>
</tr>

<tr><td class=DataLabel width=10%>Title</td>
    <td width=23%><select title="Title" name=pmcex004 id=pmcex004 tabindex=60
         onchange="MandatoryNOK();">
        <option></option>
        %STANDARD.01.029
        </select>
    </td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=42 maxlength=35 tabindex=66
        name=pmcex007 id=pmcex007 title="Address Line 1"
        value="%PATWEB83.01.054" class=Mandatory
        onchange="UpCase(this);MandatoryNOK();"></td>
    <td class=DataLabel width=8%>Home Phone</td>
    <td><input type=text size=23 maxlength=20 tabindex=71
        class="Phonenumnospaces" title="Home Phone"
        name=pmcex012 id=pmcex012 onchange="MandatoryNOK();"
        value="%PATWEB83.01.059"></td>
</tr>

<tr><td class=DataLabel>Surname</td>
    <td><input type=text size=42 maxlength=30 name=pmcex005 id=pmcex005
        title="Surname" tabindex=61
        value="%PATWEB83.01.320"
        onchange="UpCase(this);MandatoryNOK();"></td>
    <td class=DataLabel>&nbsp;</td>
    <td><input type=text size=42 maxlength=35 tabindex=67
         name=pmcex008 id=pmcex008 title="Address Line 2"
         value="%PATWEB83.01.055"
         onchange="UpCase(this);MandatoryNOK();"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20 tabindex=72
        class="Phonenumnospaces" title="Work Phone" value="%PATWEB83.01.060"
        name=pmcex013 id=pmcex013
        onchange="MandatoryNOK();"></td>
</tr>

<tr><td class=DataLabel>Given Name</td>
    <td><input type=text size=42 maxlength=30 name=pmcex006 id=pmcex006
        title="Given Name" tabindex=62
        value="%PATWEB83.01.321"
        onchange="UpCase(this);MandatoryNOK();">
    </td>
    <td class=DataLabel>Suburb</td>
    <td><input type=text size=42 maxlength=35 tabindex=68
        name=pmcex009 id=pmcex009 title="Suburb" value="%PATWEB83.01.056"
        onchange="valPostCodeN();MandatoryNOK();"></td>
    <td class=DataLabel></td>
    <td></td>
</tr>

<tr><td class=DataLabel>Relationship</td>
    <td><select name=pmcex015 id=pmcex015 title="Relationship" tabindex=63
         onchange="MandatoryNOK();">
        <option value=""></option>
         %STANDARD.01.030
        </select></td>
    <td><div id=AddressLine4HN></div></td>
    <td><div id=AddressLine4N></div></td>
</tr>

<tr><td colspan=2>&nbsp;</td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4 tabindex=70
         name=pmcex011 id=pmcex011 title="Post Code" value="%PATWEB83.01.058" 
         onchange="SetPostVarsN();LookupSuburb(this.value);
                   checkOverseasN();MandatoryNOK();ToggleState();">
    </td>
</tr>
</table>
</div>

<br>

<table border=0 colspan=1 width=100% cellspacing=1 cellpadding=1>
  <tr><td align=center colspan=6>
    <input type=button value="Update" tabindex=80 class="button"
     onclick="UpdateForm.ptmas006.value=UpdateForm.pmpxi084.value;
              CheckVerifiedAddr();AdmitBabySubmit();">
    <input type=button value="Cancel" class="button" tabindex=81
     onclick="history.go(-1);">
  </td></tr>
</table>
</form>

<span id="nextofkinoldSPAN" style="display: none">
<table border=0 colspan=1 width=100% cellspacing=1 cellpadding=1>
<tr><td class=HeadingCell align=center colspan=6>
     Next of Kin Details </td>
</tr>

<tr id=trAddrSrch3 style="display:none">
    <td colspan=2>&nbsp;</td>
    <td class=DataLabel nowrap>Search Address</td>
    <td><input type=text readonly size=42 tabindex=-1
         style="cursor:pointer;text-align:center;"
         value="Click here to search for an address"
         title="Click here to search for an address"
         onclick="ShowAddressSearch3();">
    </td>
</tr>

<tr valign=top><td class=DataLabel width=10%>Name</td>
    <td width=22%><input type="text" size="22" maxlength="20" tabindex=60
                   name="ptmas049" id="ptmas049" title="NOK Name"></td>
    <td class=DataLabel width=14%>Address</td>
    <td width=17%><input type="text" size="42" maxlength="35" tabindex=62
                   name="ptmas050" id="ptmas050" title="NOK Address Line 1"
                   value="%PATWEB83.01.012" onchange="UpCase(this)"></td>
    <td class=DataLabel width=8%>Home Phone</td>
    <td><input type="text" size="12" maxlength="12" tabindex=66
         name="ptmas055" id="ptmas055" class="Phonenumnospaces"
         title="NOK Private Phone" value="%PATWEB83.01.017"></td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Suburb</td>
    <td><input type="text" size="42" maxlength="35" tabindex=63
         name="ptmas052" id="ptmas052" title="NOK Address Line 2"
         value="%PATWEB83.01.014" onchange="UpCase(this);valPostCodeNOK();" />
    </td>
    <td class=DataLabel>Business Phone</td>
    <td><input type="text" size="12" maxlength="12" tabindex=67
         name="ptmas056" id="ptmas056" class="Phonenumnospaces"
         title="NOK Business Phone" value="%PATWEB83.01.018"></td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><input type="text" size="42" maxlength="35" tabindex=64
         name="ptmas053" id="ptmas053" title="NOK Address Line 3"
         value="%PATWEB83.01.015"></td>
</tr>

<tr><td class=DataLabel>Relationship </td>
    <td><select name=ptmas057 id=ptmas057 title="Relationship" tabindex=61>
        <option value=""></option>
         %STANDARD.01.030
        </select></td>
    <td class=DataLabel>Post Code</td>
    <td><input type="text" size="4" maxlength="4" tabindex=65
         name="ptmas054" id="ptmas054" title="NOK post code"
         value="%PATWEB83.01.016" onchange="lookSuburbNOK();" /></td>
</tr>
</table>
</span>

<span id=AustStateHN style="display:none">
  State
</span>

<span id=AustStateN style="display:none">
  <input type=text size=42 maxlength=35 tabindex=69
   name=pmcex010 id=pmcex010 title="Address Line 4" value="%PATWEB83.01.057"
   onchange="UpCase(this);MandatoryNOK();">
</span>

<span id=OseasCountryHN style="display:none">
  Country
</span>

<span id=OseasCountryN style="display:none">
  <select name=pmcex010 class="Mandatory SelectMed" tabindex=69
   title="Country Address" onchange="MandatoryNOK();">
    <option></option>
    %PATWEB83.01.085.060
  </select>
</span>

<script type="text/javascript">
function init(){
 document.UpdateForm.ptmas015.selectedIndex=""

 //Checks to see if cab selected and if so, displays cab fields
 ptcnsspf = "%STANDARD.01.025.128.229.1.1";

 if (ptcnsspf == "1") {
   displayCabFields(false);
 } else {
   document.getElementById("d_ptmas046").className="select120";
 }

 //Sets the 'Email Opt-Out' parameter
 EmailOptOut = "%PATWEB83.01.049"

 if (EmailOptOut == "Yes") {
   document.UpdateForm.d_ptmas045.checked = true;
 }

 DoNotContact = "%PATWEB83.01.462" 
if (DoNotContact == "1") {
   document.UpdateForm.d_pmpxi062.checked = true;
}

 //Sets the Foundation parameter  
 Foundation = "%PATWEB83.01.265.0";

 for (var i=0; i<document.UpdateForm.d_ptmas046.length; i++) {
   if (document.UpdateForm.d_ptmas046.options[i].value == Foundation) {
     document.UpdateForm.d_ptmas046.selectedIndex=i;
   }
 }

 ShowOptOutSMS(); 
}

function validateNewContact() {
  if (document.UpdateForm.ptcnnewc.value=="1") {
    for (var i=0; i < document.UpdateForm.pmcex004.length; i++) {
      if (document.UpdateForm.pmcex004.options[i].value=="%PATWEB83.01.319"){
          document.UpdateForm.pmcex004.selectedIndex=i;
      }
    }

    NOKRel="%PATWEB83.01.061.0";
    for (var i =0 ; i < document.UpdateForm.pmcex015.length; i++) {
      if (document.UpdateForm.pmcex015.options[i].value==NOKRel) {
          document.UpdateForm.pmcex015.selectedIndex=i
      }
    }

    MandatoryNOK();
    SetPostCode01N();
  } else {
    nextofkinDIV.innerHTML = nextofkinoldSPAN.innerHTML;
    GivenName="%PATWEB83.01.010"
    Surname="%PATWEB83.01.009"
    UpdateForm.ptmas049.value=GivenName.replace(/\s*$/,"") + " " +
                          Surname.replace(/\s*$/,"")
  }
}

var savpcode="";
function setAddrLine4N(theForm) {
  if (theForm.oseasnok.checked) {
    AddressLine4HN.innerHTML = OseasCountryHN.innerHTML;
    AddressLine4N.innerHTML = OseasCountryN.innerHTML;

    for (var i =0 ; i < theForm.pmcex010.length; i++) {
      if (theForm.pmcex010.options[i].text == theForm.d_ptmas011.value.substr(0,20)) {
        theForm.pmcex010.selectedIndex=i;
      }
    };

    if (trim(theForm.pmcex011.value) != "8888") {
      savpcode = theForm.pmcex011.value;
      theForm.pmcex011.value = "8888";
    }
  } else {
    AddressLine4HN.innerHTML = AustStateHN.innerHTML;
    AddressLine4N.innerHTML = AustStateN.innerHTML;

    if (trim(theForm.pmcex011.value) == "8888") {
      theForm.pmcex011.value = savpcode;
    }
  }
  state = theForm.pmcex010;
}
 Medicare="%PATWEB83.01.027";
   if(!isWhitespace(Medicare)){
    document.UpdateForm.medicard.value="1";
    document.UpdateForm.ptmas023.className="Mandatory";
    document.UpdateForm.ptmsx045.className="Mandatory";
    document.UpdateForm.pmpxi016.className="Mandatory";
   } else {
    document.UpdateForm.medicard.value=" ";
    document.UpdateForm.ptmas023.className="";
    document.UpdateForm.ptmsx045.className="";
    document.UpdateForm.pmpxi016.className="";
   }
 Transport="%PATWEB83.01.086.099.009"
 for (var i =0 ; i < document.UpdateForm.pmpxi092.length; i++) {
  if (document.UpdateForm.pmpxi092.options[i].value==Transport) {
       document.UpdateForm.pmpxi092.selectedIndex=i } };
function valPostCodeN(){
  SetPostVarsN();
  var suburb=trim("%PATWEB83.01.014");
  if(document.UpdateForm.pmcex009.value==suburb){
    return;
    }
    UpCase(UpdateForm.pmcex009);
    if(trim(UpdateForm.pmcex011.value)!="8888"){
      LookupPostCode(UpdateForm.pmcex009.value);
      }
}
</script>
<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB83.01.003">
<input type=hidden name=admissno value="%PATWEB83.01.081">
<input type=hidden name=MenuType value="%PATWEB83.01.088">
</form>

<span id=idenGenLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gi</td>
</span>
<span id=idenGenDetailShow style="display:none">
  <td><select name=pmpxi125 id=pmpxi125 class=Mandatory tabindex=7
       title="%STANDARD.01.035.Gi"
       onchange="IdenGenderChange(document.UpdateForm);">
      <option></option>
       %PATWEB83.01.086.099.063.9.2
      </select><br>
      <span id=IdenGenFreeTxt></span>
  </td>
</span>
<span id=idenGenDetailBlank style="display:none">
  <td><input type=hidden name=pmpxi125 id=pmpxi125 value=""></td>
  <td><input type=hidden name=pmpxi126 id=pmpxi126 value=""></td>
</span>
<span id=idenGenFreeTxtShow style="display:none">
  <input type=text name=pmpxi126 id=pmpxi126 size=80 maxlength=80
   class=Mandatory tabindex=7
   title="Identifying Gender Free Text"
   value="%PATWEB83.01.086.099.065">
</span>
<span id=idenGenFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpxi126 id=pmpxi126 value=""></td>
</span>
<span id=idenProLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gp</td>
</span>
<span id=idenProDetailShow style="display:none">
  <td><select name=pmpxi127 id=pmpxi127 class=Mandatory tabindex=13
       title="%STANDARD.01.035.Gp"
       onchange="IdenPronounChange(document.UpdateForm);">
      <option></option>
       %PATWEB83.01.086.099.064.9.2
      </select><br>
      <span id=IdenProFreeTxt></span>
  </td>
</span>
<span id=idenProDetailBlank style="display:none">
  <td><input type=hidden name=pmpxi127 id=pmpxi127 value=""></td>
  <td><input type=hidden name=pmpxi128 id=pmpxi128 value=""></td>
</span>
<span id=idenProFreeTxtShow style="display:none">
  <input type=text name=pmpxi128 id=pmpxi128 size=80 maxlength=80
   class=Mandatory tabindex=13
   title="Identifying Pronoun Free Text"
   value="%PATWEB83.01.086.099.066">
</span>
<span id=idenProFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpxi128 id=pmpxi128 value=""></td>
</span>
