<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="crdhb">
<meta name="HelpFileName" content="NoContextSet.html">
<script type="text/javascript" src="../custom-js/oprweb06.js"></script>
<script type="text/javascript" src="../js/ctascustom.js"></script>
<script type="text/javascript">

// open Tourniquet screen in popup
function openTourniquet() {
    linkurl="oprweb06.pbl?reportno=9&template=001"
		+ "&urnumber="+PatientLinks.urnumber.value.replace(/ /g,"+")
		+ "&admissno="+PatientLinks.admissno.value.replace(/ /g,"+")
		+ "&casekeys="+PatientLinks.casekeys.value;
    Left=(document.body.clientWidth-950)/2
    DFrameLink(linkurl,100,Left,900,350)
}
// 03 : TAS : remove old version of function
// get values from variables to initialise fields
//	07 // revert Overnight indicator
function getValues() {
	// set value of over midnight checkbox
//	document.UpdateForm.ovrnight.checked = 
//		(document.UpdateForm.opsrg073.value == "Yes");
	document.UpdateForm.ovrnight.checked = 
		(document.UpdateForm.opsrg071.value == "Yes");

	// set value of time out performed checkbox
	document.UpdateForm.timeoutperf.checked = 
		(document.UpdateForm.opsrg075.value == "Yes");

	// set value of original procedure done field
// 05 : TAS : remove reference to origproc to prevent error
//	if ((document.UpdateForm.opsrg076.value == "Yes")) {
//		document.UpdateForm.origproc.value = "1";
//	} else if ((document.UpdateForm.opsrg076.value == "")) {
//		document.UpdateForm.origproc.value = "  ";
// 02 : DXC : added space to value
//	} else if ((document.UpdateForm.opsrg076.value == "No ")) {
//		document.UpdateForm.origproc.value = "0";
//	} 
//else if ((document.UpdateForm.opsrg076.value == null))  {
//		document.UpdateForm.origproc.value = "";
//	}
}


// set form values from fields where conversion required
//	07 // revert Overnight indicator
function setValues() {
	// set form value from over midnight checkbox
//	document.UpdateForm.opsrg073.value = 
//		(document.UpdateForm.ovrnight.checked) ? "1" : "0";

	document.UpdateForm.opsrg071.value = 
	(document.UpdateForm.ovrnight.checked) ? "1" : "0";

	// set form value from time out performed checkbox
	document.UpdateForm.opsrg075.value =
		(document.UpdateForm.timeoutperf.checked) ? "1" : "0";

	// set original procedure done (saved as 1/0 and fed back out as Yes/No)
//	document.UpdateForm.opsrg076.value =
// 		document.UpdateForm.origproc.value;
}

// initialise form
function init() {
	getValues();
	EnableTransfer();
	/* codes can't be saved so can't be validated
	validateCode(7,UpdateForm.opdea011,UpdateForm.opdea014);
	validateCode(7,UpdateForm.opdea012,UpdateForm.opdea015);
	validateCode(7,UpdateForm.opdea013,UpdateForm.opdea016);	
	*/
}

// Link To get the procedure codes
function GetProc() {
   if (trim(UpdateForm.opdea014.value) == "" && trim(UpdateForm.bokproc1.value) != "") {
      UpdateForm.opdea014.value = UpdateForm.bokproc1.value;
   }
   if (trim(UpdateForm.opdea015.value) == "" && trim(UpdateForm.bokproc2.value) != "") {
      UpdateForm.opdea015.value = UpdateForm.bokproc2.value;
   }
   if (trim(UpdateForm.opdea016.value) == "" && trim(UpdateForm.bokproc3.value) != "") {
      UpdateForm.opdea016.value = UpdateForm.bokproc3.value;
   }
   if (trim(UpdateForm.opdea014.value) == "" && trim(UpdateForm.opdea011.value) != "") {
      validateCode(7,UpdateForm.opdea011,UpdateForm.opdea014,UpdateForm.wpgrp);
   }
   if (trim(UpdateForm.opdea015.value) == "" && trim(UpdateForm.opdea012.value) != "") {
      validateCode(7,UpdateForm.opdea012,UpdateForm.opdea015,UpdateForm.wpgrp);
   }
   if (trim(UpdateForm.opdea016.value) == "" && trim(UpdateForm.opdea013.value) != "") {
      validateCode(7,UpdateForm.opdea013,UpdateForm.opdea016,UpdateForm.wpgrp);
   }
}

// validate form and submit
function formSubmit() {
	setValues();
	document.UpdateForm.updatety.value="U";
	if(validateMandatory(UpdateForm)) {			
		if(UpdateForm.d_opsrg074.checked == true){
			UpdateForm.opsrg074.value = "1";
			UpdateForm.opsrg005.value="";
			UpdateForm.opsrg006.value="";
			UpdateForm.opsrg060.selectedIndex=0;
			UpdateForm.opsrg005.disabled=false;
			UpdateForm.opsrg006.disabled=false;
			UpdateForm.opsrg060.disabled=false;
		}
	ValidateSurgeryTimes();	
			document.UpdateForm.submit();
	} 
}
// end of change

// refresh page
function RefreshPage() {
   if (UpdateForm.d_opsrg074.checked == true)
     UpdateForm.opsrg074.value = "1";

   document.UpdateForm.method="get"
   document.UpdateForm.updatety.value="";
   if(UpdateForm.d_opsrg074.checked == true){
      UpdateForm.opsrg074.value = "1";
      UpdateForm.opsrg005.value="";
      UpdateForm.opsrg006.value="";
      UpdateForm.opsrg060.selectedIndex=0;
      UpdateForm.opsrg005.disabled=false;
      UpdateForm.opsrg006.disabled=false;
      UpdateForm.opsrg060.disabled=false;
   }
   document.UpdateForm.submit();
}

// disable/enable patient transfer destination
function EnableTransfer() {
	if (trim(document.UpdateForm.opsrg083.value) != "") {
		document.UpdateForm.opsrg010.disabled = false;
		document.UpdateForm.opsrg010.className = "Mandatory";
	} else {
		document.UpdateForm.opsrg010.disabled = true;
		document.UpdateForm.opsrg010.className = "";
	}
}

// remove quote from field value - for procedure descriptions
function RemoveQuote(Field) {
    Field.value=Field.value.replace(/\"/g,"");
    Field.value=Field.value.replace(/\'/g,"");
}

// change theatre
function ChangeTheatre() {
	linkurl="oprweb01.pbl?reportno=4&template=014&casekeys="
		+UpdateForm.casekeys.value; 
	Left=(document.body.clientWidth-350)/2;
	DFrameLink(linkurl,100,Left,350,180);
}

function ValidateSurgeryStart(chgfield) {
	// if prep time entered it must be less than surgery start
	var preptime = trim(UpdateForm.opsrg003.value.replace(/:/g,""));
	var surgstart = trim(UpdateForm.opsrg005.value.replace(/:/g,""));
	
	// check that prep time is earlier than surgery start
	if (!isWhitespace(preptime) && !isWhitespace(surgstart)) {
		preptime=Number(preptime.substr(0,4));
		surgstart=Number(surgstart.substr(0,4));
		if (preptime > surgstart) {
			alert("Surgery Start must be later than Prep Start");
			chgfield.value = "";
			chgfield.focus();
			return;
		} else {
			// if surgery start is 15 minutes or more after prep time
			//	 make Surgery Delay mandatory
			var MaxDelay=(parseInt(preptime) + 15)
			var Minutes=parseInt(MaxDelay) % 100
			var Hour=parseInt(MaxDelay) / 100
			if (Minutes>=60) {
				Minutes=Minutes - 60
				Hour=parseInt(Hour) + 1
				MaxDelay = (Hour*100) + Minutes
			}
			if (MaxDelay < surgstart) {
				UpdateForm.opsrg007.className="Mandatory"
			} else {
				UpdateForm.opsrg007.className=""
			}
		}
	}
}

// validate surgery times
function ValidateSurgeryTimes(chgfield) {
	if (UpdateForm.ovrnight.checked == true) 
     UpdateForm.opsrg071.value = "1";
	if(!isWhitespace(UpdateForm.opsrg006.value)) {
		var surgStrt = trim(UpdateForm.opsrg005.value.replace(/:/g,""));
		var surgEnd  = trim(UpdateForm.opsrg006.value.replace(/:/g,""));
		var overnight = UpdateForm.ovrnight.checked;
		UpdateForm.opsrg004.value = UpdateForm.opsrg006.value;
		
		if(surgStrt < surgEnd) {
			CheckFutureTime(UpdateForm,document.UpdateForm.opsedate.value,
				document.UpdateForm.opsrg006);
		}
		if ((surgStrt > surgEnd) && (!overnight)) {
			if(confirm("Surgery End is earlier than Surgery Start.\n\n"
				+"Do you want to set the Over Midnight Indicator to indicate that\n"
				+"surgery is ending the day after Surgery Start Time?")){
				UpdateForm.dateflag.value="1";
				UpdateForm.ovrnight.checked=true;
			}
			else {
				CheckFutureTime(UpdateForm,document.UpdateForm.opsedate.value,
					document.UpdateForm.opsrg006);
				UpdateForm.dateflag.value="0";
				chgfield.focus();
			}
		}
	}
}
function ToggleCA(){
  dU = document.UpdateForm;
  if(dU.d_opsrg074.checked){
     dU.opsrg005.disabled=true;
     dU.opsrg006.disabled=true;
     dU.opsrg060.disabled=true;
  }
  else{
     dU.opsrg005.disabled=false;
     dU.opsrg006.disabled=false;
     dU.opsrg060.disabled=false;
  }
}
</script>
<script>
function TimeCheck(){

  var fieldElement;
  var theatreDate = "%OPRWEB06.01.401".slice(3,8);
  var fieldName = "timecheck%STANDARD.01.044.113.064.002".replace(" ", "0");

  try{
    if(!this.event.srcElement.value){
      return;
    }
    if(this.event.srcElement.id!=fieldName){
      return;
    }
    if(!Get("discdate").value){
      return;
    }
    fieldElement = Get(fieldName);
    var dateArray = Get("discdate").value.split(" ");
    var monthNumber = new Date(Date.parse(dateArray[1] +" 1, 2012")).getMonth()+1;
    var monthString = monthNumber<10? "0" + monthNumber : "" + monthNumber
    var dDate = dateArray[2] + monthString + dateArray[0];
    if(theatreDate + fieldElement.value > dDate+Get("disctime").value){
       alert(fieldElement.title + " cannot be after the discharge date.");
       fieldElement.value = "";
       FocusDelay(fieldElement);
    }
  }catch(e){}
}
function Get(el){return document.getElementById(el);}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);init();GetProc();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%OPRWEB06.01.003";
PatientVIS="%OPRWEB06.01.081";
PatientNAM="%OPRWEB06.01.002";
PatientSTA="%OPRWEB06.01.086.078";
PatientALT="%OPRWEB06.01.084";
PatientSEX="%OPRWEB06.01.019";
PatientDOB="%OPRWEB06.01.020";
PatientAGE="%OPRWEB06.01.021";
PatientLOC="%OPRWEB06.01.083";
PatientPRI="%OPRWEB06.01.086.066.1";
PatientUNT="%OPRWEB06.01.066.0";
DoctorCOD="%OPRWEB06.01.082.003";
DoctorNAM="%OPRWEB06.01.082.002";
PatientAID="%OPRWEB06.01.086.090";
PatientIND="%OPRWEB06.01.086.091";
PatientCUR="%OPRWEB06.01.086.092";
PatientCLC="%OPRWEB06.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%OPRWEB06.01.086.094";
PatientCDM="%OPRWEB06.01.086.095";
PatientVDH="%OPRWEB06.01.086.099.015";
InsertPatientHeader()
</script>
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
Theatre Details
</span>
<div id=PageBodySection>
<table border="0" cellpadding="1" cellspacing="0" width="100%" align=center>
<form name=UpdateForm method=post action="oprweb06.pbl">
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=1>
<input type=hidden name=updatety value="">
<input type=hidden name=urnumber value='%OPRWEB06.01.003'>
<input type=hidden name=casekeys value="%OPRWEB06.01.101">
<input type=hidden name=uniqueky value='%OPRWEB06.01.110'>
<input type=hidden name=opsedate value='%OPRWEB06.01.402'>
<input type=hidden name=currdate value='%STANDARD.01.013'>
<input type=hidden name=currtime>
<input type=hidden name=recordty value="">
<input type=hidden name=rcounter value="">
<input type=hidden name=LOS value="">
<input type=hidden name=dummy value="">
<input type=hidden name=wpgrp value="">
<input type=hidden name=curDate value="%STANDARD.01.013">
<input type=hidden name=bokproc1 value="%OPRWEB06.01.151">
<input type=hidden name=bokproc2 value="%OPRWEB06.01.152">
<input type=hidden name=bokproc3 value="%OPRWEB06.01.153">
<input type=hidden name=anaestim value="%OPRWEB06.01.542">
<input type=hidden name=dateflag>
<input type=hidden name=suprlevl value="%OPRWEB06.01.313">
<input type=hidden name=surgc001 value="">
<input type=hidden name=opdunqid value="">
<input type=hidden name=opsrg073 value="%OPRWEB06.01.273">
<input type=hidden name=opsrg075 value="%OPRWEB06.01.275">
<input type=hidden name=opsrg076 value="%OPRWEB06.01.276">
<!-- 02 : DXC : removed duplicate fields
<input type=hidden name=bokproc1 value="OPRWEB06.01.151">
<input type=hidden name=bokproc2 value="OPRWEB06.01.152">
<input type=hidden name=bokproc3 value="OPRWEB06.01.153">
-->
<input type=hidden name=opsrg004 value="%OPRWEB06.01.336">
<input type=hidden name=opsedtcm id=opsedtcm value="%OPRWEB06.01.483">
<input type=hidden name=opsrg071 value="%OPRWEB06.01.271">
<input type=hidden name=opsrg074>
<input type=hidden name=opsedtcm value="%OPRWEB06.01.483">
<input type=hidden name=opcnctin id=opcnctin
 value="%STANDARD.01.025.113.032.0.1">
<input type=hidden name=opcncoso id=opcncoso
 value="%STANDARD.01.025.113.033.0.1">
<input type=hidden name=opsework id=opsework value='%OPRWEB06.01.402'
 title="Session Date">
<input type=hidden name="admndate" id="admndate" value="%OPRWEB06.01.351"
 title="Admission Date">
<input type=hidden name="admntime" id="admntime" value="%OPRWEB06.01.352">
<input type=hidden name="discdate" id="discdate" value="%OPRWEB06.01.353"
 title="Discharge Date">
<input type=hidden name="disctime" id="disctime" value="%OPRWEB06.01.354">
<input type=hidden name="updatmmb" id="updatmmb" value="1">
<input type=hidden name=opard002 value="%OPRWEB06.01.502">
<input type=hidden name=allrvisn id=allrvisn>
<input type=hidden name=deptcode id=deptcode>														  

<tr><td class=DataLabel>Supervisor Level</td>
	<td class=DataField>
		<select name=optsm007 class=SelectBig tabindex=1>
        <option></option>
         %OPRWEB06.01.325.2
        </select></td>
    <td class=DataField width=50%></td>
</tr>
</table>

<hr>
<table border="0" cellpadding="1" cellspacing="0" width="100%" align=center>
<tr>
    <td class=DataLabel>Patient into Theatre</td>
    <td class=DataField><input type=text name=opard041 size=8 maxlength=8
     value="%OPRWEB06.01.541" onblur="checkTime(this,'Patient into Theatre');
     CheckFutureTime(UpdateForm,document.UpdateForm.opsedate.value,
	 document.UpdateForm.opard041);" tabindex=2
	 title="Patient into Theatre">
    <img src="../images/DateTimeStamp.gif" class=Icon 
		time=UpdateForm.opard041 tabindex=-1>
    <img src=../images/TimeLookup.gif class=Icon 
		time=UpdateForm.opard041 tabindex=-1>
    </td>
	<td class=DataLabel>Surgery Start</td>
    <td class=DataField>
	 <input type=text name=opsrg005 size=8 maxlength=8 id="timecheck06"
     value="%OPRWEB06.01.337" onblur="checkTime(this,'Surgery Start');
     CheckFutureTime(UpdateForm,document.UpdateForm.opsedate.value,
	 document.UpdateForm.opsrg005);ValidateSurgeryStart(this);
	 ValidateSurgeryTimes(this);" tabindex=6
	 title="Surgery Start">
    <img src="../images/DateTimeStamp.gif" class=Icon 
		tabindex=-1 time=UpdateForm.opsrg005>
    <img src="../images/TimeLookup.gif" class=Icon 
		tabindex=-1 time=UpdateForm.opsrg005>
    </td>	
	<td class=DataLabel>Sign Out</td>
    <td class=DataField>
    <input type=text name=opsrg084 size=8 maxlength=8 
	 title="Sign Out" tabindex=10
     value="%OPRWEB06.01.284" onblur="checkTime(this,'Sign Out');">
    <img src="../images/DateTimeStamp.gif" class=Icon 
		tabindex=-1 time=UpdateForm.opsrg084>
    <img src="../images/TimeLookup.gif" class=Icon 
		tabindex=-1 time=UpdateForm.opsrg084>
    </td>
</tr>

<tr>
	<td class=DataLabel>Prep Start</td>
    <td class=DataField><input type=text name=opsrg003 size=8 maxlength=8
	 title="Prep Start" id="timecheck05"
     value="%OPRWEB06.01.335" onblur="checkTime(this,'Prep Start');
     CheckFutureTime(UpdateForm,document.UpdateForm.opsedate.value,
	 document.UpdateForm.opsrg003);ValidateSurgeryStart(this);"
     tabindex=3>
    <img src="../images/DateTimeStamp.gif" class=Icon time=UpdateForm.opsrg003
		tabindex=-1>
    <img src="../images/TimeLookup.gif" class=Icon time=UpdateForm.opsrg003
		tabindex=-1>
    </td>
	<td class=DataLabel>Surgery End</td>
    <td class=DataField>
	 <input type=text name=opsrg006 size=8 maxlength=8
     value="%OPRWEB06.01.338" title="Surgery End" tabindex=7
	 title="Surgery End" id="timecheck07"
	 onblur="checkTime(this,'Surgery End');ValidateSurgeryTimes(this);">
    <img src="../images/DateTimeStamp.gif" class=Icon time=UpdateForm.opsrg006
		tabindex=-1>
    <img src="../images/TimeLookup.gif" class=Icon time=UpdateForm.opsrg006
		tabindex=-1>
    </td>	
	<td class=DataLabel>Patient Out of Theatre</td>
    <td class=DataField>
	 <input type=text name=opsrg083 size=8 maxlength=8
     value="%OPRWEB06.01.283" tabindex=11
	 onblur="checkTime(this,'Patient Out of Theatre'); EnableTransfer();
     CheckFutureTime(UpdateForm,document.UpdateForm.opsedate.value,this);"
	 title="Patient Out of Theatre">
    <img src="../images/DateTimeStamp.gif" class=Icon time=UpdateForm.opsrg083
		tabindex=-1>
    <img src="../images/TimeLookup.gif" class=Icon time=UpdateForm.opsrg083
		tabindex=-1>
    </td>	
</tr>

<tr>
	<td class=DataLabel>Time Out Performed</td>
    <td class=DataField>
		<input type=checkbox name=timeoutperf title="Time Out Performed" 
		value="0" tabindex=4></td>
	<td class=DataLabel>Surgery Delay</td>
	<td class=DataField>
	<!-- 03 : TAS : 1372 - Fix field defaulting value
	<select name=opsrg007 title="Surgery Delay" tabindex=8 value="OPRWEB06.01.339">
	-->
	<select name=opsrg007 title="Surgery Delay" tabindex=8>
	<option></option>
	%OPRWEB06.01.339.2
	</select></td>
	
   <td class=DataLabel>Over Midnight Indicator</td>
   <td><input type=checkbox name=ovrnight title="Over Midnight Indicator"
   onblur="ValidateSurgeryTimes(this);" value="0" tabindex=12></td>	
</tr>

<tr>
	<td class="DataLabel">Known Infection</td>
	<td><select name=opsrg011 title="Known Infection" tabindex=5>
		<option></option>
	%OPRWEB06.01.211.2
		</select>
	</td>
    <td class="DataLabel">Infection Control Class</td>
    <td><select name=opsrg060 title="Infection Control Class" tabindex=9>
        <option></option>
         %OPRWEB06.01.260.2
        </select>
		<img src=../images/HelpIcon.gif class=Icon onclick="getInfoHelp('2');">	 
    </td>
    <td class=DataLabel>Patient Transferred To</td>
    <td class=DataField>
	<select name=opsrg010 title="Patient Transferred To" tabindex=13>
	<option></option>
	%OPRWEB06.01.210.2
	</select></td>	
</tr>
<tr>
	 <td class=DataLabel>Case Abandoned</td>
     <td><input type=checkbox name=d_opsrg074 title="Case Abandoned" value="1" 
          onclick="ToggleCA()" tabindex=-1></td>
</tr>
</table>

<br/>
<table border="0" cellpadding="1" cellspacing="0" width="100%" align=center>
<tr><td class=DataLabel>Procedure</td>
    <td class=DataField><input type=text name=opdea011 id=opdea011 
		size=9 maxlength=9 onblur='validateCode(7,opdea011,opdea014);'
		title="Procedure 1" value="%OPRWEB06.01.121.1" style="display:none">
        <input type=text name=opdea014 id=opdea014 size=80
           title="Procedure 1" maxlength=80 tabindex=14
           value="%OPRWEB06.01.124" onblur="RemoveQuote(this);">
     <img src="../images/SearchIcon.gif" tabindex=-1
     onClick="Icd10ProSearchFrame(opdea011,opdea014);">
	 <img src="../images/erase.gif" border=0 hspace=4 align=absmiddle
     onclick="clrFields(opdea011,opdea014);"></td>
</tr>

<tr><td class=DataLabel></td>
    <td class=DataField><input type=text name=opdea012 id=opdea012 
		size=9 maxlength=9 onblur='validateCode(7,opdea012,opdea015);'
		title="Procedure 2" value="%OPRWEB06.01.122.1" style="display:none">
        <input type=text readonly name=opdea015 id=opdea015 size=80
           title="Procedure 2" class=ReadOnly maxlength=80 tabindex=15
           value="%OPRWEB06.01.125" onblur="RemoveQuote(this);">
     <img src="../images/SearchIcon.gif" tabindex=-1
     onClick="Icd10ProSearchFrame(opdea012,opdea015);">
	 <img src="../images/erase.gif" border=0 hspace=4 align=absmiddle
     onclick="clrFields(opdea012,opdea015);"></td>
</tr>

<tr><td class=DataLabel></td>
    <td class=DataField><input type=text name=opdea013 id=opdea013 
		size=9 maxlength=9 onblur='validateCode(7,opdea013,opdea016);'
		title="Procedure 3" value="%OPRWEB06.01.123.1" style="display:none">
        <input type=text readonly name=opdea016 id=opdea016 size=80
           title="Procedure 3" class=ReadOnly maxlength=80 tabindex=16
           value="%OPRWEB06.01.126" onblur="RemoveQuote(this);">
     <img src="../images/SearchIcon.gif" tabindex=-1
	onClick="Icd10ProSearchFrame(opdea013,opdea016);">
	 <img src="../images/erase.gif" border=0 hspace=4 align=absmiddle
     onclick="clrFields(opdea013,opdea016);"></td>
</tr>
<!-- 05 : TAS : 29-01-19 : WP2-445 : Add extra procedure codes -->
<tr><td class=DataLabel></td>
    <td class=DataField><input type=text name=opdummy1 id=opdummy1 
		size=9 maxlength=9 onblur='validateCode(7,opdummy1,opdea044);'
		title="Procedure 4" style="display:none">
	<input type=text readonly name=opdea044 id=opdea044
     	size=80 title="Procedure 4" class=ReadOnly maxlength=80 tabindex=17
        value="%OPRWEB06.01.362" onblur="RemoveQuote(this);">
     <img src="../images/SearchIcon.gif" tabindex=-1
     onClick="Icd10ProSearchFrame(opdummy1,opdea044);">
	 <img src="../images/erase.gif" border=0 hspace=4 align=absmiddle
     onclick="clrFields(opdummy1,opdea044);"></td>
</tr>
<tr><td class=DataLabel></td>
    <td class=DataField><input type=text name=opdummy2 id=opdummy2
		size=9 maxlength=9 onblur='validateCode(7,opdummy2,opdea045);'
		title="Procedure 5" style="display:none">
	<input type=text readonly name=opdea045 id=opdea045
     	size=80 title="Procedure 5" class=ReadOnly maxlength=80 tabindex=18
        value="%OPRWEB06.01.363" onblur="RemoveQuote(this);">
     <img src="../images/SearchIcon.gif" tabindex=1
     onClick="Icd10ProSearchFrame(opdummy2,opdea045);">
	 <img src="../images/erase.gif" border=0 hspace=4 align=absmiddle
     onclick="clrFields(opdummy2,opdea045);"></td>
</tr>
<tr><td class=DataLabel></td>
    <td class=DataField><input type=text name=opdummy3 id=opdummy3 
		size=9 maxlength=9 onblur='validateCode(7,opdummy3,opdea046);'
		title="Procedure 6" style="display:none">
	<input type=text readonly name=opdea046 id=opdea046
      	size=80 title="Procedure 6" class=ReadOnly maxlength=80 tabindex=19
        value="%OPRWEB06.01.364" onblur="RemoveQuote(this);">
     <img src="../images/SearchIcon.gif" tabindex=-1
     onClick="Icd10ProSearchFrame(opdummy3,opdea046);">
	 <img src="../images/erase.gif" border=0 hspace=4 align=absmiddle
     onclick="clrFields(opdummy3,opdea046);"></td>
<tr valign=top>
    <td class=DataLabel>Referral Procedure</td>
    <td colspan=3>
		<textarea wrap=hard cols=50 rows=3 name=opcom004 
		tabindex=17
		class=Readonly readonly>%OPRWEB06.01.143.011</textarea>
    </td>
</tr>	 

<!-- 04 Change field to cat code Tw
    <td class="DataLabel">Original Procedure Done?</td>
    <td>
		<select name=origproc title="Original Procedure done" 
		tabindex=18>
		<option value=""></option>
		<option value=0>No</option>
		<option value=1>Yes</option>
		</select>
    </td>
    -->
<tr>
	<td class="DataLabel">Original Procedure Done?</td>
    <td>
		<select name=opsrg067 title="Original Procedure done" 
		tabindex=18>
		<option></option>
		%OPRWEB06.01.267.2
		</select>
    </td>
	<td class=DataLabel></td>
    <td class=DataField></td>
	<!-- End of Change -->
</tr>	
<tr>	
	<td></td><td></td><td></td><td></td><td></td>
</tr>

<tr>
	<td class="DataLabel">Observer 1</td>
	<td><select name=opsrg068 title="Observer 1" tabindex=19>
		<option></option>
	%OPRWEB06.01.268.2
		</select>
	</td>
    <td class="DataLabel"></td>
    <td></td>
    <td class=DataLabel></td>
    <td class=DataField></td>	
</tr>

<tr>
	<td class="DataLabel">Observer 2</td>
	<td><select name=opsrg069 title="Observer 2" tabindex=20>
		<option></option>
	%OPRWEB06.01.269.2
		</select>
	</td>
    <td class="DataLabel"></td>
    <td></td>
    <td class=DataLabel></td>
    <td class=DataField></td>	
</tr>

</table>
<br/>
<table border="0" cellpadding="1" cellspacing="0" width="100%" align=center>
<tr>
	<td align=center>
    <input type=button value=Update class="button" id="opr06sub2" 
     onclick="tempDisable(this);formSubmit();" tabindex=21>
    <input type=button value=Cancel class="button" onclick="DFrameClose();"
	tabindex=22>
    <input type=button value="Change Theatre" class="button" 
	onclick="ChangeTheatre();" tabindex=23>
	<input type=button value="Tourniquet" class="button" 
	onclick="openTourniquet();" tabindex=24>
	</td>
</tr>
</table>
</form>


<form  name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value='%OPRWEB06.01.003'>
<input type=hidden name=admissno value='%OPRWEB06.01.081'>
<input type=hidden name=MenuType value='%OPRWEB06.01.088'>
<input type=hidden name=casekeys value='%OPRWEB06.01.101'>
<input type=hidden name=sesskeys value='%OPRWEB06.01.102.oprweb01.03.003'>
<input type=hidden name=uniqueky value='%OPRWEB06.01.110'>
<input type=hidden name=teamnumb value='%OPRWEB06.01.334'>
<input type=hidden name=timoturl id=timoturl
 value='%OPRWEB06.01.102.oprweb01.04.027'>
<input type=hidden name=otouturl id=otouturl
 value='%OPRWEB06.01.102.oprweb01.04.028'>
</form>
</div>
<script type="text/javascript">
if ("%OPRWEB06.01.271" == "Yes") {
  document.UpdateForm.ovrnight.checked=1;
}

if("%OPRWEB06.01.274" == "Yes") {
   document.UpdateForm.d_opsrg074.checked=1;
   ToggleCA();
}

</script>

