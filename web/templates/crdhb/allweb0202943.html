<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="crdhb">
<meta name="HelpFileName" content="NoContextSet.html">
<script language="javascript" src="../js/allweb02.js"></script>
<script language="javascript" src="../js/allweb0202.js"></script>
<script type="text/javascript" src="../js/OutpatientSelect.js"></script>
<script type="text/javascript" src="../js/OutpatientTypeClinic.js"></script>
<script type="text/javascript" src="../js/ctascustom.js"></script>
<script type="text/javascript">
function SetSite() {
  p=UpdateForm
  var SetSite
  if(isWhitespace(p.alref119.value)) {
    SetSite=p.wbsesite.value;
  } else {
    SetSite=p.alref119.value;
  }

  selectCatCodInd(p.catAO,p.alref141,p.d_alref141,p.alref027,'1','1');
}
function UpdateReferral(searchParam) {
  updateFasterTreatmentValue();
  
  UpdateForm.target = "PopUpFrame1";
  if( validateMandatory( UpdateForm ) )
  {
	// 02 : TAS : Implement manual page redirection.
	SetRWFTRedirect(searchParam);
	SetCookie("RefreshRWFT","Yes");
    UpdateForm.submit();
	closeWindow(GetRWFTRedirect());
  }
}
// 02 : TAS : Close window and redirect to Referrals Waiting for Triage list
function closeWindow(redirectURL){
	PopUpFrame.document.close();
	parent.document.location.href = redirectURL;
}
// 03 : TAS : New update referral function for Save and Stay button
function UpdateReferral2() {
	updateFasterTreatmentValue();
	
	UpdateForm.target = "PopUpFrame1";
	if( validateMandatory( UpdateForm ))
	{
		UpdateForm.submit();
	}
}
// 02 : TAS : Get the redirection link
function GetRWFTRedirect(){
	var redirectURL = document.UpdateForm.redirect.value;
	
	return redirectURL;
}
// 03: TAS : Set default search dropdown values for allweb0201925 depending on
//  		 which save button is pressed.
function SetRWFTRedirect(searchParam){
	
	if (searchParam == '1'){
		document.UpdateForm.redirect.value = "allweb02.pbl?reportno=01&template=925"
		+ "&doctcode=" + document.UpdateForm.alref038.value.replace(/ /g,"+");
	}
	else{
		document.UpdateForm.redirect.value = "allweb02.pbl?reportno=01&template=925"
		+ "&deptcode=" + document.UpdateForm.deptcode.value.replace(/ /g,"+")
		+ "&filtctyp=" + document.UpdateForm.defctype.value.replace(/ /g,"+");
	}
}
// 03 : TAS : Show message when clicking Save and Stay.
function msgSaved() {
	alert("Referral information updated");
}
function caseTeamOnChange(alref087,n_alref087,alref038,n_alref038,d_alref019) {
  var oldValue = alref087.value;
  TeamSearchFrame(alref087,n_alref087,function() {
    if(alref087.value != oldValue) {
       setTimeout(function() {
          getHCPbyCaseTeam(alref087,alref038,n_alref038,d_alref019);
       },100);
    }
  });
}
function hcpOnChange(alref038,n_alref038,alref087,n_alref087,d_alref019) {
  var oldValue = alref038.value;
  HCPSearchFrame(alref038,n_alref038,1,function() {
     if(alref038.value != oldValue) {
       setTimeout(function() {
         getCaseTeamByHCP(alref038,alref087,n_alref087,d_alref019);
       },100);
     }
  });
}
function CheckHCP() {
  if(!isWhitespace(document.all.d_alref085.value) ||
     !isWhitespace(document.all.d_alref086.value)) {
     document.UpdateForm.addithcp.checked=true;
     CheckAddHCP();
  }
}
function CheckAddHCP() {
  if(document.UpdateForm.addithcp.checked==true) {
     AdditionalHCP1H.style.display="";
     AdditionalHCP1F.style.display="";
     AdditionalHCP2H.style.display="";
     AdditionalHCP2F.style.display="";
     AdditionalHCP3H.style.display="";
     AdditionalHCP3F.style.display="";
     AdditionalHCP4H.style.display="";
     AdditionalHCP4F.style.display="";
     AdditionalHCP1H.innerHTML=ShowAdditionalHCP1H.innerHTML;
     AdditionalHCP1F.innerHTML=ShowAdditionalHCP1F.innerHTML;
     AdditionalHCP2H.innerHTML=ShowAdditionalHCP2H.innerHTML;
     AdditionalHCP2F.innerHTML=ShowAdditionalHCP2F.innerHTML;
     AdditionalHCP3H.innerHTML=ShowAdditionalHCP3H.innerHTML;
     AdditionalHCP3F.innerHTML=ShowAdditionalHCP3F.innerHTML;
     AdditionalHCP4H.innerHTML=ShowAdditionalHCP4H.innerHTML;
     AdditionalHCP4F.innerHTML=ShowAdditionalHCP4F.innerHTML;
  } else {
     AdditionalHCP1H.style.display="none";
     AdditionalHCP1F.style.display="none";
     AdditionalHCP2H.style.display="none";
     AdditionalHCP2F.style.display="none";
     AdditionalHCP3H.style.display="none";
     AdditionalHCP3F.style.display="none";
     AdditionalHCP4H.style.display="none";
     AdditionalHCP4F.style.display="none";
     AdditionalHCP1H.innerHTML=Blank.innerHTML;
     AdditionalHCP1F.innerHTML=BlankAdditionalHCP1F.innerHTML;
     AdditionalHCP2H.innerHTML=Blank.innerHTML;
     AdditionalHCP2F.innerHTML=BlankAdditionalHCP2F.innerHTML;
     AdditionalHCP3H.innerHTML=Blank.innerHTML;
     AdditionalHCP3F.innerHTML=BlankAdditionalHCP3F.innerHTML;
     AdditionalHCP4H.innerHTML=Blank.innerHTML;
     AdditionalHCP4F.innerHTML=BlankAdditionalHCP4F.innerHTML;
  }
}
function ChkSusNotedDate() {
  if (isWhitespace(document.UpdateForm.alref061.value)) {
    document.UpdateForm.alref165.className="PastDate"
  } else {
    document.UpdateForm.alref165.className="Mandatory PastDate";
  }
}
function ChkSusNotedField() {
  if (isWhitespace(document.UpdateForm.alref165.value)) {
    document.UpdateForm.alref061.className=""
  } else {
    document.UpdateForm.alref061.className="Mandatory";
  }
}
function ChkPriorityRef() {
	var optPri = document.UpdateForm.alref027.value.replace(/ /g,"");
	var userHosp = GetCookieData("IBAUserHosp");

	//if priority is Deselected, Waiting for Triage or Transfer Other Services
	if (!optPri || optPri.substr(0,3) == "WAI" || optPri.substr(0,3) == "TOS"){
		document.UpdateForm.alref027.className = ""; // Priority
		document.UpdateForm.alref084.className = ""; // Prioritising HCP
		document.UpdateForm.alref127.className = ""; // Date of Priority
		document.UpdateForm.alref141.className = ""; // Priority Outcome
		document.UpdateForm.alref038.className = ""; // Responsible HCP
	}else if(optPri.substr(0,3) == "NOT"){
		//if priority is Not Seen

		if(userHosp == "WRH" || userHosp == "PNH" || userHosp == "HOR"){
			document.UpdateForm.alref027.className = "Mandatory"; // Priority
		}
		
		document.UpdateForm.alref084.className = ""; // Prioritising HCP
		document.UpdateForm.alref127.className = "Mandatory"; // Date of Priority
		document.UpdateForm.alref141.className = "Mandatory"; // Priority Outcome
		document.UpdateForm.alref038.className = ""; // Responsible HCP
	}else{
		//for any other priority
		if(userHosp == "WRH" || userHosp == "PNH" || userHosp == "HOR"){
			document.UpdateForm.alref027.className = "Mandatory"; // Priority
		}
		
		document.UpdateForm.alref084.className = "Mandatory"; // Prioritising HCP
		document.UpdateForm.alref127.className = "Mandatory"; // Date of Priority
		document.UpdateForm.alref141.className = "Mandatory"; // Priority Outcome
		document.UpdateForm.alref038.className = "Mandatory"; // Responsible HCP	
	}
}
// if suspicion of cancer high or confirmed 
// make faster cancer treatment checkbox editable

// update value written to database
function updateFasterTreatmentValue() {
	if (document.UpdateForm.d_alref082.checked) {
		document.UpdateForm.alref082.value = "1";
	} else {
		document.UpdateForm.alref082.value = "0";
	}
}

// update faster treatment check box with value from database
function setFasterCancerTreatment() {
	if (document.UpdateForm.alref082.value) {
		var val = document.UpdateForm.alref082.value.replace(/ /g,"");
		if (val === "1" || val === "Yes")
			document.UpdateForm.d_alref082.checked = true;
		else
			document.UpdateForm.d_alref082.checked = false;
	}
}

// enable faster treatment option if cancer suspicion high or confirmed
function enableFasterCancerTreatment() {
	var suspicion = document.UpdateForm.alref061.value.substr(0,3);
	if (suspicion === "R01" || suspicion === "R02") {
		document.UpdateForm.d_alref082.disabled = false;
	} else {
		document.UpdateForm.d_alref082.checked = false;
		document.UpdateForm.d_alref082.disabled = true;
	}
}
function OpenDocument(LinkUrl) {
  NewWindow=window.open(LinkUrl,"NewWindow",
  "top=10,left=10,width=800,height=600,location=no,toolbar=yes,scrollbars=yes")
}
function openNotes() {
		linkurl="cliweb06.pbl?reportno=07&template=001"
		+ "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")
		+ "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+")
		+ "&deptcode=" + document.UpdateForm.deptcode.value.replace(/ /g,"+");
	Left=(document.body.clientWidth-900)/2;
	DFrameLink(linkurl,0,Left,900,550);
}
function setDefaults(){
	SetSite();
	ChkSusNotedDate();
	ChkSusNotedField();
	setFasterCancerTreatment();
	enableFasterCancerTreatment();
	// 01 : TAS : Assign DB eReferral flag to template variable
	setEReferralValue();
}
// 01 : TAS : Add eReferral flag value from DB to template variable
function setEReferralValue() {
	if (document.UpdateForm.alref081.value) {
		var val = document.UpdateForm.alref081.value.replace(/ /g,"");
		if (val === "1" || val === "Yes")
			document.UpdateForm.alref081.value = "1";
		else
			document.UpdateForm.alref081.value = "0";
	}
}
//end of change
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);setDefaults();">
<span class=DFrameTitleBar>
 <img border=0 align=right src="../images/ExitIcon.gif" onclick="DFrameExit();">
      %ALLWEB02.02.125.0 Referral - %ALLWEB02.02.002 ( %ALLWEB02.02.003 ) </span>
<div id=PageBodySection style="overflow: auto;">
<form name=UpdateForm action="allweb02.pbl" method=post
      onsubmit='return validateMandatory(this);'> 
 <input type=hidden name=reportno value="2">
 <input type=hidden name=updatety value="U">
 <input type=hidden name=urnumber value="%ALLWEB02.02.003">
 <input type=hidden name=admissno value="%ALLWEB02.02.081">
 <input type=hidden name=deptcode value="%ALLWEB02.02.125.1">
 <input type=hidden name=redirect value="">
 <input type=hidden name=dummy>
 <input type=hidden name=nextpage value="">
 <input type=hidden name=ptcnueoc value="%ALLWEB02.02.503">
 <input type=hidden name=alref083 value="">
 <input type=hidden name=wbsesite value="%STANDARD.01.023">
 <input type=hidden name=hcpprovno value="%ALLWEB02.02.122.2">
 <input type=hidden name=defctype value="%ALLWEB02.02.167.1">
 <input type=hidden name=deftclid value="%ALLWEB02.02.188.1">
 <input type=hidden name=override value="2">
 <input type=hidden name=pmpmi059 value="%ALLWEB02.02.684.001">
 <input type=hidden name=pmpmi060 value="%ALLWEB02.02.685.001">
 <input type=hidden name=pmpmi061 value="%ALLWEB02.02.661">
 <input type=hidden name=catAO value="AO">
 <input type=hidden name=d_alref141 value="%ALLWEB02.02.199.012.1">
 <input type=hidden name=d_alref019 value="%ALLWEB02.02.119">
 <input type=hidden name=pmpxrhc1 value="%ALLWEB02.02.659">
 <input type=hidden name=alcncdhb id=alcncdhb value="%STANDARD.01.025.121.103.0.1">
 <input type=hidden name=nhdmdhb id=nhdmdhb value="%ALLWEB02.02.264">
 <input type=hidden name=d_ostcatg id=d_ostcatg value="%ALLWEB02.02.529">
 <input type=hidden name=d_depcod value="%ALLWEB02.02.125.3">
 <input type=hidden name=reqindc value="%ALLWEB02.02.239">
 <input type=hidden name=alref082 value="%ALLWEB02.02.143">
 <input type=hidden name=alref119 value="%ALLWEB02.02.182.1">
 <input type=hidden name=alref028 value="%ALLWEB02.02.128.1">
 <input type=hidden name=alref029 value="%ALLWEB02.02.129.1">
 <input type=hidden name=alref030 value="%ALLWEB02.02.130.1">
 <input type=hidden name=alref081 value="%ALLWEB02.02.142">

 <table align=center cellspacing=0 cellpadding=0 border=0 width=95%>
 <span id="ClinicDoc" style="display:none">
<tr>
  <td class=HeadingCell>Linked Documents</td>
  <td class=HeadingCell>Description</td>
  <td class=HeadingCell>Date Input</td>
  <td class=HeadingCell>Input By</td>
</tr>
<tr><td>&nbsp;</td><td>&nbsp;</td>
    <td>&nbsp;</td><td>&nbsp;</td></tr>
 %ALLWEB02.02.202
 </span>
<tr><td colspan=4><hr></td></tr>
<tr>
  <td class=DataLabel>Patient Notes</td>
  <td><input type=button class="button" value="Add/View" name=comtbutt tabindex=1
     onclick="openNotes();"></td>
</tr/>
  <tr><td colspan=4><hr></td></tr>
    <tr><td class=DataLabel>Priority</td>
	<td><select title="Priority" name=alref027 class="SelectBig" tabindex=2
                 onchange="selectCatCodInd(catAO,alref141,d_alref141,alref027,
                                           '1','1');ChkPriorityRef();">
           <option></option>
             %ALLWEB02.02.127.2
         </select></td></tr>
    <tr><td class=DataLabel>Date of Priority</td>
     <td><input type=text name=alref127 size=12 tabindex=3
                onblur="checkDate(this,'Date');" value="%STANDARD.01.015"
                title="Date of Priority" class="PastDate">
           <img src="../images/DateTimeStamp.gif" class=Icon alt="Current"
                date=UpdateForm.alref127 time=null>
           <img src="../images/DateLookup.gif" class=Icon alt="Show Calendar"
                date=UpdateForm.alref127></td></tr>

    <tr><td class=DataLabel>Must Be Seen By Date</td>
     <td><input type=text name=alref126 size=12 tabindex=4
                onblur="checkDate(this,'Date');" value="%ALLWEB02.02.189"
                title="Must Be Seen By Date">
           <img src="../images/DateTimeStamp.gif" class=Icon alt="Current"
                date=UpdateForm.alref126 time=null>
           <img src="../images/DateLookup.gif" class=Icon alt="Show Calendar"
                date=UpdateForm.alref126></td></tr>
				
	<tr><td class=DataLabel>Next Review Date</td>
	<td><input type=text name=alref037 size=12 tabindex=5
                 onblur="checkDate(this,'Date');" value="%ALLWEB02.02.137"
                 title="Next Review Date">
            <img src="../images/DateTimeStamp.gif" class=Icon alt="Current"
                 date=UpdateForm.alref037 time=null>
             <img src="../images/DateLookup.gif" class=Icon alt="Show Calendar"
                 date=UpdateForm.alref037></td></tr>			
				 
    <tr><td class=DataLabel>Prioritising HCP</td>
     <td><input type=text name=alref084 size=10 maxlength=10
                value="%ALLWEB02.02.145.1" tabindex=6 title="Prioritising HCP"
                onblur="UpCase(this);
                        if (checkAlphanumDesc(event,this) != false) {
                          ValidateHCP(18,14,alref084,n_alref084);
                        }">
         <input type=text name=n_alref084 size=30 readonly notab
                title="Prioritising HCP" class=Readonly value="%ALLWEB02.02.145.0">
           <img src="../images/SearchIcon.gif" class=Icon
                onclick="HCPSearchFrame(alref084,n_alref084,1);">
           <img src="../images/ClearIcon.gif" class=Icon
                onclick="clrFields(alref084,n_alref084);"></td></tr>

    <tr><td class=DataLabel>%ALLWEB02.02.199.012.8</td>
     <td><select title="%ALLWEB02.02.199.012.8" name=alref141 tabindex=7
                 class="SelectBig" onchange="DisplayTrnSrcOut(UpdateForm);">
            <option></option>
         </select></td></tr>

 <tr><td class=DataLabel></td>
     <td></td>
     <td><div id=TranSrcHeadingOut></div></td>
     <td><div id=TranSrcOut></div></td>
     <tr>			
      <tr><td class=DataLabel>%STANDARD.01.017.lv</td>
      <td><select name=alref061 title="%STANDARD.01.017.lv" tabindex=8
                  class="" onchange="ChkSusNotedDate();enableFasterCancerTreatment();">
            <option></option>
              %ALLWEB02.02.199.046.2
          </select></td></tr>
<tr><td class=DataLabel>Suspicion Noted Date</td>
      <td><input type=text name=alref165 size=12 tabindex=9
                 class="PastDate" value="%ALLWEB02.02.199.040"
                 title="Suspicion Noted Date"
                 onblur="checkDate(this,'Date');ChkSusNotedField();">
            <img src="../images/DateTimeStamp.gif" class=Icon alt="Current"
                 date=UpdateForm.alref165 time=null>
            <img src="../images/DateLookup.gif" class=Icon alt="Show Calendar"
                 date=UpdateForm.alref165></td></tr>
<tr>
	<td class=DataLabel>Faster Cancer Treatment (2 Weeks)</td>
 	<td><input type=checkbox value="%ALLWEB02.02.143" name=d_alref082
               title="Faster Cancer Treatment (2 Weeks)" tabindex=10>
</td></tr>	
 <tr><td class=DataLabel>Responsible HCP</td>
     <td><input type=text name=alref038 size=10 maxlength=10
                value="%ALLWEB02.02.138.1" tabindex=11
                title="Responsible HCP"
                onblur="UpCase(this);
                        if (checkAlphanumDesc(event,this) != false) {
                          ValidateHCP(18,14,alref038,n_alref038);
                        }"
                onchange="if (checkAlphanumDesc(event,this) != false) {
                            getCaseTeamByHCP(alref038,alref087,n_alref087,
                                             d_alref019);
                          }">
         <input type=text name=n_alref038 size=30 readonly title="HCP Name"
                value="%ALLWEB02.02.138.0" class=Readonly>
           <img src="../images/SearchIcon.gif" id="img_alref038" class=Icon
                onclick="hcpOnChange(alref038,n_alref038,alref087,n_alref087,
                                     d_alref019);">
           <img src="../images/ClearIcon.gif" class=Icon
                onclick="clrFields(alref038,n_alref038);"></td>
 <tr><td class=DataLabel>Case Team</td>
     <td><input type=text name=alref087 size=11 maxlength=10 title="Case Team"
                value="%ALLWEB02.02.148.1" tabindex=12
                onblur=" validateCode2(7,alref087,n_alref087);"
                onchange="getHCPbyCaseTeam(alref087,alref038,n_alref038,
                                           d_alref019);">
        <input type=text name=n_alref087 size=29 readonly
               value="%ALLWEB02.02.148.0"
               class=Readonly title="Team Description">
          <img src="../images/SearchIcon.gif" id="img_alref087" class=Icon
               onclick="caseTeamOnChange(alref087,n_alref087,alref038,n_alref038,
                                         d_alref019);">
          <img src="../images/ClearIcon.gif" class=Icon
               onClick="clrFields(alref087,n_alref087);"></td></tr>
 <tr><td class=DataLabel>Additional HCP</td>
     <td><input type=checkbox name=addithcp value="1" tabindex=13
                onclick="CheckAddHCP();"></td>
</tr>

    <tr><td class=DataLabel><div id=AdditionalHCP1H></div></td>
        <td><div id=AdditionalHCP1F></div></td>
        <td class=DataLabel><div id=AdditionalHCP2H></div></td>
        <td><div id=AdditionalHCP2F></div></td></tr>

  <tr><td class=DataLabel><div id=AdditionalHCP3H></div></td>
      <td><div id=AdditionalHCP3F></div></td>
      <td class=DataLabel><div id=AdditionalHCP4H></div></td>
      <td><div id=AdditionalHCP4F></div></td></tr>

 <tr><td colspan=4 align=center><br>
         <input type=button name=formactn value="Save and Close" class="button" tabindex=18
		        onclick="tempDisable(this); UpdateReferral(0);">
		 <input type=button name=formactn value="Save/Close/Search on HCP" class="button" style="width: 20%" tabindex=19
		        onclick="tempDisable(this); UpdateReferral(1);">
		 <input type=button name=formactn value="Save and Stay" class="button" tabindex=20 
				onclick="UpdateReferral2(); msgSaved();">
         <input type=button Value="Close" class="button" tabindex=21
                onClick="DFrameCloseRefresh();"></td></tr>

</table>
</form>
</div>

<span id=transferblankout style="display:none">
  <input type=hidden name=aldad002>
</span>

<span id=transferblank style="display:none">
  <input type=hidden name=aldad001>
</span>

<span id="Blank" style="display:none;"></span>

<span id="BlankAdditionalHCP1F" style="display:none;">
  <input type=hidden name=alref085 value="">
</span>

<span id="BlankAdditionalHCP2F" style="display:none;">
  <input type=hidden name=alref086 value="">
</span>

<span id="BlankAdditionalHCP3F" style="display:none;">
  <input type=hidden name=alref166 value="">
</span>

<span id="BlankAdditionalHCP4F" style="display:none;">
  <input type=hidden name=alref167 value="">
</span>

<span id="ShowAdditionalHCP1H" style="display:none;">Additional HCP 1</span>

<span id="ShowAdditionalHCP1F" style="display:none;">
  <input type=text name=alref085 size=10 maxlength=10
         title="Additional HCP 1" tabindex=14 value="%ALLWEB02.02.146.1"
         onblur="ValidateHCP(18,0,alref085,d_alref085);">
  <input type=text name=d_alref085 size=30 class=Readonly readonly
         title="Additional HCP 1" value="%ALLWEB02.02.146.0">
    <img src="../images/SearchIcon.gif" class=Icon
         onclick="HCPSearchFrame(alref085,d_alref085,0);">
    <img src="../images/ClearIcon.gif" class=Icon
         onClick="clrFields(alref085,d_alref085);">
</span>

<span id="ShowAdditionalHCP2H" style="display:none;">Additional HCP 2</span>

<span id="ShowAdditionalHCP2F" style="display:none;">
  <input type=text name=alref086 size=10 maxlength=10
         title="Additional HCP 2" tabindex=15 value="%ALLWEB02.02.147.1"
         onblur="ValidateHCP(18,0,alref086,d_alref086);">
  <input type=text name=d_alref086 size=30 class=Readonly readonly
         title="Additional HCP 2" value="%ALLWEB02.02.147.0">
    <img src="../images/SearchIcon.gif" class=Icon
         onclick="HCPSearchFrame(alref086,d_alref086,0);">
    <img src="../images/ClearIcon.gif" class=Icon
         onClick="clrFields(alref086,d_alref086);">
</span>

<span id="ShowAdditionalHCP3H" style="display:none;">Additional HCP 3</span>

<span id="ShowAdditionalHCP3F" style="display:none;">
  <input type=text name=alref166 size=10 maxlength=10
         title="Additional HCP 3" tabindex=16 value="%ALLWEB02.02.199.042.1"
         onblur="ValidateHCP(18,0,alref166,d_alref166);">
  <input type=text name=d_alref166 size=30 class=Readonly readonly
         title="Additional HCP 3" value="%ALLWEB02.02.199.042.0">
    <img src=../images/SearchIcon.gif class=Icon
         onclick="HCPSearchFrame(alref166,d_alref166,0);">
    <img src="../images/ClearIcon.gif" class=Icon
         onClick="clrFields(alref166,d_alref166);">
</span>

<span id="ShowAdditionalHCP4H" style="display:none;">Additional HCP 4</span>

<span id="ShowAdditionalHCP4F" style="display:none;">
  <input type=text name=alref167 size=10 maxlength=10
         title="Additional HCP 4" tabindex=17 value="%ALLWEB02.02.199.043.1"
         onblur="ValidateHCP(18,0,alref167,d_alref167);">
  <input type=text name=d_alref167 size=30 class=Readonly readonly
         title="Additional HCP 4" value="%ALLWEB02.02.199.043.0">
    <img src=../images/SearchIcon.gif class=Icon
         onclick="HCPSearchFrame(alref167,d_alref167,0);">
    <img src="../images/ClearIcon.gif" class=Icon
         onClick="clrFields(alref167,d_alref167);">
</span>

<script type="text/javascript">
var UF = document.UpdateForm;
SACSRef="%ALLWEB02.02.144";
 if(SACSRef=="Yes") {
   UF.alref083.value=1;
 } else{
   UF.alref083.value=0;
 }

 CommentIndicator="%ALLWEB02.02.218";
 if ( CommentIndicator =="1" ) {
    document.all.comtbutt.className="RedButton";
 }
</script>
