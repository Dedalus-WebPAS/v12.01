<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="stv">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/websec01.js"> </script>
<script type="text/javascript" src="../js/MrtHomeLocns.js"></script>
<script type="text/javascript" src="../js/MrtMultiHomeLocns.js"></script>
<script type="text/javascript" src="../js/MrtLocations.js"></script>
<script type="text/javascript" src="../js/MrtMultiLocations.js"></script>

%START.OF.PAGE

<script type="text/javascript"> 

var internalPassword = %WEBSEC01.03.066 ;

function init(){

  SetLocations();
  if(internalPassword == 1) return;

  document.security_main.wbsec012.value = "";
  document.security_main.wbsec014.value = 0;
  document.security_main.wbsec014.checked = 0;
  document.security_main.wbsec015.value = "000";

  document.getElementById('hpw00').style.display = "none";
  document.getElementById('hpw01').style.display = "none";
  document.getElementById('hpw02').style.display = "none";
  document.getElementById('hpw03').style.display = "none";
  document.getElementById('hpw04').style.display = "none";
} 

function SetLocations() {
  p=document.security_main;
  p.wbsec023.options.length=0;
  p.wbsec023.options[p.wbsec023.options.length]= new Option(" "," ");

  if (p.ibcnmhos.value==1) {
      MrtMultiHomeLocns(p.wbsec023,p.d_wbsec023.value,p.wbsec057.value)
  } else {
      MrtHomeLocns(p.wbsec023,p.d_wbsec023.value)
  }
}
function CheckClinic() {
  p=security_main
  if(isWhitespace(p.wbsec006.value)) {
    p.wbsec007.value="";
    p.name_wbsec007.value="";
    return;
  }
  validateClinic(p.wbsec006,p.wbsec007,p.name_wbsec007)
}
function UserSiteAccess(){

  var p = document.security_main;

  if(p.d_wbsec061.checked==true){
     alert("This User already has Access to all Sites");
     return;
  }
  linkurl = "websec01.pbl?reportno=03&template=009"
          + "&wbsec001=" + p.wbsec001.value.replace(/ /g,"+");
  Left = (document.body.clientWidth-650)/2;
  DFrameLink(linkurl,0,Left,650,450);
}
function HospitalFieldsUpd() {
  p=document.security_main;
  SelectOptionsHospCatCode(p.ctcode,p.wbsec031,p.wbsec032);
}
</script>
</head>
<body onload="PageLoad(event);document.security_main.wbsec001.focus();
              DisableDeleteButton();">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
Security ID Maintenance
</span>

<div style="overflow:auto;height:95%;width:100%">

<form name=security_main method=post action=websec01.pbl>
   <input type=hidden name=reportno value="3">
   <input type=hidden name=template value="003">
   <input type=hidden name=updttype value="U">
   <input type=hidden name=nextpage value="0">
   <input type=hidden name=redirect 
    value="websec01.pbl?reportno=03&template=001">
   <input type=hidden name=deftclid value="%WEBSEC01.03.007">
   <input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
   <input type=hidden name=dummy001>
   <input type=hidden name=d_wbsec023 value="%WEBSEC01.03.069">
   <input type=hidden name=ctcode value="CT">
   <input type=hidden name=ptcnusld value="%STANDARD.01.025.124.248.1.1">
   <input type=hidden name=ptcnsecl value="%STANDARD.01.025.124.249.1.2">
   <input type=hidden name=cuuserid value="%WEBSEC01.03.088">

<table align=center cellspacing=0 width=98% border=0>
<tr><td class=DataLabel >User ID</td>
    <td><input type=text name=wbsec001 title="User ID" 
     size=10 readonly maxlength=10 value="%WEBSEC01.03.001" 
     class=Readonly tabindex=-1></td>
    <td class=DataLabel>User Name</td>
    <td><input type=text name=wbsec002 class=Mandatory title="User Name" 
     size=35 maxlength=35 value="%WEBSEC01.03.002"></td></tr>

      <tr>
        <td class=DataLabel>Login Name</td>
        <td>
          <input type=text name=wbsec063 class="Mandatory" title="Login Name" size=40 
           maxlength=80 value="%WEBSEC01.03.079" />
        </td>
        <td class=DataLabel>E-mail</td>
        <td>
          <input type=text name=wbsec062 title="Email" size=40 
           maxlength=80 value="%WEBSEC01.03.078" />
        </td>
      </tr>

<tr><td class=DataLabel>Doctor Code</td>
    <td><input type=text name=wbsec003 title="Doctor Code" id=wbsec003
         size=8 maxlength=6 value="%WEBSEC01.03.003.1" 
         onBlur="validateCode(3,wbsec003,name_wbsec003)">
    <input type=text name=name_wbsec003 readonly size=25 maxlength=23
     value="%WEBSEC01.03.003.0" class=Readonly tabindex=-1 id=name_wbsec003>
    <img src="../images/SearchIcon.gif" class=Icon
     onClick="DoctorSearchFrame(wbsec003,name_wbsec003);">
    <img src="../images/erase.gif" class=Icon 
     onClick="clrDoc(wbsec003,name_wbsec003);"></td>
    <td class=DataLabel>Finance Passcode</td>
    <td><input type=text name=wbsec028 title="Finance Passcode" 
     size=10 maxlength=4 value="%WEBSEC01.03.030"></td>
    </tr>

<tr><td class=DataLabel>Outpatient Site</td>
    <td><select name=wbsec006 id=wbsec006 
         title="Outpatient Site" onchange="CheckClinic();">
    <option></option>
    %WEBSEC01.03.006.2
    </select></td>
    <td class=DataLabel>Outpatient Clinic</td>
    <td><input type=text name=wbsec007 title="Clinic ID" size=8 id=wbsec007
         maxlength=6 value="%WEBSEC01.03.007"
         onblur="UpCase(this);validateClinic(wbsec006,wbsec007,name_wbsec007)">
        <input type=text name=name_wbsec007 class="Readonly" title="Clinic Id"
        size=25 maxlength=25 readonly value="%WEBSEC01.03.036" id=name_wbsec007>
        <img class=Icon src=../images/SearchIcon.gif
         onClick="ClinicSessionSearchFrameSite(wbsec006,wbsec007,name_wbsec007);">
        <img src="../images/erase.gif" class=Icon
         onClick="clrDoc(wbsec007,name_wbsec007);"></td>
    </tr>

<tr><td class=DataLabel>All Outpatient Access</td>
    <td><input type=hidden name=wbsec061 id=wbsec061>
        <input type=checkbox name=d_wbsec061 value="1" id=d_wbsec061>
 <a href="javascript:UserSiteAccess();">User Outpatient Access<img src=../images/MaintenanceIcon.gif class=Icon></a>
    </td>
</tr>

<tr>
<!-- Display Multi-hospital selection list when IBCNMHOS=1 -->
    %WEBSEC01.03.034.3.1
      <input type=hidden name=wbsec035>

    <td class=DataLabel>Clinic Location Type</td>
    <td><select name=wbsec032 title="Clinic Location Type">
    <option></option>
    %WEBSEC01.03.035.2
    </select></td></tr>

<tr><td class=DataLabel><div id=HospitalAccessHeading></div></td>
    <td><div id=HospitalAccess></div></td>

<tr><td class=DataLabel>Ward</td>
    <td><select name=wbsec005 title="Ward" class=Mandatory>
    <option></option>
    %WEBSEC01.03.005.2
    </select> </td>
    <td class=DataLabel>Occupational Group</td>
    <td><select name=wbsec008 title="Occupational Group">
    <option></option>
    %WEBSEC01.03.008.2
    </select></td></tr>

<tr>
    <td class=DataLabel>Emergency Site Code</td>
    <td><select name=wbsec010 title="Emergency Site Code">
    <option></option>
    %WEBSEC01.03.010.2
    </select></td>

    <td class=DataLabel>Default Menu</td>
    <td><input type=text name=wbsec016 title="Default Menu"
     size=9 maxlength=8 value="%WEBSEC01.03.019"></td>
</tr> 

<tr>
	 <td class=DataLabel>Log in URL</td>
    <td><input type=text name=wbsec009 class=Mandatory title="Log in URL"
     size=40 maxlength=40 value="%WEBSEC01.03.009"></td>
    <td id="hpw00" class="DataLabel">User Password expiry Date</td>
    <td id="hpw01"><input type=text name=wbsec012 title="Security password expiry Date" 
         size=12 maxlength=11 value="%WEBSEC01.03.012">
        <img src=../images/DateTimeStamp.gif class=Icon 
         date=security_main.wbsec012>
        <img class=Icon src=../images/DateLookup.gif 
         date=security_main.wbsec012>
    </td></tr>

<tr>
        <td class="DataLabel">User Security Active</td>
        <td>
          <input type=checkbox name=wbsec011 title="User Security Active" value="1">
          <span id="hpw02">
            &nbsp; Auto Ageing Enabled &nbsp;
            <input type="checkbox" name="wbsec014" value="1" onclick="SetDays03();">
          </span>
        </td>
        <td class="DataLabel" id="hpw03">Age by Number of Days</td>
        <td id="hpw04">
          <input type="input" name="wbsec015" class="Number"
           title="Age by Number of Days" maxlength="3" size="5" 
           value="%WEBSEC01.03.018" onblur="checkInteger(this,this.title);">
        </td>
      </tr>

<tr>
   <td class=DataLabel>Last Login Date/Time</td>
   <td class=DataField>%WEBSEC01.03.085 - %WEBSEC01.03.086</td>
   <td class=DataLabel>&nbsp;</td>
   <td class=DataField>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Referral Management Department</td>
    <td><select name=wbsec021 title="Referral Management Department">
    <option></option>
    %WEBSEC01.03.051.2
    </select></td>

    <td class=DataLabel>Department</td>
    <td><select name=wbsec017 title "Department">
    %WEBSEC01.03.020.1
    </select></td></tr>

<tr><td class=DataLabel>GP Code</td>
    <td><input type=text name=wbsec018 title="GP Code" id=wbsec018
     readonly size=10 maxlength=10 value="%WEBSEC01.03.021.1"
     class=Readonly tabindex=-1>
    <input type=text name=name_wbsec018 readonly size=23 maxlength=21
     value="%WEBSEC01.03.021.0" class=Readonly tabindex=-1 id=name_wbsec018>
    <img src="../images/SearchIcon.gif" class=Icon
     onClick="HCPSearchFrame(wbsec018,name_wbsec018,3);">
    <img src="../images/erase.gif" class=Icon 
     onClick="clrDoc(wbsec018,name_wbsec018);"></td>

     </tr>
<tr><td class=DataLabel>Document Type</td>
    <td><select name=wbsec022 title="Document Type">
    <option></option>
    %WEBSEC01.03.024.2
    </select></td>

<!-- ....... if Multi hospital "MRT Home Hospital" goes here -->
    %WEBSEC01.03.068

    <td class=DataLabel>MRT Home Location</td>
    <td><select name=wbsec023 title="MRT Home Location">
    <option></option>
    </select></td></tr>

<tr><td class=DataLabel>View Alert Security Level</td>
    <td><select name=wbsec024 title="View Alert Security Level">
    <option></option>
    %WEBSEC01.03.026
    </select></td>
    <td class=DataLabel>Add Alert Security Level</td>
    <td><select name=wbsec025 title="Add Alert Security Level">
    <option></option>
    %WEBSEC01.03.027
    </select>
    </td></tr>

<tr><td class=DataLabel>Day/General Surgery Ind</td>
    <td><select name=wbsec026 title="Day/General Surgery Ind">
         <option value="   ">All</option>
          %WEBSEC01.03.028.2
        </select></td>
    <td class=DataLabel>Cashier</td>
        <input type=hidden name=wbsec027>
    <td><input type=checkbox name=d_wbsec027 title="Cashier"
         value=1> </td> 
</tr>

<tr><td class=DataLabel>All Medical Practice Access</td>
        <input type=hidden name=wbsec029>
    <td class=DataLabel>
    <input type=checkbox name=d_wbsec029 title="All Medical Practice Access"
     value=1>&nbsp;&nbsp;
     <A HREF="javascript:UserSecAccess();">User Practice Access<img src=../images/MaintenanceIcon.gif class=Icon></a></td>
                              
    <td class=DataLabel>MRT Security Number</td>
    <td><input type=text name=wbsec030 title="MRT Security Number" 
     size=16 maxlength=8 value="%WEBSEC01.03.033"></td>

</tr>

<tr><td class=DataLabel>Department (Free Format)</td>
    <td><input type=text name=wbsec033 title="Department (Free Format)"
         size=17 maxlength=15 value="%WEBSEC01.03.037"></td>
    <td class=DataLabel>Nurse Code</td>
    <td><input type=hidden name=gnm value="">
        <input type="text" name=wbsec034 size=10 id=wbsec034
     onblur="UpCase(this);validateNurse(wbsec034,dummy1);" title="Nurse"
     value="%WEBSEC01.03.038.1">
    <input type="text" name=dummy1 size=20 class=Readonly readonly
     value="%WEBSEC01.03.038.0" id=dummy1>
    <img src=../images/SearchIcon.gif class=Icon 
    onclick='NurseSearchFrame(wbsec034,dummy1);'>
    <img src="../images/erase.gif" class=Icon
     onClick="clrDoc(wbsec034,dummy1);">
    </td>
    </tr>

<tr><td class=DataLabel>Bed Board View Number</td>
    <td><select name=wbsec036 title="Bed Board View Number">
    <option></option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    </select></td>
    <td class=DataLabel>&nbsp;</td>
    <td class=DataField>&nbsp;</td>   
    </tr>

<tr><td class=DataLabel>Created By </td>
    <td class=DataField>%WEBSEC01.03.039</td>
    <td class=DataLabel>Date/Time Created </td>
    <td class=DataField>%WEBSEC01.03.040 - %WEBSEC01.03.041</td>
    </tr>

<tr><td class=DataLabel>Last Updated By </td>
    <td class=DataField>%WEBSEC01.03.042</td>
    <td class=DataLabel>Last Update Date/Time </td>
    <td class=DataField>%WEBSEC01.03.043 - %WEBSEC01.03.044</td>
    </tr>


<tr><td colspan=4 align=center><br>
   <input type=button value="Update"  class="button"
          onclick="UpdateAction03();">
   <inpuT type=button value="Delete"  class="button"
          name=btnDelete id=btnDelete
          onclick="DeleteAction03();">
   <input type=button value="Close"   class="button"
          onClick="DFrameCloseRefresh()">
   <input type=button value="Reset"   class="button"
          onClick="ResetAction03()">
   <input type=button value="Copy"    class="button" 
          onClick="CopyAction03()">
   <input type=button value="Report Menu" class="button" 
          onClick="ReportGrop03()">
   <input type=button value="Levels"  class="button" 
          onClick="secLevels03();">
   <input type=button value="Casemix" class="button"
          onClick="casExtSec03();">
</td></tr>
<tr><td colspan=4 align=center>
   <input type=button value="Category Security" class="Bigbutton"
          onclick="CategorySec();">
    </td>
</tr>
</table>
</form>
</div>

<span id=hospitalaccessheading style="display:none">
All Hospital Access
</span>
<span id=hospitalaccess style="display:none">
    <td><input type=checkbox name=d_wbsec035 value=1 >
     <A HREF="javascript:UserHosAccess();">User Hospital Access
     <img src=../images/MaintenanceIcon.gif hspace=4 border=0 align=absmiddle>
     </a></td>
</span>
<span id=blanklabel style="display:none">&nbsp;</span>
<script type="text/javascript">
if  ("%WEBSEC01.03.011.1" == "1")
 { document.security_main.wbsec011.checked="1"; }
if  ("%WEBSEC01.03.017.1" == "1")
 { document.security_main.wbsec014.checked="1"; 
   document.security_main.wbsec015.className="Mandatory Number"; 
 }
if ("%WEBSEC01.03.029" == "1")
 { document.security_main.d_wbsec027.checked="1"}
if ("%WEBSEC01.03.032" == "1")
 { document.security_main.d_wbsec029.checked="1"}
if ("%STANDARD.01.025.000.043.1.1" == "1"){
    HospitalAccessHeading.innerHTML=hospitalaccessheading.innerHTML;
    HospitalAccess.innerHTML=hospitalaccess.innerHTML;}
   else {
    HospitalAccessHeading.innerHTML=blanklabel.innerHTML;
    HospitalAccess.innerHTML="";}
if ("%WEBSEC01.03.045" == "1")
 { document.security_main.d_wbsec035.checked="1" }
for (var i =0 ; i < document.security_main.wbsec036.length; i++) {
 if (document.security_main.wbsec036.options[i].value=="%WEBSEC01.03.047") {
     document.security_main.wbsec036.selectedIndex=i } };

if("%WEBSEC01.03.074" == "1"){
  if(document.security_main.d_wbsec061!=undefined){
    document.security_main.d_wbsec061.checked="1";
  }
}
filterCatCodeList(document.security_main.wbsec021,"3"," ","1")
</script>
