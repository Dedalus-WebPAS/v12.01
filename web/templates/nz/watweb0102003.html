<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="nz">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/watweb0102.js"></script>
<script type="text/javascript">

//Sets the array to store specialties
var specialtyArray = new Array();
var selectedSpecialty = -1;

function showACC(theForm) {
  checkInd=theForm.wattx026.value.substr(3,5)
  if (checkInd.search(/W/g) >= 0) {
      ACCHeading.innerHTML=acchd.innerHTML;
      ACCId.innerHTML=accorderid.innerHTML;
    } else {
      ACCHeading.innerHTML=blanklabel.innerHTML;
      ACCId.innerHTML=blanklabel.innerHTML;
    }
}
function setLastReview(){
  UpdateForm.wattr007.value=""
  UpdateForm.wattr007.className="Mandatory"
}
  
function checkPriority(){
/*if(trim(UpdateForm.wattr014.value.substr(6,1))=="T"){
    UpdateForm.wattr025.className="Mandatory NotFuturEdate"
  }else if(trim(UpdateForm.wattr014.value.substr(6,1))=="P"){
    UpdateForm.wattr025.className="Mandatory NotFuturEdate"
  }else {
    UpdateForm.wattr025.className="NotFuturEdate"
  }*/
 
  if(trim(UpdateForm.wattr014.value.substr(6,1))=="" && trim(UpdateForm.saveTP.value.substr(6,1))!="" ){
    SelectObject = UpdateForm.wattr014.options;
    for(index = 0; index < SelectObject.length; index++) {
      if(SelectObject[index].value == UpdateForm.saveTP.value){
        SelectObject.selectedIndex = index;
      }
    }
    alert("Cannot change " + trim(UpdateForm.wattr014.title) + " from non-Normal to Normal");
  }
}
  
function init() {
  checkPriority();
  UpdateForm.redirect.value+="watweb01.pbl?reportno=4&template=4&casekeys=" +
                             PatientLinks.casekeys.value.replace(/ /g,"+");
}

function EnterSus() {
  i=document.UpdateForm.wattx004.selectedIndex;
  ind=document.UpdateForm.wattx004.options[i].value.substring(3,4);

  if (ind !="R") {
    CASEKEYS=PatientLinks.casekeys.value.replace(/ /g,"+");
    LinkUrl="watweb01.pbl?reportno=5&template=002&casekeys="+CASEKEYS;
    Left=(document.body.clientWidth-650)/2;
    DFrameLink(LinkUrl,50,Left,650,400);
  } 
}

function Listst() {
  i=document.UpdateForm.ListStat.selectedIndex;
  document.UpdateForm.wattx004.value=document.UpdateForm.ListStat.options[i].value.substring(3,6);
}

function UpdateWat() {
    if(document.UpdateForm.wattr025.value=="" && document.UpdateForm.certainty.value!=""){
      alert("Unable to clear Certainty Date " +
           document.UpdateForm.certainty.value +
          ", use supervisor function." ) 
    return;
    }
    datechk=validateOpDate();
    if (!datechk) {
        return
    }
    datechk2=validateTime();
    if (!datechk2) {
        return
    }
    if (validateMandatory(UpdateForm)) {
//
       datechk=validateFSARefRefDate();
       if (!datechk) {
           return
       }
//
       datechk=validateFSAFSARefDate();
       if (!datechk) {
           return
       }
//
       datechk=validateFSARefPreDOBDate();
       if (!datechk) {
           return
       }
//
       datechk=validateFSARefDate();
       if (!datechk) {
           return
       }
//
       if (!isWhitespace(document.UpdateForm.wattr025.value)) {
//
          datechk=validateCertRefDate();
          if (!datechk) {
              return
          }
//
          datechk=validateCertFSARefDate();
          if (!datechk) {
              return
          }
// 
          datechk=validateCertFSADate();
          if (!datechk) {
              return
          }
       }
//
      document.UpdateForm.wattr017.value = document.UpdateForm.specialt.value;
      linkACC();
      document.UpdateForm.submit();
    }
}
//
//------------------------------------------------------------
// Set Link ACC Redirect and Return program after link ACC
//------------------------------------------------------------
function linkACC() {
  if (UpdateForm.wattx026.value.substr(3,1)=='W') {
  UpdateForm.redirect.value="patweb89.pbl?reportno=01&template=005&systflag=4"+
                "&urnumber=" + PatientLinks.urnumber.value.replace(/ /g,"+") +
                "&casekeys=" + PatientLinks.casekeys.value.replace(/ /g,"+") 
    SetCookie("LinkACCCookie","");
  }
}
function validateOpDate(){
   date1=UpdateForm.wattr008.value;
   date2=UpdateForm.wattr028.value;
  if(isWhitespace(UpdateForm.wattr028.value) || isWhitespace(UpdateForm.wattr008.value)) { return true }
  else { 
    if(ChkDateTime2(date1,date2)) {
     message=" \"Proposed Operation Date\" should be equal to or greater than ";
     message+="\"Proposed Admission Date\"";
     alert(message);
     return false;
   }
  return true;
}
}
function ChkDateTime1(strtDate,endDate) {
  var strtDay  = strtDate.substring(0,2);
  var strtMon  = strtDate.substring(3,6);
  var strtYear = strtDate.substring(7,11);

  var endDay   = endDate.substring(0,2);
  var endMon   = endDate.substring(3,6);
  var endYear  = endDate.substring(7,11);

  strtMon = GetMonthNumber(strtMon);
  endMon  = GetMonthNumber(endMon);

  var strtDateTime = strtYear + strtMon + strtDay 
  var endDateTime  = endYear + endMon + endDay 
  if (endDateTime <= strtDateTime ) return false;
  return true;
}
//
function ChkDateTime2(strtDate,endDate) {
  var strtDay  = strtDate.substring(0,2);
  var strtMon  = strtDate.substring(3,6);
  var strtYear = strtDate.substring(7,11);

  var endDay   = endDate.substring(0,2);
  var endMon   = endDate.substring(3,6);
  var endYear  = endDate.substring(7,11);

  strtMon = GetMonthNumber(strtMon);
  endMon  = GetMonthNumber(endMon);

  var strtDateTime = strtYear + strtMon + strtDay
  var endDateTime  = endYear + endMon + endDay
  if (endDateTime >= strtDateTime ) {
     return false;
  }
  return true;
}
function validateTime(){
   date1=UpdateForm.wattr008.value;
   date2=UpdateForm.wattr006.value;
   if(ChkDateTime1(date1,date2)) {
     message=" \"Proposed Admission Date\" cannot be before";
     message+="\"Date on List\"";
     alert(message);
     return false;
   }
  return true;
}
function RemoveQuote(Field) {
    Field.value=Field.value.replace(/\"/g,"");
}

function valProc(thefield,thedesc) {
  validateCode(27,thefield,thedesc,UpdateForm.wpgrp)
}

function set003() {
  UpdateForm.wattr003.value=UpdateForm.d_wattr001.value
}
function set060(){

  UpdateForm.wattr060.value=trim(UpdateForm.d_wattr040.value);
}
function set061(){
  UpdateForm.wattr061.value=trim(UpdateForm.d_wattr041.value);
}

function validateCertRefDate(){
   date1=UpdateForm.wattr006.value;
   date2=UpdateForm.wattr025.value;
   if(ChkDateTime2(date1,date2)) {
     message=" \"Certainty Date\" must be equal to or greater than ";
     message+="\"Referral Date\"";
     alert(message);
     return false;
   }
  return true;
}
//
function validateCertFSARefDate(){
   date1=UpdateForm.wattr051.value;
   date2=UpdateForm.wattr025.value;
   if(ChkDateTime2(date1,date2)) {
     message=" \"Certainty Date\" must be equal to or greater than ";
     message+="\"FSA Referral Date\"";
     alert(message);
     return false;
   }
  return true;
}
//
function validateCertFSADate(){
   date1=UpdateForm.wattr052.value;
   date2=UpdateForm.wattr025.value;
   if(ChkDateTime2(date1,date2)) {
     message=" \"Certainty Date\" must be equal to or greater than ";
     message+="\"FSA Date\"";
     alert(message);
     return false;
   }
  return true;
}
//
function validateFSAFSARefDate(){
   date1=UpdateForm.wattr051.value;
   date2=UpdateForm.wattr052.value;
   if(ChkDateTime2(date1,date2)) {
     message=" \"FSA Date\" must be equal to or greater than ";
     message+="\"FSA Referral Date\"";
     alert(message);
     return false;
   }
  return true;
}
//
function validateFSARefDOBDate(){
   date1=UpdateForm.d_pbdate.value;
   date2=UpdateForm.wattr051.value;
   if(ChkDateTime2(date1,date2)) {
     message=" \"FSA Referral Date\" must be equal to or greater than ";
     message+="\"Date of Birth\"";
     alert(message);
     return false;
   }
  return true;
}
//
function validateFSARefDate(){
   date1=UpdateForm.wattr006.value;
   date2=UpdateForm.wattr052.value;
   if(ChkDateTime3(date1,date2)) {
     message=" \"FSA Date\" must be equal to or less than ";
     message+="\"Referral Date\"";
     alert(message);
     return false;
   }
  return true;
}
//
function validateFSARefRefDate(){
   date1=UpdateForm.wattr006.value;
   date2=UpdateForm.wattr051.value;
   if(ChkDateTime3(date1,date2)) {
     message=" \"FSA Referral Date\" must be equal to or less than ";
     message+="\"Referral Date\"";
     alert(message);
     return false;
   }
  return true;
}
//
function ChkDateTime3(strtDate,endDate) {
  var strtDay  = strtDate.substring(0,2);
  var strtMon  = strtDate.substring(3,6);
  var strtYear = strtDate.substring(7,11);

  var endDay   = endDate.substring(0,2);
  var endMon   = endDate.substring(3,6);
  var endYear  = endDate.substring(7,11);

  strtMon = GetMonthNumber(strtMon);
  endMon  = GetMonthNumber(endMon);

  var strtDateTime = strtYear + strtMon + strtDay
  var endDateTime  = endYear + endMon + endDay
  if (endDateTime <= strtDateTime ) {
     return false;
  }
  return true;
}
//
function validateFSARefPreDOBDate(){
  date1=UpdateForm.d_pbdate.value;
  date2=UpdateForm.wattr051.value;

  if(ChkDateTime4(date1,date2)) {
    message=" \"FSA Referral Date\" must not be more than 238 days before the ";
    message+="\"Date of Birth\"";
    alert(message);
    return false;
  }
  return true;
}
//
function ChkDateTime4(dobDate,refDate) {
  var refDay  = refDate.substring(0,2);
  var refMon  = refDate.substring(3,6);
  var refYear = refDate.substring(7,11);

  var dobDay   = dobDate.substring(0,2);
  var dobMon   = dobDate.substring(3,6);
  var dobYear  = dobDate.substring(7,11);

  refMon = GetMonthNumber(refMon)-1;
  dobMon  = GetMonthNumber(dobMon)-1;

  var rDate = new Date();
  var dDate = new Date();
  rDate.setFullYear(refYear,refMon,refDay);
  dDate.setFullYear(dobYear,dobMon,dobDay);

  dDate.setDate(dDate.getDate()-238);

  if(rDate>=dDate)
  {
    return false;
  }
  return true;
}

function validateCode(OptionNumber,ReturnCode,ReturnName) {
  ReturnFunction="" ;
  ReturnName.value="";
  for (var i=3; i < validateCode.arguments.length; i++) {
    if (typeof(validateCode.arguments[i]) == 'function') {
      ReturnFunction=validateCode.arguments[i] }
    else {
      validateCode.arguments[i].value=""; }  }
  if (isWhitespace(ReturnCode.value)) return;;
  var serverURL   = "../cgi-bin/patweb80.pbl?reportno=" + OptionNumber +
                    "&valdcode=" + ReturnCode.value.replace(/ /g,"+") +
                    "&valddefv=" + document.UpdateForm.procoddv.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|")
    ReturnName.value=trim(ReturnValue[0])
    j=0
    for (var i=3; i < validateCode.arguments.length; i++) {
       if (typeof(validateCode.arguments[i]) != 'function') {
         j++
         validateCode.arguments[i].value=ReturnValue[j] } }
    if (typeof(ReturnFunction) == 'function') {
       ReturnFunction() }
    return true;
    }
  else {
    ReturnCode.value="";
    ReturnCode.select();
    ReturnCode.focus();
    return false;
     }
}

</script>

</head>
%START.OF.PAGE
<body onload="PageLoad(event);showACC(UpdateForm);
              document.UpdateForm.procoddv.value='1';
              valProc(UpdateForm.wattr001,UpdateForm.d_wattr001);
              createSpecialtyArray();
              buildDrSpecList(UpdateForm.n_wattr012.value,
                              UpdateForm.wattr012.value,
                              UpdateForm.wattr006.value);">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%WATWEB01.02.003";
PatientVIS="%WATWEB01.02.081";
PatientNAM="%WATWEB01.02.002";
PatientSTA="%WATWEB01.02.086.078";
PatientALT="%WATWEB01.02.084";
PatientSEX="%WATWEB01.02.019";
PatientDOB="%WATWEB01.02.020";
PatientAGE="%WATWEB01.02.021";
PatientLOC="%WATWEB01.02.083";
DoctorCOD="%WATWEB01.02.082.003";
DoctorNAM="%WATWEB01.02.082.002";
PatientAID="%WATWEB01.02.086.090";
PatientIND="%WATWEB01.02.086.091";
PatientCUR="%WATWEB01.02.086.092";
PatientCLC="%WATWEB01.02.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%WATWEB01.02.086.094";
PatientCDM="%WATWEB01.02.086.095";
PatientVDH="%WATWEB01.02.086.099.015";
PatientUNT="%WATWEB01.02.066.0";
PatientPRI="%WATWEB01.02.086.066.1";
InsertPatientHeader()
</script>

<div id=PatientMenu></div>
<div id=PageBodySection style="overflow: auto;">

<form name=UpdateForm action="watweb01.pbl" method=post
 onsubmit="Listst();return validateMandatory(this);">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=1>
<input type=hidden name=casekeys value="%WATWEB01.02.101">
<input type=hidden name=updttype value="U">
<input type=hidden name=nextpage value="1">
<input type=hidden name=wattr017 id=wattr017 value="">
<input type=hidden name=dummy1   value="">
<input type=hidden name=redirect value="">
<input type=hidden name=wattr008 value="%WATWEB01.02.111">
<input type=hidden name=dummy value="">
<input type=hidden name=wattx004 value="">
<input type=hidden name=wpgrp value="">
<input type=hidden name=certainty value="%WATWEB01.02.132">
<input type=hidden name=d_pbdate value="%WATWEB01.02.020">
<input type=hidden name=saveTP value="%WATWEB01.02.117.3">
<input type=hidden name=procoddv value=" ">

<table border=0 width=100% cellspacing=0 align=center cellpadding=1>
<tr><td class=HeadingCell align=center>
    Update Waiting List Entry - Event Number %WATWEB01.02.125  </td></tr>
</table>

<table border=0 width=95% cellspacing=0 cellpadding=1 align=center>
<tr><td class=DataLabel>Referral Date</td>
    <td class=DataField>
      <input type=text name=wattr006 size=12 title="Date on List"
       class=Readonly readonly value="%WATWEB01.02.109"
       onblur="checkDate(this,'Date')">
    </td>
</tr>

<tr><td class=DataLabel>Intended Hospital</td>
    <td class=DataField>
      <select name=wattr038 tabindex=1 title="Intended Hospital"
       class="Mandatory"
       onchange="setWardList();">
       <option value=""></option>
       %WATWEB01.02.148.3
      </select>
    </td>
</tr>

<tr><td class=DataLabel >Consultant</td>
    <td class=DataField >
      <input type=text name=wattr012 size=8 maxlength=8 readonly
       title="Consultant" class=readOnly value="%WATWEB01.02.115.003">
      <input type=text name=n_wattr012 size=40 readonly
       title="Consultant Name" value="%WATWEB01.02.115.002">
    </td>
</tr>

<tr><td class=DataLabel>Unit</td>
    <td class=DataField>
      <input type=hidden name=wattr011 value="%WATWEB01.02.114.1">
      <input type=text readonly size=30 class=Readonly name=xxxtr011
       value="%WATWEB01.02.114.0" readonly>
    </td>
</tr>
<!-- CAR 164870 NZ -->
<tr><td class="DataLabel">Procedure Code 1</td>
    <td class="DataField">
      <input type="text" id="wattr001" name="wattr001" class="Readonly" readonly
       notab title="Procedure Code" size="6" value="%WATWEB01.02.103"/>
      <input type="text" id="d_wattr001" name="d_wattr001" size="50"
       maxlength="50" notab readonly class=readonly value="%WATWEB01.02.106" 
       onblur="RemoveQuote(this);"/>
    </td>
    <td class=DataLabel >Preadmission Date </td>
    <td class=DataLabel>
      <input type=text name=wattr022 size=12 maxlength=12 tabindex=70
       value="%WATWEB01.02.127" onblur="checkDate(this,'Date');">
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr022>Time
      <input type=text name=wattx028 size=8   maxlength=12  tabindex=75
       title="Preadmission Time" value="%WATWEB01.02.528" >
      <img src=../images/DateTimeStamp.gif  class=Icon
       date=UpdateForm.wattr022 time=UpdateForm.wattx028>
      <img src=../images/TimeLookup.gif class=Icon
       time=UpdateForm.wattx028></td>
</tr>

<tr><td class="DataLabel">Procedure Code 2</td>
    <td class="DataField">
      <input type="text" id="wattr040" name="wattr040" class=""
       tabindex="10" title="Procedure Code 2" 
       onchange="document.UpdateForm.procoddv.value=' ';
               valProc(UpdateForm.wattr040,UpdateForm.d_wattr040);set060();"
       size="6" value="%WATWEB01.02.150     " />

      <input type="text" id="d_wattr040" name="d_wattr040" size="50"
           maxlength="50" notab readonly class=readonly 
           onblur="RemoveQuote(this);"
           value="%WATWEB01.02.150.1     " />

      <img src="../images/SearchIcon.gif" class="Icon"
       onclick="WaitProNoUnitSearchFrameK(UpdateForm.wattr040,
       UpdateForm.d_wattr040,UpdateForm.wattr013,UpdateForm.dummy,
       UpdateForm.dummy,null,set060);"/>
    </td>
    <td class=DataLabel>Pre-Anaesthetic Date</td>
    <td class=DataLabel>
      <input type=text name=wattr042 size=12
       value="%WATWEB01.02.152"  onblur="checkDate(this,'Date');"
       title="Pre-Anaesthetic Date" tabindex=80>
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr042>Time
      <input type=text name=wattx031 size=8 maxlength=12  tabindex=80
       title="Pre-Anaesthetic Time" value="%WATWEB01.02.531" >
      <img src=../images/DateTimeStamp.gif  class=Icon
       date=UpdateForm.wattr042 time=UpdateForm.wattx031>
      <img src=../images/TimeLookup.gif class=Icon
       time=UpdateForm.wattx031>
    </td>
</tr>

<tr><td class="DataLabel">Procedure Code 3</td>
    <td class="DataField">
      <input type="text" id="wattr041" name="wattr041" class=""
       tabindex="10" title="Procedure Code 3" 
       onblur="document.UpdateForm.procoddv.value=' ';
               valProc(UpdateForm.wattr041,UpdateForm.d_wattr041);set061();"
       size="6" value="%WATWEB01.02.151     "/>
      <input type="text" id="d_wattr041" name="d_wattr041" size="50"
       maxlength="50" notab readOnly class=readonly 
       onblur="RemoveQuote(this);" value="%WATWEB01.02.151.1     "/>
      <img src="../images/SearchIcon.gif" class="Icon"
       onclick="WaitProNoUnitSearchFrameK(UpdateForm.wattr041,
       UpdateForm.d_wattr041,UpdateForm.wattr013,UpdateForm.dummy,
       UpdateForm.dummy,null,set061);"/>
    </td>
    <td class=DataLabel>Pre-Anaesthetic Status</td>
    <td class=DataLabel>
      <select name=wattx030 class=selectBig title="Pre-Anaesthetic Status"
       tabindex=81>
        <option></option>
        %WATWEB01.02.530.2
      </select>
    </td>
</tr>

<tr><td>Procedure Description</td>
    <td>
      <input type="text" id="wattr003" name="wattr003" size="70"
       maxlength="80" tabindex="10" value="%WATWEB01.02.106" 
       onblur="RemoveQuote(this);"/>
    </td>
</tr>

<tr><td></td>
    <td>
       <input type="text" id="wattr060" name="wattr060" size="70"
              maxlength="80" tabindex="11" value="%WATWEB01.02.199.011"
              onblur="RemoveQuote(this);"/>
    </td>
</tr>

<tr><td></td>
    <td>
       <input type="text" id="wattr061" name="wattr061" size="70"
              maxlength="80" tabindex="12" value="%WATWEB01.02.199.012"
              onblur="RemoveQuote(this);"/>
    </td>
</tr>

<!-- TSK 0821014 -->
<tr valign=top><td class=DataLabel>Reason/Diagnosis</td>
    <td class=DataField colspan=3>
    <input type=text name=wattr004 size=60 maxlength=40 tabindex=1
     value="%WATWEB01.02.107" onblur="RemoveQuote(this);"></td></tr>

<!-- End Procedures -->
<tr><td class=DataLabel>Duration of Procedure  </td>
    <td class=DataField>
      <input type=text name=wattr002 size=10 tabindex=14 maxlength=5   
       title="Estimated Operating time" class=Integer min=0 
       value=%WATWEB01.02.105></td>
    <td class=DataLabel>Patient Confirmed  </td>
    <td>
      <input type=text name=wattr023 size=12 maxlength=15 tabindex=85
       title="Patient Confirmed Date" onblur="checkDate(this,'Date')"
       value="%WATWEB01.02.128" >
      <img src=../images/DateLookup.gif class=Icon
       date=UpdateForm.wattr023>
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.TP</td>
    <td class=DataField>
      <select name=wattr014  class=Mandatory title="%STANDARD.01.017.TP"
       onchange="checkPriority();" tabindex=16>
        <option></option>
        %WATWEB01.02.117.2
      </select>
    </td>
    <td class=DataLabel>Proposed Op. Date</td>
    <td class=DataLabel >
      <input type=text name=wattr028 size=12 maxlength=12 tabindex=95
       title="Date" value="%WATWEB01.02.135" onblur="checkDate(this,'Date');">
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr028>
      Time
      <input type=text name=wattx029 size=8 maxlength=8 tabindex=96 title="Time"
       value="%WATWEB01.02.529">
      <img src=../images/DateTimeStamp.gif class=Icon
       date=UpdateForm.wattr028 time=UpdateForm.wattx029>
      <img src=../images/TimeLookup.gif class=Icon  time=UpdateForm.wattx029>
    </td>
</tr>

<tr><td class=DataLabel>Score</td>
    <td class=DataLabel>
      <input type=text name=wattr047 size=5 maxlength=5 tabindex=17
       class="Integer" min=1 max=100 title="Score" value="%WATWEB01.02.157"
       onchange="setLastReview();">
    </td>
</tr>

<tr><td class=DataLabel>Last Review Date</td>
    <td class=DataField>
      <input type=text name=wattr007 size=12 title="Date of Change" tabindex=18
       value="%WATWEB01.02.110"  onblur="checkDate(this,'Date');">
      <img src=../images/DateTimeStamp.gif class=Icon date=UpdateForm.wattr007
       time=null>
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr007>
    </td>
    <td class=DataLabel>Comments</td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.X9</td>
    <td class=DataField>
      <select name=wattx052 tabindex=19 class="selectBig"
       title="%STANDARD.01.017.X9">
        <option></option>
        %WATWEB01.02.553.2
      </select>
    </td>
    <td class=DataField rowspan=3 colspan=2>
      <textarea wrap=hard name=wattrcom title="Comments"
       onkeydown="ValidateKeyInput(this,99,4950);"
       onblur="TextareaBlurHandler(this);ValidateTextLimits(this,99,4950);"
       cols=50 tabindex=97 rows=6>%WATWEB01.02.161</textarea>
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.P   </td>
    <td class=DataField>
      <select name=wattr024  tabindex=20 class="selectBig"
       title="%STANDARD.01.017.P ">
      <option></option>
      %WATWEB01.02.131.2
      </select>
    </td>
</tr>

<tr><td class=DataLabel>Admitting Point  </td>
    <td class=DataField>
      <select name=wattx006 tabindex=25 class="selectBig"
       title="Admitting Point">
        <option></option>  
        %WATWEB01.02.506.2
      </select>
    </td>
    <td class=DataField rowspan=3 colspan=2>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Exp. Post Op Ward  </td>
    <td class=DataField>
      <select name=wattx005 tabindex=30 class="selectBig" 
       title="Exp. Post Op Ward">
        <option></option>  
        %WATWEB01.02.505.2
      </select>
    </td>
    <td class=DataLabel>Preadmission Notes</td>
</tr>

<tr><td class=DataLabel>Planned LOS </td>
    <td class=DataField>
      <input type=text name=wattr013 size=5 maxlength=5 tabindex=35
       class="Integer" min=0 value="%WATWEB01.02.116"
       title="Planned LOS">(days)</td>
    <td class="DataField" rowspan="3" colspan="2">
      <textarea wrap="hard" name="wtpccomm" title="Preadmission Notes"
       onkeydown="ValidateKeyInput(this,99,6930);"
       onblur="TextareaBlurHandler(this);ValidateTextLimits(this,99,6930);"
       cols="50" rows="6" tabindex=98>%WATWEB01.02.172</textarea>
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.A </td>
    <td>
      <select name=specialt id=specialt tabindex=40 class="Mandatory selectBig"
       title="%STANDARD.01.017.A ">
        <option></option>
        %WATWEB01.02.120.2
      </select>
    </td>
</tr>

<tr><td class=DataLabel>%WATWEB01.02.187.8 </td>
    <td class=DataField>
      <select name=wattr050 tabindex=45 class="selectBig Mandatory"
       title="Referral Source">
        <option></option>
        %WATWEB01.02.187.2
      </select>
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.CL  </td>
    <td class=DataField>
      <select name=wattx026 tabindex=50 class=selectBig  
              title="%STANDARD.01.017.CL" onchange=showACC(UpdateForm);>
        <option></option>
        %WATWEB01.02.526.2
      </select>
    </td>
    <td class="DataLabel">%STANDARD.01.017.WS</td>
    <td class="DataField">
      <select name="wattr015" tabindex="98" class="SelectBig" >
        <option></option>
        %WATWEB01.02.118.2
      </select>
    </td>
</tr>

     <tr><td><div id=ACCHeading></div></td>
         <td><div id=ACCId></div></tr>


<tr><td class=DataLabel>Certainty Date</td>
    <td class=DataField>
      <input type=text name=wattr025 size=12 class="NotFuturEdate Mandatory"
       value="%WATWEB01.02.132"  onblur="checkDate(this,'Certainty Date');"
       title="Decision to Admit Date" tabindex=55>
      <img src=../images/DateTimeStamp.gif class=Icon date=UpdateForm.wattr025
       time=null>
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr025>
    </td>
    <td class=DataLabel>Principal Purchaser</td>
    <td class=DataField>
      <select name=wattr053 tabindex=99 title="Principal Purchaser" 
       class=Mandatory>
        <option></option>
        %WATWEB01.02.190.2
      </select>
    </td>
</tr>

<tr><td class=DataLabel>FSA Referral</td>
    <td class=DataField>
      <input type=text name=wattr051 size=12
       value="%WATWEB01.02.188"  onblur="checkDate(this,'Date');"
       title="FSA Referral" tabindex=57 class=Mandatory>
      <img src=../images/DateTimeStamp.gif class=Icon date=UpdateForm.wattr051
       time=null>
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr051>
    </td>
    <td class=DataLabel>FSA Date</td>
    <td class=DataField>
      <input type=text name=wattr052 size=12 class=Mandatory
       value="%WATWEB01.02.189"  onblur="checkDate(this,'Date');"
       title="FSA Date" tabindex=100>
      <img src=../images/DateTimeStamp.gif class=Icon date=UpdateForm.wattr052
       time=null>
      <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr052>
    </td>
</tr>
    
<tr><td class=DataLabel>Date Keyed        </td>
    <td class=DataField>
      <input type=text class=Readonly readonly size=12 maxlength=12
       value="%WATWEB01.02.126"></td>
    <td class=DataLabel>Assessor Code</td>
    <td>
      <input type="text" size=10 maxlength=10 name=wattr056 id=wattr056
       onblur="UpCase(this); ValidateHCP(18,19,wattr056,doctnam2)"
       class="Mandatory" title="Assessor Code" tabindex=101
       value="%WATWEB01.02.197.1">
      <input type=text readonly size=25 notab name=doctnam2 id=doctnam2
       value="%WATWEB01.02.197.0">
      <img notab src="../images/SearchIcon.gif" class=Icon
       onclick="HCPSearchFrame(wattr056,doctnam2,19)">
    </td>
</tr>

<tr><td class=DateLabel>Operator ID </td>
    <td class=DataField>
      <input type=text size=12 maxlength=12 class=Readonly readonly
       notab value= '%WATWEB01.02.310' >
    </td>
    <td class="DataLabel">%STANDARD.01.017.OA</td>
    <td class="DataField">
      <select name="wattx033" class="selectBig" tabindex=102>
        <option></option>
        %WATWEB01.02.533.2
      </select>
    </td>
</tr>

<tr><td colspan=4>&nbsp;</td></tr>

<tr><td colspan=4 align=center>
    <input type=button class="button" value="Ok" tabindex=130
     onclick="UpdateWat();">
    <input type=button value="Cancel" tabindex=140 class="button" 
     onclick='PatientLinkTo("watweb01.pbl",2,1,0,0,0);'>
   </td></tr>
</table>
</form>

<span id=blanklabel style="display:none">
</span>
<span id=acchd style="display:none">
ACC Purchase Order Number
</span>

<span id=accorderid style="display:none">
  <input type=text name=accpordn id=accpordn title="ACC Purchase Order Number"
         value="%WATWEB01.02.992" maxlength=20 size=25>
</span>

<script type="text/javascript">
function setWardList() {
  selectOptions2("3",UpdateForm.wattr038,UpdateForm.wattx005);
  postopwd=trim("%WATWEB01.02.505.1");
  for (var i =0 ; i < document.UpdateForm.wattx005.length; i++) {
    if(trim(UpdateForm.wattx005.options[i].value)==postopwd) {
      document.UpdateForm.wattx005.selectedIndex=i
    }
  }
}
</script>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%WATWEB01.02.003">
<input type=hidden name=admissno value="%WATWEB01.02.125">
<input type=hidden name=MenuType value="%WATWEB01.02.088">
<input type=hidden name=casekeys value="%WATWEB01.02.101">
</form>
