<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="nz">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function defaultDoc() {
  UpCase(document.DoctorHandover.selectcd);
  doctorName(document.DoctorHandover.selectcd,document.DoctorHandover.dummy3);
  UpCase(document.DoctorHandover.alloctcd);
  doctorName(document.DoctorHandover.alloctcd,document.DoctorHandover.dummy4);
}
function doctorName(doctor,description) {
if (isWhitespace(doctor.value)) { return;;}
  doctor1=doctor;
  doctor=doctor.value.toUpperCase()
  var serverURL   = "../cgi-bin/patweb80.pbl?reportno=3" +
                    "&valdcode=" + doctor.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status!=0) {
    doctor1.value="";
    description.value="";
    doctor1.focus();
    return;
  }

//  validate doctor exists in emrdocaf
  if (DoctorHandover.emcndoct.value==1) {
    var serverURL   = "../cgi-bin/emrweb08.pbl?reportno=11" +
                      "&valdcode=" + doctor.replace(/ /g,"+")
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0) {
      doctor1.value="";
      description.value="";
      doctor1.focus();
      return;
    }
  }
  ReturnValue=returnValue.return_value.split("|");
  description.value=ReturnValue[0];
}
function SearchDoctor(doctor,description) {
  if (DoctorHandover.emcndoct.value==1) {
    DoctorEmrSearchFrame(doctor,description);
  }
  else {
    DoctorSearchFrame(doctor,description);
  }
}
function setUpdate() {
  document.DoctorHandover.formactn.value="D"
  document.DoctorHandover.submit()
}
function resetFormactn() {
  document.DoctorHandover.formactn.value="";
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);defaultDoc();">
<form action=emrweb02.pbl method=get name=DoctorHandover style="margin:0">
<input type=hidden name=reportno value="4">
<input type=hidden name=template value="2">
<input type=hidden name=formactn>
<input type=hidden name=nextpage value="2">
<input type=hidden name=updttype value="DSHCH">
<input type=hidden name=redirect value="emrweb02.pbl?reportno=4&template=2">
<table width=100% border=0>
<tr>
  <td class=HeadingCell colspan=6 align=center>Doctor Shift Handover</td>
</tr>
<tr>
  <td><b>Select Doctor</td>
  <td>
    <input type=hidden name=emcndoct value="%EMRWEB02.04.255">
    <input type=text size=6 name=selectcd title="Doctor Code"
     value="%EMRWEB02.04.006"
     onblur="UpCase(this);doctorName(DoctorHandover.selectcd,
             DoctorHandover.dummy3);">
    <input type=text size=30 name=dummy3 title="Doctor Name"
     value="" readonly class=Readonly>
    <img class=Icon src="../images/SearchIcon.gif"
     onclick="SearchDoctor(DoctorHandover.selectcd,DoctorHandover.dummy3);">

    <input type=button class="button" value="Active Patients"
     onclick="resetFormactn();DoctorHandover.submit();">
  </td>
  <td><b>Allocate to</td>
  <td> 
    <input type=text size=6 name=alloctcd title="Doctor Code"
     value="%EMRWEB02.04.007"
     onblur="UpCase(this);doctorName(DoctorHandover.alloctcd,
             DoctorHandover.dummy4);">
    <input type=text size=30 name=dummy4 title="Doctor Name"
     value="" readonly class=Readonly>
    <img class=Icon src="../images/SearchIcon.gif"
     onclick="SearchDoctor(DoctorHandover.alloctcd,DoctorHandover.dummy4);">

    <input type=button class="button" value="Update" id="emr02u"
     onclick="tempDisable(this);setUpdate();">
  </td>
  <td><b>Reason for Handover</b></td>
  <td>
    <select name="reasonho" title="Reason for Handover">
      <option> </option>
      %EMRWEB02.04.147.9.6. 1.3.D
    </select>
  </td>
</tr>
</table>

<table border=1 cellspacing=0 cellpadding=0 width=100%>
<tr>
  <td align=center class=HeadingCell>Active Patient List</td>
</tr>
</table>
<table border=1 cellspacing=0 cellpadding=1 width=100%>
%EMRWEB02.04.004.emrweb02.01.100
</table>
</form>

