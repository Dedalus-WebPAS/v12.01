<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="kids">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/patweb89.js"></script>
<script type="text/javascript" src="../js/IBA_Category_C_.js"></script>
<script type="text/javascript">
//
function setRedirect() {
  if (window.name == "content") {
     document.UpdateForm.redirect.value="emrweb02.pbl?reportno=1&template=100" +
        "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
        "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")
   }
  else {
     document.UpdateForm.redirect.value="emrweb01.pbl?reportno=1&template=1"
  }
  document.UpdateForm.submit();
}
function UpdateDetails() {
//if(document.UpdateForm.showflag.value=="1") {
//   document.UpdateForm.redirect.value="patweb89.pbl?reportno=1&template=002" +
//      "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
//      "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+") +
//      "&showflag=1";
//}
  document.UpdateForm.submit();
}
function SetCode01() {
 suburb = UpdateForm.pmpmi044;
 state = UpdateForm.pmpmi045;
 postcode = UpdateForm.pmpmi046;
}
function SetCode02() {
 suburb = UpdateForm.pmpmi028;
 state = UpdateForm.pmpmi029;
 postcode = UpdateForm.pmpmi030;
}
// Clear DAD details
function DADClear() {
  document.UpdateForm.pmpmi039.value="";
  document.UpdateForm.pmpmi040.value="";
  document.UpdateForm.pmpmi041.selectedIndex=0
  document.UpdateForm.pmpmi042.value="";
  document.UpdateForm.pmpmi043.value="";
  document.UpdateForm.pmpmi044.value="";
  document.UpdateForm.pmpmi045.value="";
  document.UpdateForm.pmpmi046.value="";
  document.UpdateForm.pmpmi047.value="";
  document.UpdateForm.pmpmi048.value="";
  document.UpdateForm.pmpmi049.value="";
  document.UpdateForm.pmpmi050.value="";
  document.UpdateForm.pmpmi051.selectedIndex=0
  document.UpdateForm.pmpmi052.checked= "";
  document.UpdateForm.pmpmi053.checked= "";
  document.UpdateForm.pmpmi054.selectedIndex=0
  document.UpdateForm.pmpmi106.selectedIndex=1
}
// Clear MOM details
function MOMClear() {
  document.UpdateForm.pmpmi023.value="";
  document.UpdateForm.pmpmi024.value="";
  document.UpdateForm.pmpmi025.selectedIndex=0
  document.UpdateForm.pmpmi026.value="";
  document.UpdateForm.pmpmi027.value="";
  document.UpdateForm.pmpmi028.value="";
  document.UpdateForm.pmpmi029.value="";
  document.UpdateForm.pmpmi030.value="";
  document.UpdateForm.pmpmi031.value="";
  document.UpdateForm.pmpmi032.value="";
  document.UpdateForm.pmpmi033.value="";
  document.UpdateForm.pmpmi034.value="";
  document.UpdateForm.pmpmi035.selectedIndex=0
  document.UpdateForm.pmpmi036.checked= "";
  document.UpdateForm.pmpmi037.checked= "";
  document.UpdateForm.pmpmi038.selectedIndex=0
  document.UpdateForm.pmpmi105.selectedIndex=1
}
// Default DAD to patient details
function DADSelf() {
  document.UpdateForm.pmpmi039.value=trim(document.hidden.psurn.value);
  document.UpdateForm.pmpmi042.value=trim(document.hidden.padd1.value);
  document.UpdateForm.pmpmi043.value=trim(document.hidden.padd2.value);
  document.UpdateForm.pmpmi044.value=trim(document.hidden.psubrb.value);
  document.UpdateForm.pmpmi045.value=trim(document.hidden.padd4.value);
  document.UpdateForm.pmpmi046.value=trim(document.hidden.ppost.value);
  document.UpdateForm.pmpmi047.value=trim(document.hidden.ptelep.value);
  document.UpdateForm.pmpmi052.checked= "1";
  document.UpdateForm.pmpmi053.checked= "1";
  for (var i=0; i < document.UpdateForm.pmpmi041.length; i++) {
   if (document.UpdateForm.pmpmi041.options[i].value=="MR  "){
      document.UpdateForm.pmpmi041.selectedIndex=i; }
  }
  for (var i=0; i < document.UpdateForm.pmpmi054.length; i++) {
   if (document.UpdateForm.pmpmi054.options[i].value=="Father    "){
      document.UpdateForm.pmpmi054.selectedIndex=i; }
  }
  document.UpdateForm.pmpmi106.selectedIndex=1;
}
// Default MOM to patient details
function MOMSelf() {
  document.UpdateForm.pmpmi023.value=trim(document.hidden.psurn.value);
  document.UpdateForm.pmpmi026.value=trim(document.hidden.padd1.value);
  document.UpdateForm.pmpmi027.value=trim(document.hidden.padd2.value);
  document.UpdateForm.pmpmi028.value=trim(document.hidden.psubrb.value);
  document.UpdateForm.pmpmi029.value=trim(document.hidden.padd4.value);
  document.UpdateForm.pmpmi030.value=trim(document.hidden.ppost.value);
  document.UpdateForm.pmpmi031.value=trim(document.hidden.ptelep.value);
  document.UpdateForm.pmpmi036.checked= "1";
  document.UpdateForm.pmpmi037.checked= "1";
  for (var i=0; i < document.UpdateForm.pmpmi025.length; i++) {
   if (document.UpdateForm.pmpmi025.options[i].value=="MRS "){
      document.UpdateForm.pmpmi025.selectedIndex=i; }
  }
  for (var i=0; i < document.UpdateForm.pmpmi038.length; i++) {
   if (document.UpdateForm.pmpmi038.options[i].value=="Mother    "){
      document.UpdateForm.pmpmi038.selectedIndex=i; }
  }
  document.UpdateForm.pmpmi105.selectedIndex=1;
}
</script>
</head>
%START.OF.PAGE
<BODY onLoad="PageLoad(event);InitPostCodes();InitScroll();">
<div id=PageHeadingSection>
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
</div>
<div id=PageBodySection>
<form name=hidden>
<input type=hidden name=padd1 value="%PATWEB89.01.012">
<input type=hidden name=padd2 value="%PATWEB89.01.013">
<input type=hidden name=psubrb value="%PATWEB89.01.014">
<input type=hidden name=padd4 value="%PATWEB89.01.015">
<input type=hidden name=ppost value="%PATWEB89.01.016">
<input type=hidden name=ptelep value="%PATWEB89.01.017">
<input type=hidden name=pteleb value="%PATWEB89.01.018">
<input type=hidden name=psurn value="%PATWEB89.01.009">
</form>
<form name=UpdateForm action="patweb89.pbl" method=post style="margin:0"
 onsubmit="chkFlag();" >
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=001>
<input type=hidden name=updatety value="4">
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=nextpage value="0">
<input type=hidden name=redirect value="%PATWEB89.01.001.patweb98.01.001">
<input type=hidden name=ptmas045 value="%PATWEB89.01.049">
<input type=hidden name=ptmas046 value="%PATWEB89.01.050">
<input type=hidden name=ptmas061 value="%PATWEB89.01.064">
<input type=hidden name=ptmas067 value="%PATWEB89.01.079.0">
<input type=hidden name=pmpmi006 value="%PATWEB89.01.806">
<input type=hidden name=pmpmi009 value="%PATWEB89.01.809">
<input type=hidden name=pmpmi012 value="%PATWEB89.01.812.0">
<input type=hidden name=pmpmi015 value="%PATWEB89.01.815">
<input type=hidden name=pmpmi062 value="%PATWEB89.01.862">
<input type=hidden name=pmpmi063 value="%PATWEB89.01.863">
<input type=hidden name=pmpmi064 value="%PATWEB89.01.864">
<input type=hidden name=pmpmi067 value="%PATWEB89.01.867.0">
<input type=hidden name=pmpmi068 value="%PATWEB89.01.868.0">
<input type=hidden name=showflag value="%PATWEB89.01.939">
<input type=hidden name=dummy value="">

<table border=1  cellpadding=0 cellspacing=0 width=100%>
<tr valign=top>
    <td class=HeadingCell align=center>Contact 1</td>
    <td class=HeadingCell align=center>Contact 2</td></tr>
<tr valign=top>
    <td>
    <table border=0 width=100% cellspacing=0>
<tr><td class=DataLabel>Relationship </td>
        <td><select name=pmpmi038 tabindex=1 >
              <option value=""></option>
              %STANDARD.01.030
            </select>
        </td></tr>

<tr><td class=DataLabel>Title</td>
  <td><select title="Patient Title"
        name="pmpmi025" tabindex=2>
        <option></option>
        %STANDARD.01.029
        </select>
        </td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=20 name=pmpmi023
        title="Surname" maxlength=20 
        value="%PATWEB89.01.823" tabindex=3 onchange="UpCase(this);"></td></tr>

<tr><td class=DataLabel>Given Names</td>
    <td><input type=text size=25 maxlength=25
        title="Given Names" tabindex=4
        name=pmpmi024 value="%PATWEB89.01.824"
        onchange="UpCase(this);">
    </td></tr>


<tr><td class=DataLabel>Address</td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi026"
         value="%PATWEB89.01.826" onchange="UpCase(this);" tabindex=5></td>
    <tr valign=top>
        <td class=DataLabel></td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi027"
         value="%PATWEB89.01.827" onchange="UpCase(this);" tabindex=6></td>
         </tr>
    <tr valign=top>
        <td class=DataLabel>Suburb</td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi028"
         value="%PATWEB89.01.828" tabindex=7
         onchange="LookupPostCode(UpdateForm.pmpmi028.value);
                   UpCase(this);SetCode02();">
        </td></tr>
    <tr valign=top>
        <td class=DataLabel></td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi029"
        value="%PATWEB89.01.829" tabindex=8></td>
     </tr>
<tr><td class=DataLabel>Post code</td>
        <td><input type="text" size="4" maxlength="8" title="Post Code"
        name="pmpmi030" tabindex=9
        value="%PATWEB89.01.830"></td></tr>
<tr><td class=DataLabel>Home Phone</td>
        <td><input type="text" size="22" maxlength="20" name="pmpmi031"
         value="%PATWEB89.01.831" tabindex=10></td></tr>

<tr><td class=DataLabel>Work Phone</td>
        <td><input type="text" size="22" maxlength="20" name="pmpmi032"
         value="%PATWEB89.01.832" tabindex=11></td></tr>

<tr><td class=DataLabel>Mobile Phone</td>
        <td><input type="text" size="22" maxlength="20" name="pmpmi033"
         value="%PATWEB89.01.833" tabindex=12></td></tr>

<tr><td class=DataLabel>Email Address</td>
        <td><input type="text" size="30" maxlength="80" name="pmpmi034"
         value="%PATWEB89.01.834" tabindex=13></td></tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="pmpmi035" tabindex=14 class=select120>
        <option></option>
        </select>
        <script type="text/javascript"> {
         SetCategoryC_(document.UpdateForm.pmpmi035,"%PATWEB89.01.835.1") }
        </script></td></tr>

<tr><td class=DataLabel>Recipient of Mail</td>
        <td><input type="checkbox" tabindex=15 value="1" name="pmpmi036"></td>
        </tr>
<tr><td class=DataLabel>Name to appear on label</td>
        <td><input type="checkbox" tabindex=16 value="1" name="pmpmi037"></td>
        </tr>
<tr><td class=DataLabel>Legal Guardian</td>
    <td><select name="pmpmi105" tabindex=16 title="Legal Guardian">
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
    </td></tr>
<tr valign=top>
     <td align=right colspan=2>
          <input type=button class="button" value="Clear" 
           tabindex=17 onclick="MOMClear();">
          <input type=button class="button" value="Default" 
           tabindex=18 onclick="MOMSelf();">
    </td></tr>
    </table></td>
    <td>
    <table border=0 width=100% cellspacing=0>
<tr><td class=DataLabel>Relationship </td>
    <td><select name=pmpmi054 tabindex=19>
        <option value=""></option>
         %STANDARD.01.030
            </select>
        </td></tr>

<tr><td class=DataLabel>Title</td>
  <td><select title="Patient Title"
        name=pmpmi041 tabindex=20>
        <option></option>
        %STANDARD.01.029
        </select>
        </td></tr>
<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=20 name=pmpmi039
        title="Surname" maxlength=20
        value="%PATWEB89.01.839" tabindex=21 onchange="UpCase(this);"></td></tr>
<tr><td class=DataLabel>Given Names</td>
    <td><input type=text size=25 maxlength=25
        title="Given Names" tabindex=22
        name=pmpmi040 value="%PATWEB89.01.840"
        onchange="UpCase(this);">
    </td></tr>


<tr><td class=DataLabel>Address</td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi042"
         value="%PATWEB89.01.842" onchange="UpCase(this);" tabindex=23></td>
    <tr valign=top>
        <td class=DataLabel></td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi043"
         value="%PATWEB89.01.843" onchange="UpCase(this);" tabindex=24>
         </td></tr>
    <tr valign=top>
        <td class=DataLabel>Suburb</td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi044"
         value="%PATWEB89.01.844" tabindex=25
         onchange="LookupPostCode(UpdateForm.pmpmi044.value);
                   UpCase(this);SetCode01();"></td>
        </tr>
    <tr valign=top>
        <td class=DataLabel></td>
        <td><input type="text" size="26" maxlength="35" name="pmpmi045"
        value="%PATWEB89.01.845" tabindex=26></td>
     </tr>
<tr><td class=DataLabel>Post code</td>
        <td><input type="text" size="4" maxlength="8" name="pmpmi046" 
        tabindex=27 value="%PATWEB89.01.846"></td></tr>

<tr><td class=DataLabel>Home Phone</td>
        <td><input type="text" size="22" maxlength="20" name="pmpmi047"
         value="%PATWEB89.01.847" tabindex=28></td></tr>

<tr><td class=DataLabel>Work Phone</td>
        <td><input type="text" size="22" maxlength="20" name="pmpmi048"
         value="%PATWEB89.01.848" tabindex=29></td></tr>

<tr><td class=DataLabel>Mobile Phone</td>
        <td><input type="text" size="22" maxlength="20" name="pmpmi049"
         value="%PATWEB89.01.849" tabindex=30></td></tr>

<tr><td class=DataLabel>Email Address</td>
        <td><input type="text" size="30" maxlength="80" name="pmpmi050"
         value="%PATWEB89.01.850" tabindex=31></td></tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="pmpmi051" tabindex=32 class=select120>
        <option></option>
        </select>
        <script type="text/javascript"> {
         SetCategoryC_(document.UpdateForm.pmpmi051,"%PATWEB89.01.851.1") }
        </script></td></tr>
<tr><td class=DataLabel>Recipient of Mail</td>
    <td><input type="checkbox" tabindex=33 value="1" name="pmpmi052"></td></tr>
<tr><td class=DataLabel>Name to appear on label</td>
        <td><input type="checkbox" tabindex=34 value="1" name="pmpmi053"></td>
    </tr>
<tr><td class=DataLabel>Legal Guardian</td>
    <td><select name="pmpmi106" tabindex=34 title="Legal Guardian">
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
    </td></tr>
<tr valign=top>
     <td align=right colspan=2>
          <input type=button class="button" value="Clear"
           tabindex=35 onclick="DADClear();">
          <input type=button class="button" value="Default" 
           tabindex=36 onclick="DADSelf();">
    </td></tr>
    </table>
</td></tr>
<tr><td colspan=4 align=center>
    <input type=button value="Update" tabindex=38 class="button"
     id="pat89sub" onclick="tempDisable(this);UpdateDetails();">
    <input type=button value="Cancel" tabindex=39 
     class="button"
     onclick="goPrev();">
    </td>
</tr>

</table>
</form>
</div>
<div id=SelectHeading></div>
<div id=SelectLocation></div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=regexstm value=102>
<input type=hidden name=newstand value=1>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>

<script language=javascript>
//
function InitScroll() {
   PageBodySection.style.height=parent.document.all.content.clientHeight -
                              PageHeadingSection.clientHeight
}

  if ("%PATWEB89.01.049" == "Yes") {
       document.UpdateForm.ptmas045.value=1;
  }
  if ("%PATWEB89.01.050" == "Yes") {
       document.UpdateForm.ptmas046.value=1;
  }
  if ("%PATWEB89.01.852" == "Yes") {
       document.UpdateForm.pmpmi052.checked=1;
  }
  if ("%PATWEB89.01.853" == "1") {
       document.UpdateForm.pmpmi053.checked=1;
  }
  if ("%PATWEB89.01.836" == "Yes") {
       document.UpdateForm.pmpmi036.checked=1;
  }
  if ("%PATWEB89.01.837" == "1") {
       document.UpdateForm.pmpmi037.checked=1;
  }
  if  ("%PATWEB89.01.079.0" == "Y")
  {
    document.UpdateForm.ptmas067.checked=1
  }

  for (var i=0; i < document.UpdateForm.pmpmi025.length; i++) {
    if (document.UpdateForm.pmpmi025.options[i].value=="%PATWEB89.01.825"){
      document.UpdateForm.pmpmi025.selectedIndex=i;
    }
  }
  for (var i=0; i < document.UpdateForm.pmpmi041.length; i++) {
    if (document.UpdateForm.pmpmi041.options[i].value=="%PATWEB89.01.841"){
      document.UpdateForm.pmpmi041.selectedIndex=i;
    }
  }
//
  for (var i =0 ; i < document.UpdateForm.pmpmi038.length; i++) {
    if (document.UpdateForm.pmpmi038.options[i].value=="%PATWEB89.01.838.0") {
         document.UpdateForm.pmpmi038.selectedIndex=i } };
//
  for (var i =0 ; i < document.UpdateForm.pmpmi054.length; i++) {
    if (document.UpdateForm.pmpmi054.options[i].value=="%PATWEB89.01.854.0") {
         document.UpdateForm.pmpmi054.selectedIndex=i } };

  Contact1Guardian="%PATWEB89.01.086.099.041.0";
  if (isWhitespace(Contact1Guardian)) {
    document.UpdateForm.pmpmi105.selectedIndex=1;
  }
  else {
    for (var i =0 ; i < document.UpdateForm.pmpmi105.length; i++) {
      if (document.UpdateForm.pmpmi105.options[i].value==Contact1Guardian) {
         document.UpdateForm.pmpmi105.selectedIndex=i;
      }
    }
  }

  Contact2Guardian="%PATWEB89.01.086.099.042.0";
  if (isWhitespace(Contact2Guardian)) {
    document.UpdateForm.pmpmi106.selectedIndex=1;
  }
  else {
    for (var i =0 ; i < document.UpdateForm.pmpmi106.length; i++) {
      if (document.UpdateForm.pmpmi106.options[i].value==Contact2Guardian) {
        document.UpdateForm.pmpmi106.selectedIndex=i
      }
    }
  }

function goPrev() {
  var intdet="%PATWEB89.01.921"
  if (intdet==1) {
    PatientLinkTo("patweb92.pbl",12,01,0,0,0);
  } 
  else{
    PatientLinkTo("patweb89.pbl",1,02,0,0,0);
  }
}
function chkFlag() {
  var intdet="%PATWEB89.01.921"
  if (intdet==1) {
     document.UpdateForm.redirect.value="patweb92.pbl?reportno=12&template=1" +
        "&admissno=" + document.UpdateForm.admissno.value.replace(/ /g,"+") +
        "&urnumber=" + document.UpdateForm.urnumber.value.replace(/ /g,"+")
  }
}
</script>

