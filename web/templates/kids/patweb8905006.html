<meta name="TemplateVersion" content="V12.01.00">
<meta name="TemplateHome" content="kids">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">

<script type="text/javascript" src=../js/IBA_Category_C_.js>  </script>
<script type="text/javascript" src=../js/AutoPostCode.js>  </script>
<script language=javascript src=../js/IBA_Category_C_.js>  </script>
<script type="text/javascript" src=../js/patweb89.js>  </script>
<script type="text/javascript">
function clickRegisterButton() {
  if(!CheckValPostCode()){
     return;
  }

  if(document.AddForm.d_ptmas045.checked==true){
     document.AddForm.ptmas045.value="1"}
  else {
     document.AddForm.ptmas045.value="0"}
  if (document.AddForm.pmpmi062.value=="1") {
    document.AddForm.redirect.value="patweb07.pbl?reportno=4&template=002"
  }

  var str = document.AddForm.ptmas006.value;
  document.AddForm.ptmas006.value = str.replace(/^\s+|\s+$/g,'');
  str = document.AddForm.pmpmi084.value;
  document.AddForm.pmpmi084.value = str.replace(/^\s+|\s+$/g,'');


 checkSecondName(document.AddForm.ptcnusgn,
                   document.AddForm.ptmas006,document.AddForm.pmpmi084,
                   document.AddForm.pmpmi085);

  if(document.AddForm.pmpmi082.value === "" ||
     document.AddForm.pmpmi083.value === "") {
    document.AddForm.savealpr.value="0";
  } else {
    document.AddForm.savealpr.value="1";
  }

  if(checkMedicare(document.AddForm.ptmas023)) {
    if(checkDuplicates(document.AddForm.ptmas005.value,AddForm.pmpmi084.value,
      document.AddForm.pmpmi085.value,document.AddForm.ptmas017.value,PostReg)){
    }
  }
}
function PostReg() {
  SubmitHidden05(document.AddForm);
}

function clrMandatory(Sname,Gname,Sex,Dob) {
  document.AddForm.redirect.value="patweb98.pbl?reportno=1&template=001"
  if (document.AddForm.quickreg.checked==true) {
    for (i=0; i<document.AddForm.elements.length; i++) {
      el=document.AddForm.elements[i];
      if (el.className.match(/Mandatory/)) {
        el.className="";
      }
    }
    if (isWhitespace(document.AddForm.ptmas017.value)){
      checkDefDOB(document.AddForm.ptmas017,document.AddForm.d_cwebDDOB);
      document.AddForm.ptmas017.focus();
      document.AddForm.ptmas017.blur();
      document.AddForm.ptmas017.className="Mandatory PastDate";
      document.AddForm.pmpmi006.value="1";
      document.AddForm.pmpmi006.checked="true";
    }

    if (!isWhitespace(Sex)) {
      //document.AddForm.ptmas015.value=Sex.substr(0,1);
    }

    if (isWhitespace(Sname)) {
      if (isWhitespace(document.AddForm.ptmas005.value)) {
      document.AddForm.ptmas005.value="Unknown";
      }
    }  
    if (isWhitespace(Gname)) {
      if (isWhitespace(document.AddForm.ptmas006.value)) {
      document.AddForm.ptmas006.value="Unknown";
      }  
    }

    if (isWhitespace(Dob)) {
      if (isWhitespace(document.AddForm.ptmas017.value)) {
      document.AddForm.ptmas017.value="";
      }
    }  
    else {
      document.AddForm.ptmas017.value=Dob;
    }
  } else {
    location.reload();
  }
}
function SetPostCode01() {
 suburb = AddForm.ptmas010;
 state = AddForm.ptmas011;
 postcode = AddForm.ptmas012;
}
function DispPRFA() {
  var PRFAField = document.getElementById('PRFAField');
  if (document.AddForm.ptcnnewc.value=='1') {
    PRFAField.innerHTML=document.getElementById('CodePRFARow').innerHTML;
  }else{
    PRFAField.innerHTML=document.getElementById('UsualPRFARow').innerHTML;
  }
}
</script>
</head>
%START.OF.PAGE
<body onLoad="PageLoad(event);SetPostCode05();InitPostCodes();SetPostCode01();
              turnOnSecondGivenName(document.AddForm.ptcnusgn.value,
                      document.AddForm.ptmas006,
                      document.AddForm.pmpmi084,
                      document.AddForm.pmpmi085);
              document.AddForm.urnumber.focus();DispPRFA();">
<form name=AddForm action="patweb89.pbl" method=post style="margin:0"
 onsubmit='return validateMandatory(this)'>
  <input type=hidden name=reportno value="05">
  <input type=hidden name=formactn value="NR">
  <input type=hidden name=updttype value="">
  <input type=hidden name=chckname>
  <input type=hidden name=savealpr value="0">
  <input type=hidden name=redirflg value="1">
  <input type=hidden name=nextpage value="3">
  <input type=hidden name=manalloc value="1">
  <input type=hidden name=updateky value="%PATWEB89.05.700">
  <input type=hidden name=redirect value="patweb89.pbl?reportno=1&template=031">
  <input type="hidden" name=hidsname id=hidsname value="%PATWEB89.05.009">
  <input type="hidden" name=hidgname id=hidgname value="%PATWEB89.05.010">
  <input type="hidden" name=ptcnusgn  value="%STANDARD.01.025.114.219.0.1">
  <input type=hidden name=ptcnnewc value="%STANDARD.01.025.118.138.0.1">
  <input type=hidden name=praflag  value="0">
  <input type=hidden name="d_cwebDDOB" value="%STANDARD.01.025.101.098.0.8">
  <input type=hidden name=ptcnhdps id=ptcnhdps 
         value="%STANDARD.01.025.080.250.1.1">

<table align=center width=100% border=1 cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell colspan=6 align=center>
     New Patient Details </td></tr>
</table>

<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
<tr><td class=DataLabel> U/R Number </td>
<td colspan=3><input type=text name=urnumber class=mandatory size=10 tabindex=1
     maxlength=8 title="U/R Number" onChange="justifyRight(this)"></td>
    <td class=DataLabel><font color=red> QUICK REGISTRATION </font></td>
    <td><input type=checkbox name=quickreg tabindex=2 value="1" 
         onClick='clrMandatory(hidsname,hidgname,"%PATWEB89.05.019",
                               "%PATWEB89.05.020");'></td></tr>
<tr><td class=DataLabel>Title</td> 
    <td><select title="Patient Title" name=ptmas001 id=ptmas001 tabindex=1 >
        <option></option>
        %STANDARD.01.029
        </select></td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=40 maxlength=35  tabindex=7 name="ptmas008" 
         title="Address Line 1" class=Mandatory onblur="UpCase(this)"></td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=40 name=ptmas005 value="%PATWEB89.05.009"
         title="Patient Surname" maxlength=40 class=Mandatory tabindex=2 
         onblur="UpCase(this)"></td>
    <td class=DataLabel></td>
    <td><input type=text size=40 maxlength=35 name=ptmas009 tabindex=8
         title="Address Line 2" onblur="UpCase(this)"></td></tr>

<tr><td class=DataLabel id="givenNameLabel">Given Names</td>
    <td><input type=hidden name=ptmas006 title="Given Name"
         value="%PATWEB89.05.010">
        <input type=text size=42 maxlength=40 title="First Given Name" 
         tabindex=3 class=Mandatory name=pmpmi084 value="%PATWEB89.05.010" 
         onblur="UpCase(this)"></td></tr>

<tr id="pno"><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=42 maxlength=40 id="secondGivenName"
         title="Second Given Name" tabindex=4 name=pmpmi085 value=""
         onBlur="UpCase(this);"></td>

<tr style="display: none;" id="preferredSurname"><td class=DataLabel>Preferred Surname</td>
     <td><input type=text size=20 maxlength=20 title="Preferred Surname" 
     tabindex=4 name=pmpmi082 value="%PATWEB89.05.897" onblur="UpCase(this);"></td></tr>

 <tr style="display: none;" id="preferredGiven"><td class=DataLabel>Preferred Given Name</td>
     <td><input type=text size=25 maxlength=25 title="Preferred Given Name" 
     tabindex=4 name=pmpmi083 value="%PATWEB89.05.898" onblur="UpCase(this);"></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.G </td> 
    <td><select name="ptmas015" tabindex=4 class=Mandatory 
         title="%STANDARD.01.017.G " onchange="checkGenderInd(this);" >
         <option></option>
         %PATWEB89.05.086.099.061.9.1.19.3.H
         </select></td>
    <td class=DataLabel>State</td>
    <td><input type=text size=40 maxlength=35 name=ptmas011 Class=Mandatory
         title="Address Line 4" tabindex=10 value="%PATWEB89.05.015" 
         onChange="UpCase(this);"></td></tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 title="Date of Birth"
         value="%PATWEB89.05.020" tabindex=5 class="Mandatory PastDate"
         onblur="checkDate(this,'Date of Birth');
                 checkAgePRFA(UsualPRFA);"></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4 name=ptmas012 id=ptmas012 
         title="Post Code" Class=Mandatory tabindex=11 value="%PATWEB89.05.016" 
         onchange="LookupSuburb(ptmas012.value)"></td></tr>

<tr><td class=DataLabel>Estimated DOB</td>
    <td><input type=checkbox name=pmpmi006 title="Est DOB" value="1" 
         tabindex=6 ></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20 name=ptmas013  tabindex=12
         title="Home Phone No"></td></tr>
                                             
<tr><td class=HeadingCell colspan=6 width=100% align=center>
    PMI Details</td></tr>

<tr><td class=DataLabel>Religion</td>
    <td><select  name=ptmas020 tabindex=17 class="select120 Mandatory"
         title="Religion">
        <option></option>
        %PATWEB89.05.023.2
        </select></td>     
    <td class=DataLabel>Resident</td>
    <td><select name=ptmas021 tabindex=24 class=Mandatory title="Resident">
        <option></option>
        %PATWEB89.05.024.4
        </select></td>                
    <td class=DataLabel>Marital Status</td>
    <td><select  name=ptmas016 tabindex=31 class="select120 Mandatory"
         title="Marital Status">
        <option></option>
        %PATWEB89.05.069.4
        </select></td></tr>

<tr><td class=DataLabel>Baptised</td>
    <td><input type=checkbox name=d_ptmas045 title="Baptised" value="1"
         tabindex=18></td>
        <input type=hidden name=ptmas045>
    <td class=DataLabel>Medicare Number</td>
    <td><input type=text size=12 maxlength=12 tabindex=25 name=ptmas023
         id=ptmas023 onblur="checkMedicare(ptmas023);">  
        <input type=text size=1 maxlength=1 name=ptmsx045 tabindex=26></td>
    <td class=DataLabel>Previous Name</td>
    <td><input type="text" name="ptmas007" title="Previous Name"
         value="%PATWEB89.05.011" tabindex=32 onblur="UpCase(this)"></td></tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="ptmas019" tabindex=19 class="select120 Mandatory"
         title="Country of Birth" >
        <option></option>
        </select></td>
        <script type="text/javascript"> {
        SetCategoryC_(document.AddForm.ptmas019,"001") }
        </script></td>              
    <td class=DataLabel>Valid to</td>
    <td><input type=text size=12 name=pmpmi016 title="Valid to" tabindex=27 
         onblur="checkDateSV(this,'Valid to');" ></td>     
    <td class=DataLabel>Privacy Indicator</td>
    <td><select name=pmpmi066 class=select120 tabindex=33>
        <option></option>
        %STANDARD.01.007.PV
        </select></td></tr>

<tr><td class=DataLabel>Aboriginality </td>
    <td><select name=pmpmi065 tabindex=20 class="select120 Mandatory"
         title="Aboriginality">
        <option></option>
        %STANDARD.01.007.VA
        </select></td>  
    <td class=DataLabel>Health Fund </td>
    <td><input type=text size=6 maxlength=6 name=ptmas036 id=ptmas036 
         tabindex=28 class=Mandatory title="Health Fund"
         value="%PATWEB89.05.040.0"
         onchange="validateCode(16,ptmas036,funddesc);checkTable05();">
        <input type=text size=30 maxlength=30 name=funddesc id=funddesc
         class=readonly Readonly notab value="%PATWEB89.05.040.1"></td>
    <td class=DataLabel>U/R No.Merge only</td>
    <td><input type=checkbox name=ptmas046 title="Merge" value="1" 
         tabindex=34></td></tr>      

<tr><td class=DataLabel>Interpreter Req</td>
    <td><select name=pmpmi001 title="Interpreter Required" tabindex=21>
        %PATWEB89.05.801.2
        </select></td>    
    <td class=DataLabel>Ins Level</td>
    <td width=22%><input name="ptmas037" id=ptmas037 size=8 maxlength=8 
         class=Mandatory title="Health Fund" tabindex=29 
         value="%PATWEB89.05.041.0"
         onblur="validateHFT(20,ptmas036,ptmas037,funddesc,tabldesc);">
        <input type="text" size=15 maxlength=17 name="tabldesc" id=tabldesc
         class=readonly Readonly notab value="%PATWEB89.05.041.1" >
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="HealthFundSearchFrame(ptmas036,funddesc,ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onClick="clrFields(ptmas036,ptmas037,funddesc,tabldesc);
                  checkTable05();"></td>

<!--<td class=DataLabel>Usual GP </td>
    <td width=20%><input type=hidden name=pmpmi059>
        <input type=text readonly name=genpname>
        <img src="../images/SearchIcon.gif"
         onClick="HCPSearchFrame(pmpmi059,genpname,3)"></td>
-->
    <td class=DataLabel>Usual GP</td>
    <td nowrap width=20%><input type=hidden notab name=pmpmi059 id=pmpmi059>
        <input type=text readonly name=genpname id=genpname>
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="GPHCPSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                   genpprac,pmpmi061,3)">
        <img src="../images/erase.gif" class=Icon
         onClick="clrFields(pmpmi059,genpname);">
        Practice
        <input type=hidden name=pmpmi060 id=pmpmi060>
        <input type=hidden name=pmpmi061 id=pmpmi061>
        <input type=hidden name=genpprov id=genpprov>
        <input type=text readonly name=genpprac id=genpprac>
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="GPHCGSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                   genpprac,pmpmi061)">
        <img src="../images/erase.gif" class=Icon
         onClick="clrFields(pmpmi060,genpprac,pmpmi061,genpprov);"></td></tr>

<tr><td class=DataLabel>Pref Language 1</td>
    <td><select name=pmpmi002 tabindex=22 class="select120 Mandatory"
         title="Preferred Language">
        <option></option>
        %STANDARD.01.021.LA
        </select></td> 
    <td class=DataLabel>Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038 tabindex=30></td>
    <td class=DataLabel>Consent for info release</td>
    <td><select name=pmpmi067 tabindex=35>
        <option>  </option>
        <option value="0"> No </option>
        <option value="1"> Yes </option>
        </select></td></tr>

<tr><td class=DataLabel>Pref Language 2</td>
    <td><select name=pmpmi003 tabindex=23 class=select120
         title="Preferred Language">
        <option></option>
        %STANDARD.01.007.LA
        </select></td>
    <td class=DataLabel>Usual PRFA</td>
    <td><div id=PRFAField></div></td>
    <td class=DataLabel>MHSW PI</td>
    <td><input type=text size=14 maxlength=12 name=pmpmi018
         tabindex=35></td></tr>

<tr><td>&nbsp</td>
    <td>&nbsp</td>
    <td>&nbsp</td>
    <td>&nbsp</td>
    <td class=DataLabel>Concession Card</td>
    <td><select name=pmpmi062 tabindex=36 class=Mandatory 
         title="Concession Card">
        <option></option>
        <option value="0"> No </option>
        <option value="1"> Yes </option>
        </select></td></tr>

<tr><td colspan=6 class=HeadingCell align=center > 
  <script type="text/javascript">URDesc();</script> Comments </td></tr>
<tr><td colspan=6 align=center>
    <textarea wrap=hard name=urcommnt rows=2 cols=70 notab>
    </textarea></td></tr>


<tr><td colspan=6 class=HeadingCell align=center > 
      Death Details </td></tr>

<tr><td class=DataLabel> Date of Death</td>
    <td><input type=hidden name=ptmas029>
        <input type=text size=12 name=ptmas061 id=ptmas061 title="Date of Death"
         notab onBlur="confirmDeath05(this,'Date of Death')">
        <img notab src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(ptmas061);"></td>
    <td class=DataLabel>Unknown Date of Death </td>
    <td><input type=checkbox name=ptmas067 value="Y" notab
        onclick="confirmDeath05(ptmas061,'Date of Death')"></td>
    <td class=DataLabel>Death Notification </td>
    <td><select name=pmpmi017 class=select120 notab title="Death Notification">
        <option></option>
        %STANDARD.01.007.DY
        </select></td></tr>

</table>

<table width=100% border=0>
<tr><td colspan=6 class=HeadingCell align=center >&nbsp</td></tr> 
<tr><td align=center>
    <input type=button value="Register" class="button" tabindex=37
     id="pat89sub" onClick="tempDisable(this);clickRegisterButton();">
    <input type=button value="Cancel" class="button" tabindex=38
     onclick="history.go(-1)"> </td></tr>
</table>

<div id=SelectHeading></div>
<div id=SelectLocation></div>

</form>

<script type="text/javascript">
UsualPRFA="%PATWEB89.05.909"

var addedFieldSuburbLabel = document.createElement("td");
var addedFieldSuburb = document.createElement("td");

addedFieldSuburb.innerHTML = '<input type=text size=40 ' +
'maxlength=35 name=ptmas010 Class=Mandatory title="Address Line 3" tabindex=9 ' +
'onChange="LookupPostCode(AddForm.ptmas010.value);UpCase(this);">';
addedFieldSuburbLabel.innerHTML = "Suburb";

var arrayOfNewFields = [addedFieldSuburbLabel, addedFieldSuburb];

setUpHTMLPreferredName("%PATWEB89.05.999.099.004", arrayOfNewFields);
</script>

<div id=UsualPRFARow style="display:none">
<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
    <tr><td><select name=pmpmi076 id=pmpmi076 class=select120 tabindex=30
         title="Usual PRFA">
        <option></option>
        <option value="0">Patient</option>
        <option value="1">Contact 1</option>
        <option value="2">Contact 2</option>
        <option value="3">Contact 3</option>
        <option value="4">Contact 4</option>
        <option value="5">Contact 5</option>
        </select></td>
  </tr>
</table>
</div>

<div id=CodePRFARow style="display:none">
<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
    <tr><td><select name=pmpmi104 id=pmpmi104 class=select120 tabindex=30
         title="Usual PRFA">
        <option></option>
        %STANDARD.01.007.tc
        </select></td>
  </tr>
</table>
</div>

